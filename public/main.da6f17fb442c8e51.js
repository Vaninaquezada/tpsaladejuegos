"use strict";(self.webpackChunktpsaladejuegos=self.webpackChunktpsaladejuegos||[]).push([[179],{675:()=>{function Pe(t){return"function"==typeof t}function dl(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yf=dl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function qa(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(s){e=s instanceof Yf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{CR(s)}catch(o){e=e??[],o instanceof Yf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)CR(e);else{if(e instanceof Ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qa(n,e)}remove(e){const{_finalizers:n}=this;n&&qa(n,e),e instanceof Ln&&e._removeParent(this)}}Ln.EMPTY=(()=>{const t=new Ln;return t.closed=!0,t})();const IR=Ln.EMPTY;function ER(t){return t instanceof Ln||t&&"closed"in t&&Pe(t.remove)&&Pe(t.add)&&Pe(t.unsubscribe)}function CR(t){Pe(t)?t():t.unsubscribe()}const xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xf={setTimeout(t,e,...n){const{delegate:r}=Xf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bR(t){Xf.setTimeout(()=>{const{onUnhandledError:e}=xo;if(!e)throw t;e(t)})}function xv(){}const d9=Nv("C",void 0,void 0);function Nv(t,e,n){return{kind:t,value:e,error:n}}let No=null;function Jf(t){if(xo.useDeprecatedSynchronousErrorHandling){const e=!No;if(e&&(No={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=No;if(No=null,n)throw r}}else t()}class Mv extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ER(e)&&e.add(this)):this.destination=y9}static create(e,n,r){return new hl(e,n,r)}next(e){this.isStopped?kv(function f9(t){return Nv("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?kv(function h9(t){return Nv("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kv(d9,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g9=Function.prototype.bind;function Rv(t,e){return g9.call(t,e)}class m9{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zf(r)}else Zf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zf(n)}}}class hl extends Mv{constructor(e,n,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&xo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rv(e.next,s),error:e.error&&Rv(e.error,s),complete:e.complete&&Rv(e.complete,s)}):i=e}this.destination=new m9(i)}}function Zf(t){xo.useDeprecatedSynchronousErrorHandling?function p9(t){xo.useDeprecatedSynchronousErrorHandling&&No&&(No.errorThrown=!0,No.error=t)}(t):bR(t)}function kv(t,e){const{onStoppedNotification:n}=xo;n&&Xf.setTimeout(()=>n(t,e))}const y9={closed:!0,next:xv,error:function _9(t){throw t},complete:xv},Pv="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(t){return t}function TR(t){return 0===t.length?ws:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let tt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function I9(t){return t&&t instanceof Mv||function w9(t){return t&&Pe(t.next)&&Pe(t.error)&&Pe(t.complete)}(t)&&ER(t)}(n)?n:new hl(n,r,i);return Jf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=DR(r))((i,s)=>{const o=new hl({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Pv](){return this}pipe(...n){return TR(n)(this)}toPromise(n){return new(n=DR(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function DR(t){var e;return null!==(e=t??xo.Promise)&&void 0!==e?e:Promise}const E9=dl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ar=(()=>{class t extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new SR(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new E9}next(n){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?IR:(this.currentObservers=null,s.push(n),new Ln(()=>{this.currentObservers=null,qa(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new tt;return n.source=this,n}}return t.create=(e,n)=>new SR(e,n),t})();class SR extends Ar{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:IR}}function AR(t){return Pe(t?.lift)}function xt(t){return e=>{if(AR(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,i){return new C9(t,e,n,r,i)}class C9 extends Mv{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(t,e){return xt((n,r)=>{let i=0;n.subscribe(Ct(r,s=>{r.next(t.call(e,s,i++))}))})}function Lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Is(t){return this instanceof Is?(this.v=t,this):new Is(t)}function RR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Uv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const kR=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function PR(t){return Pe(t?.then)}function OR(t){return Pe(t[Pv])}function FR(t){return Symbol.asyncIterator&&Pe(t?.[Symbol.asyncIterator])}function LR(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const VR=function G9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UR(t){return Pe(t?.[VR])}function BR(t){return function MR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Is?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Is(n.read());if(i)return yield Is(void 0);yield yield Is(r)}}finally{n.releaseLock()}})}function $R(t){return Pe(t?.getReader)}function Zn(t){if(t instanceof tt)return t;if(null!=t){if(OR(t))return function z9(t){return new tt(e=>{const n=t[Pv]();if(Pe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(kR(t))return function q9(t){return new tt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(PR(t))return function W9(t){return new tt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bR)})}(t);if(FR(t))return jR(t);if(UR(t))return function K9(t){return new tt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if($R(t))return function Q9(t){return jR(BR(t))}(t)}throw LR(t)}function jR(t){return new tt(e=>{(function Y9(t,e){var n,r,i,s;return function xR(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=RR(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ri(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yt(t,e,n=1/0){return Pe(e)?Yt((r,i)=>Oe((s,o)=>e(r,s,i,o))(Zn(t(r,i))),n):("number"==typeof e&&(n=e),xt((r,i)=>function X9(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Zn(n(g,l++)).subscribe(Ct(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?Ri(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Wa(t=1/0){return Yt(ws,t)}const Qr=new tt(t=>t.complete());function Bv(t){return t[t.length-1]}function HR(t){return Pe(Bv(t))?t.pop():void 0}function fl(t){return function Z9(t){return t&&Pe(t.schedule)}(Bv(t))?t.pop():void 0}function ep(t,e=0){return xt((n,r)=>{n.subscribe(Ct(r,i=>Ri(r,t,()=>r.next(i),e),()=>Ri(r,t,()=>r.complete(),e),i=>Ri(r,t,()=>r.error(i),e)))})}function tp(t,e=0){return xt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function GR(t,e){if(!t)throw new Error("Iterable cannot be null");return new tt(n=>{Ri(n,e,()=>{const r=t[Symbol.asyncIterator]();Ri(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lt(t,e){return e?function o5(t,e){if(null!=t){if(OR(t))return function t5(t,e){return Zn(t).pipe(tp(e),ep(e))}(t,e);if(kR(t))return function r5(t,e){return new tt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(PR(t))return function n5(t,e){return Zn(t).pipe(tp(e),ep(e))}(t,e);if(FR(t))return GR(t,e);if(UR(t))return function i5(t,e){return new tt(n=>{let r;return Ri(n,e,()=>{r=t[VR](),Ri(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(t,e);if($R(t))return function s5(t,e){return GR(BR(t),e)}(t,e)}throw LR(t)}(t,e):Zn(t)}class pr extends Ar{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...t){return Lt(t,fl(t))}function zR(t={}){const{connector:e=(()=>new Ar),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return xt((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=$v(p,i))}),v.subscribe(m),!o&&c>0&&(o=new hl({next:y=>v.next(y),error:y=>{d=!0,h(),a=$v(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=$v(f,r),v.complete()}}),Zn(g).subscribe(o))})(s)}}function $v(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new hl({next:()=>{r.unsubscribe(),t()}});return Zn(e(...n)).subscribe(r)}function Yr(t,e){return xt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ct(r,u=>{i?.unsubscribe();let c=0;const l=s++;Zn(t(u,l)).subscribe(i=Ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function c5(t,e){return t===e}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function np(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function jv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const l5=Ae({__forward_ref__:Ae});function Ve(t){return t.__forward_ref__=Ve,t.toString=function(){return Nt(this())},t}function W(t){return Hv(t)?t():t}function Hv(t){return"function"==typeof t&&t.hasOwnProperty(l5)&&t.__forward_ref__===Ve}function Gv(t){return t&&!!t.\u0275providers}const qR="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function rp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function zv(t,e){throw new T(-201,!1)}function gr(t,e){null==t&&function G(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ip(t){return WR(t,op)||WR(t,KR)}function WR(t,e){return t.hasOwnProperty(e)?t[e]:null}function sp(t){return t&&(t.hasOwnProperty(qv)||t.hasOwnProperty(y5))?t[qv]:null}const op=Ae({\u0275prov:Ae}),qv=Ae({\u0275inj:Ae}),KR=Ae({ngInjectableDef:Ae}),y5=Ae({ngInjectorDef:Ae});var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{});let Wv;function Vn(t){const e=Wv;return Wv=t,e}function YR(t,e,n){const r=ip(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ie.Optional?null:void 0!==e?e:void zv(Nt(t))}const Ue=globalThis,pl={},Jv="__NG_DI_FLAG__",ap="ngTempTokenPath",I5=/\n/gm,JR="__source";let Ka;function Es(t){const e=Ka;return Ka=t,e}function b5(t,e=ie.Default){if(void 0===Ka)throw new T(-203,!1);return null===Ka?YR(t,void 0,e):Ka.get(t,e&ie.Optional?null:void 0,e)}function $(t,e=ie.Default){return(function QR(){return Wv}()||b5)(W(t),e)}function V(t,e=ie.Default){return $(t,up(e))}function up(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zv(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],u=T5(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function gl(t,e){return t[Jv]=e,t.prototype[Jv]=e,t}function T5(t){return t[Jv]}function ki(t){return{toString:t}.toString()}var cp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(cp||{}),xr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xr||{});const Xr={},ve=[],lp=Ae({\u0275cmp:Ae}),ew=Ae({\u0275dir:Ae}),tw=Ae({\u0275pipe:Ae}),ek=Ae({\u0275mod:Ae}),Pi=Ae({\u0275fac:Ae}),ml=Ae({__NG_ELEMENT_ID__:Ae}),tk=Ae({__NG_ENV_ID__:Ae});function nk(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function nw(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ik(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rk(t){return 3===t||4===t||6===t}function ik(t){return 64===t.charCodeAt(0)}function _l(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sk(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sk(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ok="ng-template";function A5(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==nk(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ak(t){return 4===t.type&&t.value!==ok}function x5(t,e,n){return e===(4!==t.type||n?t.value:ok)}function N5(t,e,n){let r=4;const i=t.attrs||[],s=function k5(t){for(let e=0;e<t.length;e++)if(rk(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!x5(t,u,n)||""===u&&1===e.length){if(Nr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!A5(t.attrs,c,n)){if(Nr(r))return!1;o=!0}continue}const d=M5(8&r?"class":u,i,ak(t),n);if(-1===d){if(Nr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==nk(f,c,0)||2&r&&c!==h){if(Nr(r))return!1;o=!0}}}}else{if(!o&&!Nr(r)&&!Nr(u))return!1;if(o&&Nr(u))continue;o=!1,r=u|1&r}}return Nr(r)||o}function Nr(t){return 0==(1&t)}function M5(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function P5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function uk(t,e,n=!1){for(let r=0;r<e.length;r++)if(N5(t,e[r],n))return!0;return!1}function ck(t,e){return t?":not("+e.trim()+")":e}function F5(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Nr(o)&&(e+=ck(s,i),i=""),r=o,s=s||!Nr(r);n++}return""!==i&&(e+=ck(s,i)),e}function Cs(t){return ki(()=>{const e=dk(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xr.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};hk(n);const r=t.dependencies;return n.directiveDefs=dp(r,!1),n.pipeDefs=dp(r,!0),n.id=function G5(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function B5(t){return pe(t)||Xt(t)}function $5(t){return null!==t}function Mt(t){return ki(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lk(t,e){if(null==t)return Xr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return ki(()=>{const e=dk(t);return hk(e),e})}function pe(t){return t[lp]||null}function Xt(t){return t[ew]||null}function En(t){return t[tw]||null}function tr(t,e){const n=t[ek]||null;if(!n&&!0===e)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return n}function dk(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lk(t.inputs,e),outputs:lk(t.outputs)}}function hk(t){t.features?.forEach(e=>e(t))}function dp(t,e){if(!t)return null;const n=e?En:B5;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter($5)}const at=0,P=1,ee=2,Ye=3,Mr=4,yl=5,dn=6,Ya=7,gt=8,bs=9,Xa=10,X=11,vl=12,fk=13,Ja=14,mt=15,wl=16,Za=17,Jr=18,Il=19,pk=20,Ts=21,Oi=22,El=23,Cl=24,le=25,rw=1,gk=2,Zr=7,eu=9,Jt=11;function Bn(t){return Array.isArray(t)&&"object"==typeof t[rw]}function Cn(t){return Array.isArray(t)&&!0===t[rw]}function iw(t){return 0!=(4&t.flags)}function Ro(t){return t.componentOffset>-1}function fp(t){return 1==(1&t.flags)}function Rr(t){return!!t.template}function sw(t){return 0!=(512&t[ee])}function ko(t,e){return t.hasOwnProperty(Pi)?t[Pi]:null}let Zt=null,pp=!1;function mr(t){const e=Zt;return Zt=t,e}const gp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wk(t){if(!Tl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ck(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ek(t){t.dirty=!0,function Ik(t){if(void 0===t.liveConsumerNode)return;const e=pp;pp=!0;try{for(const n of t.liveConsumerNode)n.dirty||Ek(n)}finally{pp=e}}(t),t.consumerMarkedDirty?.(t)}function mp(t){return t&&(t.nextProducerIndex=0),mr(t)}function _p(t,e){if(mr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Tl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)yp(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ck(t){tu(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wk(n),r!==n.version))return!0}return!1}function bk(t){if(tu(t),Tl(t))for(let e=0;e<t.producerNode.length;e++)yp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yp(t,e){if(function Dk(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),tu(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)yp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tu(i),i.producerIndexOfThis[r]=e}}function Tl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Sk=null;const Mk=()=>{},n7={...gp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mk};class r7{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _r(){return Rk}function Rk(t){return t.type.prototype.ngOnChanges&&(t.setInput=s7),i7}function i7(){const t=Pk(this),e=t?.current;if(e){const n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function s7(t,e,n,r){const i=this.declaredInputs[n],s=Pk(t)||function o7(t,e){return t[kk]=e}(t,{previous:Xr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new r7(u&&u.currentValue,e,a===Xr),t[r]=e}_r.ngInherit=!0;const kk="__ngSimpleChanges__";function Pk(t){return t[kk]||null}const ei=function(t,e,n){};function Be(t){for(;Array.isArray(t);)t=t[at];return t}function wp(t,e){return Be(e[t])}function $n(t,e){return Be(e[t.index])}function Lk(t,e){return t.data[e]}function nr(t,e){const n=e[t];return Bn(n)?n:n[at]}function Ss(t,e){return null==e?null:t[e]}function Vk(t){t[Za]=0}function h7(t){1024&t[ee]||(t[ee]|=1024,Bk(t,1))}function Uk(t){1024&t[ee]&&(t[ee]&=-1025,Bk(t,-1))}function Bk(t,e){let n=t[Ye];if(null===n)return;n[yl]+=e;let r=n;for(n=n[Ye];null!==n&&(1===e&&1===r[yl]||-1===e&&0===r[yl]);)n[yl]+=e,r=n,n=n[Ye]}const z={lFrame:Xk(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hk(){return z.bindingsEnabled}function C(){return z.lFrame.lView}function ge(){return z.lFrame.tView}function en(){let t=Gk();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gk(){return z.lFrame.currentTNode}function ti(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function fw(){return z.lFrame.isParent}function iu(){return z.lFrame.bindingIndex++}function D7(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,gw(e)}function gw(t){z.lFrame.currentDirectiveIndex=t}function _w(t){z.lFrame.currentQueryIndex=t}function A7(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[dn]:null}function Qk(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ie.Host||(i=A7(s),null===i||(s=s[Ja],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=Yk();return r.currentTNode=e,r.lView=t,!0}function yw(t){const e=Yk(),n=t[P];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Yk(){const t=z.lFrame,e=null===t?null:t.child;return null===e?Xk(t):e}function Xk(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Jk(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zk=Jk;function vw(){const t=Jk();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tn(){return z.lFrame.selectedIndex}function Po(t){z.lFrame.selectedIndex=t}function nt(){const t=z.lFrame;return Lk(t.tView,t.selectedIndex)}let t1=!0;function Ip(){return t1}function As(t){t1=t}function Ep(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Cp(t,e,n){n1(t,e,3,n)}function bp(t,e,n,r){(3&t[ee])===n&&n1(t,e,n,r)}function ww(t,e){let n=t[ee];(3&n)===e&&(n&=8191,n+=1,t[ee]=n)}function n1(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Za]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Za]+=65536),(a<s||-1==s)&&(F7(t,n,e,u),t[Za]=(4294901760&t[Za])+u+2),u++}function r1(t,e){ei(4,t,e);const n=mr(null);try{e.call(t)}finally{mr(n),ei(5,t,e)}}function F7(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ee]>>13<t[Za]>>16&&(3&t[ee])===e&&(t[ee]+=8192,r1(a,s)):r1(a,s)}const su=-1;class Sl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ew(t){return t!==su}function Al(t){return 32767&t}function xl(t,e){let n=function B7(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ja],n--;return r}let Cw=!0;function Tp(t){const e=Cw;return Cw=t,e}const i1=255,s1=5;let $7=0;const ni={};function Dp(t,e){const n=o1(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,bw(r.data,t),bw(e,null),bw(r.blueprint,null));const i=Sp(t,e),s=t.injectorIndex;if(Ew(i)){const o=Al(i),a=xl(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function bw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function o1(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Sp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=f1(i),null===r)return su;if(n++,i=i[Ja],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return su}function Tw(t,e,n){!function j7(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ml)&&(r=n[ml]),null==r&&(r=n[ml]=$7++);const i=r&i1;e.data[t+(i>>s1)]|=1<<i}(t,e,n)}function a1(t,e,n){if(n&ie.Optional||void 0!==t)return t;zv()}function u1(t,e,n,r){if(n&ie.Optional&&void 0===r&&(r=null),!(n&(ie.Self|ie.Host))){const i=t[bs],s=Vn(void 0);try{return i?i.get(e,r,n&ie.Optional):YR(e,r,n&ie.Optional)}finally{Vn(s)}}return a1(r,0,n)}function c1(t,e,n,r=ie.Default,i){if(null!==t){if(2048&e[ee]&&!(r&ie.Self)){const o=function K7(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ee]&&!(512&o[ee]);){const a=l1(s,o,n,r|ie.Self,ni);if(a!==ni)return a;let u=s.parent;if(!u){const c=o[pk];if(c){const l=c.get(n,ni,r);if(l!==ni)return l}u=f1(o),o=o[Ja]}s=u}return i}(t,e,n,r,ni);if(o!==ni)return o}const s=l1(t,e,n,r,ni);if(s!==ni)return s}return u1(e,n,r,i)}function l1(t,e,n,r,i){const s=function z7(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ml)?t[ml]:void 0;return"number"==typeof e?e>=0?e&i1:W7:e}(n);if("function"==typeof s){if(!Qk(e,t,r))return r&ie.Host?a1(i,0,r):u1(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ie.Optional)return o;zv()}finally{Zk()}}else if("number"==typeof s){let o=null,a=o1(t,e),u=su,c=r&ie.Host?e[mt][dn]:null;for((-1===a||r&ie.SkipSelf)&&(u=-1===a?Sp(t,e):e[a+8],u!==su&&h1(r,!1)?(o=e[P],a=Al(u),e=xl(u,e)):a=-1);-1!==a;){const l=e[P];if(d1(s,a,l.data)){const d=G7(a,e,n,o,r,c);if(d!==ni)return d}u=e[a+8],u!==su&&h1(r,e[P].data[a+8]===c)&&d1(s,a,e)?(o=l,a=Al(u),e=xl(u,e)):a=-1}}return i}function G7(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function Ap(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Rr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ro(a)&&Cw:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==l?Oo(e,o,l,a):ni}function Oo(t,e,n,r){let i=t[n];const s=e.data;if(function L7(t){return t instanceof Sl}(i)){const o=i;o.resolving&&function d5(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=Tp(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Vn(o.injectImpl):null;Qk(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function O7(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Rk(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Vn(c),Tp(a),o.resolving=!1,Zk()}}return i}function d1(t,e,n){return!!(n[e+(t>>s1)]&1<<t)}function h1(t,e){return!(t&ie.Self||t&ie.Host&&e)}class Dn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return c1(this._tNode,this._lView,e,up(r),n)}}function W7(){return new Dn(en(),C())}function tn(t){return ki(()=>{const e=t.prototype.constructor,n=e[Pi]||Dw(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Pi]||Dw(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Dw(t){return Hv(t)?()=>{const e=Dw(W(t));return e&&e()}:ko(t)}function f1(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[dn]:null}const au="__parameters__";function cu(t,e,n){return ki(()=>{const r=function Sw(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(au)?u[au]:Object.defineProperty(u,au,{value:[]})[au];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function du(t,e){t.forEach(n=>Array.isArray(n)?du(n,e):e(n))}function g1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Np(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rr(t,e,n){let r=hu(t,e);return r>=0?t[1|r]=n:(r=~r,function t8(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Aw(t,e){const n=hu(t,e);if(n>=0)return t[1|n]}function hu(t,e){return function m1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ee=gl(cu("Optional"),8),Rp=gl(cu("SkipSelf"),4);function Lp(t){return 128==(128&t.flags)}var xs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xs||{});const kw=new Map;let T8=0;const Ow="__ngContext__";function hn(t,e){Bn(e)?(t[Ow]=e[Il],function S8(t){kw.set(t[Il],t)}(e)):t[Ow]=e}let Fw;function Lw(t,e){return Fw(t,e)}function Ol(t){const e=t[Ye];return Cn(e)?e[Ye]:e}function F1(t){return V1(t[vl])}function L1(t){return V1(t[Mr])}function V1(t){for(;null!==t&&!Cn(t);)t=t[Mr];return t}function gu(t,e,n,r,i){if(null!=r){let s,o=!1;Cn(r)?s=r:Bn(r)&&(o=!0,r=r[at]);const a=Be(r);0===t&&null!==n?null==i?j1(e,n,a):Fo(e,n,a,i||null,!0):1===t&&null!==n?Fo(e,n,a,i||null,!0):2===t?function Gp(t,e,n){const r=jp(t,e);r&&function q8(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Q8(t,e,n,r,i){const s=n[Zr];s!==Be(n)&&gu(e,t,r,s,i);for(let a=Jt;a<n.length;a++){const u=n[a];Ll(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function Bp(t,e,n){return t.createElement(e,n)}function B1(t,e){const n=t[eu],r=n.indexOf(e);Uk(e),n.splice(r,1)}function $p(t,e){if(t.length<=Jt)return;const n=Jt+e,r=t[n];if(r){const i=r[wl];null!==i&&i!==t&&B1(i,r),e>0&&(t[n-1][Mr]=r[Mr]);const s=Np(t,Jt+e);!function V8(t,e){Ll(t,e,e[X],2,null,null),e[at]=null,e[dn]=null}(r[P],r);const o=s[Jr];null!==o&&o.detachView(s[P]),r[Ye]=null,r[Mr]=null,r[ee]&=-129}return r}function Uw(t,e){if(!(256&e[ee])){const n=e[X];e[El]&&bk(e[El]),e[Cl]&&bk(e[Cl]),n.destroyNode&&Ll(t,e,n,3,null,null),function $8(t){let e=t[vl];if(!e)return Bw(t[P],t);for(;e;){let n=null;if(Bn(e))n=e[vl];else{const r=e[Jt];r&&(n=r)}if(!n){for(;e&&!e[Mr]&&e!==t;)Bn(e)&&Bw(e[P],e),e=e[Ye];null===e&&(e=t),Bn(e)&&Bw(e[P],e),n=e&&e[Mr]}e=n}}(e)}}function Bw(t,e){if(!(256&e[ee])){e[ee]&=-129,e[ee]|=256,function z8(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Sl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];ei(4,a,u);try{u.call(a)}finally{ei(5,a,u)}}else{ei(4,i,s);try{s.call(i)}finally{ei(5,i,s)}}}}}(t,e),function G8(t,e){const n=t.cleanup,r=e[Ya];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ya]=null);const i=e[Ts];if(null!==i){e[Ts]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[P].type&&e[X].destroy();const n=e[wl];if(null!==n&&Cn(e[Ye])){n!==e[Ye]&&B1(n,e);const r=e[Jr];null!==r&&r.detachView(t)}!function A8(t){kw.delete(t[Il])}(e)}}function $w(t,e,n){return function $1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[at];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===xr.None||s===xr.Emulated)return null}return $n(r,n)}}(t,e.parent,n)}function Fo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function j1(t,e,n){t.appendChild(e,n)}function H1(t,e,n,r,i){null!==r?Fo(t,e,n,r,i):j1(t,e,n)}function jp(t,e){return t.parentNode(e)}let jw,qw,qp,q1=function z1(t,e,n){return 40&t.type?$n(t,n):null};function Hp(t,e,n,r){const i=$w(t,r,e),s=e[X],a=function G1(t,e,n){return q1(t,e,n)}(r.parent||e[dn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)H1(s,i,n[u],a,!1);else H1(s,i,n,a,!1);void 0!==jw&&jw(s,r,e,n,i)}function Fl(t,e){if(null!==e){const n=e.type;if(3&n)return $n(e,t);if(4&n)return Hw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Fl(t,r);{const i=t[e.index];return Cn(i)?Hw(-1,i):Be(i)}}if(32&n)return Lw(e,t)()||Be(t[e.index]);{const r=K1(t,e);return null!==r?Array.isArray(r)?r[0]:Fl(Ol(t[mt]),r):Fl(t,e.next)}}return null}function K1(t,e){return null!==e?t[mt][dn].projection[e.projection]:null}function Hw(t,e){const n=Jt+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return Fl(r,i)}return e[Zr]}function Gw(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&hn(Be(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Gw(t,e,n.child,r,i,s,!1),gu(e,t,i,a,s);else if(32&u){const c=Lw(n,r);let l;for(;l=c();)gu(e,t,i,l,s);gu(e,t,i,a,s)}else 16&u?Y1(t,e,r,n,i,s):gu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ll(t,e,n,r,i,s){Gw(n,r,t.firstChild,e,i,s,!1)}function Y1(t,e,n,r,i,s){const o=n[mt],u=o[dn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)gu(e,t,i,u[c],s);else{let c=u;const l=o[Ye];Lp(r)&&(c.flags|=128),Gw(t,e,c,l,i,s,!0)}}function X1(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function J1(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&nw(t,e,r),null!==i&&X1(t,e,i),null!==s&&function X8(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function tP(t){return function Ww(){if(void 0===qp&&(qp=null,Ue.trustedTypes))try{qp=Ue.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qp}()?.createScriptURL(t)||t}class nP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qR})`}}function Ns(t){return t instanceof nP?t.changingThisBreaksApplicationSecurity:t}function Vl(t,e){const n=function aK(t){return t instanceof nP&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qR})`)}return n===e}const dK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var yu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yu||{});function cP(t){const e=Bl();return e?e.sanitize(yu.URL,t)||"":Vl(t,"URL")?Ns(t):function Kw(t){return(t=String(t)).match(dK)?t:"unsafe:"+t}(Y(t))}function lP(t){const e=Bl();if(e)return tP(e.sanitize(yu.RESOURCE_URL,t)||"");if(Vl(t,"ResourceURL"))return tP(Ns(t));throw new T(904,!1)}function Bl(){const t=C();return t&&t[Xa].sanitizer}class O{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $l=new O("ENVIRONMENT_INITIALIZER"),hP=new O("INJECTOR",-1),fP=new O("INJECTOR_DEF_TYPES");class Jw{get(e,n=pl){if(n===pl){const r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return n}}function bK(...t){return{\u0275providers:gP(0,t),\u0275fromNgModule:!0}}function gP(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return du(e,o=>{const a=o;Kp(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&mP(i,s),n}function mP(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Zw(i,s=>{e(s,r)})}}function Kp(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=sp(t);const o=!s&&pe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=sp(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Kp(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{du(s.imports,l=>{Kp(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&mP(c,e)}if(!a){const c=ko(i)||(()=>new i);e({provide:i,useFactory:c,deps:ve},i),e({provide:fP,useValue:i,multi:!0},i),e({provide:$l,useValue:()=>$(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Zw(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Zw(t,e){for(let n of t)Gv(n)&&(n=n.\u0275providers),Array.isArray(n)?Zw(n,e):e(n)}const TK=Ae({provide:String,useValue:Ae});function eI(t){return null!==t&&"object"==typeof t&&TK in t}function Lo(t){return"function"==typeof t}const tI=new O("Set Injector scope."),Qp={},SK={};let nI;function Yp(){return void 0===nI&&(nI=new Jw),nI}class vr{}class Xp extends vr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iI(e,o=>this.processProvider(o)),this.records.set(hP,vu(void 0,this)),i.has("environment")&&this.records.set(vr,vu(void 0,this));const s=this.records.get(tI);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fP.multi,ve,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Es(this),r=Vn(void 0);try{return e()}finally{Es(n),Vn(r)}}get(e,n=pl,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tk))return e[tk](this);r=up(r);const s=Es(this),o=Vn(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function RK(t){return"function"==typeof t||"object"==typeof t&&t instanceof O}(e)&&ip(e);u=c&&this.injectableDefInScope(c)?vu(rI(e),Qp):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ie.Self?Yp():this.parent).get(e,n=r&ie.Optional&&n===pl?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ap]=a[ap]||[]).unshift(Nt(e)),s)throw a;return function D5(t,e,n,r){const i=t[ap];throw e[JR]&&i.unshift(e[JR]),t.message=function S5(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(I5,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ap]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Vn(o),Es(s)}}resolveInjectorInitializers(){const e=Es(this),n=Vn(void 0);try{const i=this.get($l.multi,ve,ie.Self);for(const s of i)s()}finally{Es(e),Vn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Lo(e=W(e))?e:W(e&&e.provide);const r=function xK(t){return eI(t)?vu(void 0,t.useValue):vu(vP(t),Qp)}(e);if(Lo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=vu(void 0,Qp,!0),i.factory=()=>Zv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Qp&&(n.value=SK,n.value=n.factory()),"object"==typeof n.value&&n.value&&function MK(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function rI(t){const e=ip(t),n=null!==e?e.factory:ko(t);if(null!==n)return n;if(t instanceof O)throw new T(204,!1);if(t instanceof Function)return function AK(t){const e=t.length;if(e>0)throw function Rl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function _5(t){return t&&(t[op]||t[KR])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function vP(t,e,n){let r;if(Lo(t)){const i=W(t);return ko(i)||rI(i)}if(eI(t))r=()=>W(t.useValue);else if(function yP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Zv(t.deps||[]));else if(function _P(t){return!(!t||!t.useExisting)}(t))r=()=>$(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function NK(t){return!!t.deps}(t))return ko(i)||rI(i);r=()=>new i(...Zv(t.deps))}return r}function vu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iI(t,e){for(const n of t)Array.isArray(n)?iI(n,e):n&&Gv(n)?iI(n.\u0275providers,e):e(n)}const Jp=new O("AppId",{providedIn:"root",factory:()=>kK}),kK="ng",wP=new O("Platform Initializer"),Ms=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IP=new O("CSP nonce",{providedIn:"root",factory:()=>function _u(){if(void 0!==qw)return qw;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let EP=(t,e,n)=>null;function hI(t,e,n=!1){return EP(t,e,n)}class HK{}class TP{}class zK{resolveComponentFactory(e){throw function GK(t){const e=Error(`No component factory found for ${Nt(t)}.`);return e.ngComponent=t,e}(e)}}let ig=(()=>{class e{}return e.NULL=new zK,e})();function qK(){return Eu(en(),C())}function Eu(t,e){return new ir($n(t,e))}let ir=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=qK,e})();class SP{}let Ui=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function KK(){const t=C(),n=nr(en().index,t);return(Bn(n)?n:t)[X]}(),e})(),QK=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),e})();class Cu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AP=new Cu("16.2.4"),gI={};function RP(t,e=null,n=null,r){const i=kP(t,e,n,r);return i.resolveInjectorInitializers(),i}function kP(t,e=null,n=null,r,i=new Set){const s=[n||ve,bK(t)];return r=r||("object"==typeof t?void 0:Nt(t)),new Xp(s,e||Yp(),r||null,i)}let _t=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return RP({name:""},i,r,"");{const s=r.name??"";return RP({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=pl,t.NULL=new Jw,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(hP)}),t.__NG_ELEMENT_ID__=-1,e})();function yI(t){return e=>{setTimeout(t,void 0,e)}}const ut=class nQ extends Ar{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=yI(s),i&&(i=yI(i)),o&&(o=yI(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ln&&e.add(a),a}};function PP(...t){}class de{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function rQ(){const t="function"==typeof Ue.requestAnimationFrame;let e=Ue[t?"requestAnimationFrame":"setTimeout"],n=Ue[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oQ(t){const e=()=>{!function sQ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ue,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wI(t),t.isCheckStableRunning=!0,vI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function uQ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return OP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),FP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return OP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),FP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,wI(t),vI(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!de.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(de.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,iQ,PP,PP);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const iQ={};function vI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function OP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function FP(t){t._nesting--,vI(t)}class aQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ut,this.onMicrotaskEmpty=new ut,this.onStable=new ut,this.onError=new ut}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const LP=new O("",{providedIn:"root",factory:VP});function VP(){const t=V(de);let e=!0;return function a5(...t){const e=fl(t),n=function e5(t,e){return"number"==typeof Bv(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Zn(r[0]):Wa(n)(Lt(r,e)):Qr}(new tt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new tt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{de.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(zR()))}function Bi(t){return t instanceof Function?t():t}let II=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new T(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function Gl(t){for(;t;){t[ee]|=64;const e=Ol(t);if(sw(t)&&!e)return t;t=e}return null}function EI(t){return t.ngOriginalError}class Vo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&EI(e);for(;n&&EI(n);)n=EI(n);return n||null}}const HP=new O("",{providedIn:"root",factory:()=>!1});let og=null;function WP(t,e){return t[e]??YP()}function KP(t,e){const n=YP();n.producerNode?.length&&(t[e]=og,n.lView=t,og=QP())}const yQ={...gp,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gl(t.lView)},lView:null};function QP(){return Object.create(yQ)}function YP(){return og??=QP(),og}const Z={};function $i(t){XP(ge(),C(),Tn()+t,!1)}function XP(t,e,n,r){if(!r)if(3==(3&e[ee])){const s=t.preOrderCheckHooks;null!==s&&Cp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&bp(e,s,0,n)}Po(n)}function D(t,e=ie.Default){const n=C();return null===n?$(t,e):c1(en(),n,W(t),e)}function ag(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[at]=i,d[ee]=140|r,(null!==c||t&&2048&t[ee])&&(d[ee]|=2048),Vk(d),d[Ye]=d[Ja]=t,d[gt]=n,d[Xa]=o||t&&t[Xa],d[X]=a||t&&t[X],d[bs]=u||t&&t[bs]||null,d[dn]=s,d[Il]=function D8(){return T8++}(),d[Oi]=l,d[pk]=c,d[mt]=2==e.type?t[mt]:d,d}function Du(t,e,n,r,i){let s=t.data[e];if(null===s)s=function CI(t,e,n,r,i){const s=Gk(),o=fw(),u=t.data[e]=function DQ(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ru(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function T7(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Dl(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ti(s,!0),s}function zl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ZP(t,e,n,r,i){const s=WP(e,El),o=Tn(),a=2&r;try{Po(-1),a&&e.length>le&&XP(t,e,le,!1),ei(a?2:0,i);const c=a?s:null,l=mp(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{_p(c,l)}}finally{a&&null===e[El]&&KP(e,El),Po(o),ei(a?3:1,i)}}function bI(t,e,n){if(iw(e)){const r=mr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{mr(r)}}}function TI(t,e,n){Hk()&&(function kQ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ro(n)&&function BQ(t,e,n){const r=$n(e,t),i=eO(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ug(t,ag(t,i,null,o,r,e,null,t[Xa].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dp(n,e),hn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Oo(e,t,a,n);hn(c,e),null!==o&&$Q(0,a-i,c,u,0,o),Rr(u)&&(nr(n.index,e)[gt]=Oo(e,t,a,n))}}(t,e,n,$n(n,e)),64==(64&n.flags)&&sO(t,e,n))}function DI(t,e,n=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function eO(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=SI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function SI(t,e,n,r,i,s,o,a,u,c,l){const d=le+r,h=d+i,f=function wQ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(d,h),p="function"==typeof c?c():c;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let tO=t=>null;function nO(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?rO(n,e,i,s):r.hasOwnProperty(i)&&rO(n,e,r[i],s)}return n}function rO(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function sr(t,e,n,r,i,s,o,a){const u=$n(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(RI(t,n,l,r,i),Ro(e)&&function xQ(t,e){const n=nr(e,t);16&n[ee]||(n[ee]|=64)}(n,e.index)):3&e.type&&(r=function AQ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function AI(t,e,n,r){if(Hk()){const i=null===r?null:{"":-1},s=function OQ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(uk(e,o.selectors,!1))if(r||(r=[]),Rr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),xI(t,e,a.length)}else r.unshift(o),xI(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&iO(t,e,n,o,i,a),i&&function FQ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=_l(n.mergedAttrs,n.attrs)}function iO(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Tw(Dp(n,e),t,r[c].type);!function VQ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=zl(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=_l(n.mergedAttrs,l.hostAttrs),UQ(t,n,e,u,l),LQ(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function SQ(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=nO(d.inputs,l,u,h?h.inputs:null),c=nO(d.outputs,l,c,p);const g=null===u||null===o||ak(e)?null:jQ(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function sO(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function S7(){return z.lFrame.currentDirectiveIndex}();try{Po(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];gw(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&PQ(u,c)}}finally{Po(-1),gw(o)}}function PQ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LQ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Rr(e)&&(n[""]=t)}}function UQ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ko(i.type)),o=new Sl(s,Rr(i),D);t.blueprint[r]=o,n[r]=o,function MQ(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function RQ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,zl(t,n,i.hostVars,Z),i)}function ri(t,e,n,r,i,s){const o=$n(t,e);!function NI(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Y(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[X],o,s,t.value,n,r,i)}function $Q(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)oO(r,n,o[a++],o[a++],o[a++])}function oO(t,e,n,r,i){const s=mr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{mr(s)}}function jQ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function aO(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function uO(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];_w(n[r]),o.contentQueries(2,e[s],s)}}}function ug(t,e){return t[vl]?t[fk][Mr]=e:t[vl]=e,t[fk]=e,e}function MI(t,e,n){_w(0);const r=mr(null);try{e(t,n)}finally{mr(r)}}function hO(t,e){const n=t[bs],r=n?n.get(Vo,null):null;r&&r.handleError(e)}function RI(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];oO(t.data[o],e[o],r,a,i)}}function HQ(t,e){const n=nr(e,t),r=n[P];!function GQ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[at];null!==i&&null===n[Oi]&&(n[Oi]=hI(i,n[bs])),kI(r,n,n[gt])}function kI(t,e,n){yw(e);try{const r=t.viewQuery;null!==r&&MI(1,r,n);const i=t.template;null!==i&&ZP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&uO(t,e),t.staticViewQueries&&MI(2,t.viewQuery,n);const s=t.components;null!==s&&function zQ(t,e){for(let n=0;n<e.length;n++)HQ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,vw()}}let fO=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function t7(t,e,n){const r=Object.create(n7);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Ek(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Ck(r))return;r.hasRun=!0;const o=mp(r);try{r.cleanupFn(),r.cleanupFn=Mk,r.fn(i)}finally{_p(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function cg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=jv(i,a):2==s&&(r=jv(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ql(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Be(s)),Cn(s)&&pO(s,r);const o=n.type;if(8&o)ql(t,e,n.child,r);else if(32&o){const a=Lw(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=K1(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ol(e[mt]);ql(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pO(t,e){for(let n=Jt;n<t.length;n++){const r=t[n],i=r[P].firstChild;null!==i&&ql(r[P],r,i,e)}t[Zr]!==t[at]&&e.push(t[Zr])}function lg(t,e,n,r=!0){const i=e[Xa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{gO(t,e,t.template,n)}catch(u){throw r&&hO(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function gO(t,e,n,r){const i=e[ee];if(256!=(256&i)){e[Xa].effectManager?.flush(),yw(e);try{Vk(e),function qk(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ZP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Cp(e,c,null)}else{const c=t.preOrderHooks;null!==c&&bp(e,c,0,null),ww(e,0)}if(function KQ(t){for(let e=F1(t);null!==e;e=L1(e)){if(!e[gk])continue;const n=e[eu];for(let r=0;r<n.length;r++){h7(n[r])}}}(e),mO(e,2),null!==t.contentQueries&&uO(t,e),o){const c=t.contentCheckHooks;null!==c&&Cp(e,c)}else{const c=t.contentHooks;null!==c&&bp(e,c,1),ww(e,1)}!function vQ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=WP(e,Cl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Po(~s);else{const o=s,a=n[++i],u=n[++i];D7(a,o),r.dirty=!1;const c=mp(r);try{u(2,e[o])}finally{_p(r,c)}}}}finally{null===e[Cl]&&KP(e,Cl),Po(-1)}}(t,e);const a=t.components;null!==a&&yO(e,a,0);const u=t.viewQuery;if(null!==u&&MI(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Cp(e,c)}else{const c=t.viewHooks;null!==c&&bp(e,c,2),ww(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ee]&=-73,Uk(e)}finally{vw()}}}function mO(t,e){for(let n=F1(t);null!==n;n=L1(n))for(let r=Jt;r<n.length;r++)_O(n[r],e)}function QQ(t,e,n){_O(nr(e,t),n)}function _O(t,e){if(!function l7(t){return 128==(128&t[ee])}(t))return;const n=t[P],r=t[ee];if(80&r&&0===e||1024&r||2===e)gO(n,t,n.template,t[gt]);else if(t[yl]>0){mO(t,1);const i=n.components;null!==i&&yO(t,i,1)}}function yO(t,e,n){for(let r=0;r<e.length;r++)QQ(t,e[r],n)}class Wl{get rootNodes(){const e=this._lView,n=e[P];return ql(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return 256==(256&this._lView[ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ye];if(Cn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&($p(e,r),Np(n,r))}this._attachedToViewContainer=!1}Uw(this._lView[P],this._lView)}onDestroy(e){!function $k(t,e){if(256==(256&t[ee]))throw new T(911,!1);null===t[Ts]&&(t[Ts]=[]),t[Ts].push(e)}(this._lView,e)}markForCheck(){Gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){this._lView[ee]|=128}detectChanges(){lg(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B8(t,e){Ll(t,e,e[X],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class YQ extends Wl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;lg(e[P],e,e[gt],!1)}checkNoChanges(){}get context(){return null}}class vO extends ig{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pe(e);return new Kl(n,this.ngModule)}}function wO(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class JQ{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=up(r);const i=this.injector.get(e,gI,r);return i!==gI||n===gI?i:this.parentInjector.get(e,n,r)}}class Kl extends TP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wO(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wO(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function L5(t){return t.map(F5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof vr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new JQ(e,s):e,a=o.get(SP,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(QK,null),effectManager:o.get(fO,null),afterRenderEventManager:o.get(II,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function IQ(t,e,n,r){const s=r.get(HP,!1)||n===xr.ShadowDom,o=t.selectRootElement(e,s);return function EQ(t){tO(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Bp(h,f,function XQ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=hI(p,o,!0));const E=SI(0,null,null,1,0,null,null,null,null,null,null),A=ag(null,E,null,v,null,null,d,h,o,null,y);let L,H;yw(A);try{const Te=this.componentDef;let pt,Jn=null;Te.findHostDirectiveDefs?(pt=[],Jn=new Map,Te.findHostDirectiveDefs(Te,pt,Jn),pt.push(Te)):pt=[Te];const wR=function eY(t,e){const n=t[P],r=le;return t[r]=e,Du(n,r,2,"#host",null)}(A,p),ODe=function tY(t,e,n,r,i,s,o){const a=i[P];!function nY(t,e,n,r){for(const i of t)e.mergedAttrs=_l(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(cg(e,e.mergedAttrs,!0),null!==n&&J1(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=hI(e,i[bs]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=ag(i,eO(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&xI(a,t,r.length-1),ug(i,d),i[t.index]=d}(wR,p,Te,pt,A,d,h);H=Lk(E,le),p&&function iY(t,e,n,r){if(r)nw(t,n,["ng-version",AP.full]);else{const{attrs:i,classes:s}=function V5(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Nr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&nw(t,n,i),s&&s.length>0&&X1(t,n,s.join(" "))}}(h,Te,p,r),void 0!==n&&function sY(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(H,this.ngContentSelectors,n),L=function rY(t,e,n,r,i,s){const o=en(),a=i[P],u=$n(o,i);iO(a,i,o,n,null,r);for(let l=0;l<n.length;l++)hn(Oo(i,a,o.directiveStart+l,o),i);sO(a,i,o),u&&hn(u,i);const c=Oo(i,a,o.directiveStart+o.componentOffset,o);if(t[gt]=i[gt]=c,null!==s)for(const l of s)l(c,e);return bI(a,o,t),c}(ODe,Te,pt,Jn,A,[oY]),kI(E,A,null)}finally{vw()}return new ZQ(this.componentType,L,Eu(H,A),A,H)}}class ZQ extends HK{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new YQ(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;RI(s[P],s,i,e,n),this.previousInputValues.set(e,n),Gl(nr(this._tNode.index,s))}}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function oY(){const t=en();Ep(C()[P],t)}function xe(t){let e=function IO(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=dg(t.inputs),o.inputTransforms=dg(t.inputTransforms),o.declaredInputs=dg(t.declaredInputs),o.outputs=dg(t.outputs);const a=i.hostBindings;a&&lY(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&uY(t,u),c&&cY(t,c),np(t.inputs,i.inputs),np(t.declaredInputs,i.declaredInputs),np(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),np(o.inputTransforms,i.inputTransforms)),Rr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===xe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function aY(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_l(i.hostAttrs,n=_l(n,i.hostAttrs))}}(r)}function dg(t){return t===Xr?{}:t===ve?[]:t}function uY(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cY(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function lY(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function TO(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function fn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function si(t,e,n,r){const i=C();return fn(i,iu(),e)&&(ge(),ri(nt(),i,t,e,n,r)),si}function Au(t,e,n,r){return fn(t,iu(),n)?e+Y(n)+r:Z}function _g(t,e,n,r,i,s,o,a){const u=C(),c=ge(),l=t+le,d=c.firstCreatePass?function OY(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Du(e,t,4,o||null,Ss(c,a));AI(e,n,l,Ss(c,u)),Ep(e,l);const d=l.tView=SI(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ti(d,!1);const h=VO(c,u,d,t);Ip()&&Hp(c,u,h,d),hn(h,u),ug(u,u[l]=aO(h,u,h,d)),fp(d)&&TI(c,u,d),null!=o&&DI(u,d,a)}let VO=function UO(t,e,n,r){return As(!0),e[X].createComment("")};function Bo(t,e,n){const r=C();return fn(r,iu(),e)&&sr(ge(),nt(),r,t,e,r[X],n,!1),Bo}function BI(t,e,n,r,i){const o=i?"class":"style";RI(t,n,e.inputs[o],o,r)}function se(t,e,n,r){const i=C(),s=ge(),o=le+t,a=i[X],u=s.firstCreatePass?function BY(t,e,n,r,i,s){const o=e.consts,u=Du(e,t,2,r,Ss(o,i));return AI(e,n,u,Ss(o,s)),null!==u.attrs&&cg(u,u.attrs,!1),null!==u.mergedAttrs&&cg(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=BO(s,i,u,a,e,t);i[o]=c;const l=fp(u);return ti(u,!0),J1(a,c,u),32!=(32&u.flags)&&Ip()&&Hp(s,i,c,u),0===function p7(){return z.lFrame.elementDepthCount}()&&hn(c,i),function g7(){z.lFrame.elementDepthCount++}(),l&&(TI(s,i,u),bI(s,u,i)),null!==r&&DI(i,u),se}function ue(){let t=en();fw()?function pw(){z.lFrame.isParent=!1}():(t=t.parent,ti(t,!1));const e=t;(function _7(t){return z.skipHydrationRootTNode===t})(e)&&function I7(){z.skipHydrationRootTNode=null}(),function m7(){z.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Ep(n,t),iw(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function V7(t){return 0!=(8&t.flags)}(e)&&BI(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function U7(t){return 0!=(16&t.flags)}(e)&&BI(n,e,C(),e.stylesWithoutHost,!1),ue}function Fu(t,e,n,r){return se(t,e,n,r),ue(),Fu}let BO=(t,e,n,r,i,s)=>(As(!0),Bp(r,i,function e1(){return z.lFrame.currentNamespace}()));function Zl(t){return!!t&&"function"==typeof t.then}function HO(t){return!!t&&"function"==typeof t.subscribe}function Hn(t,e,n,r){const i=C(),s=ge(),o=en();return function zO(t,e,n,r,i,s,o){const a=fp(r),c=t.firstCreatePass&&function lO(t){return t.cleanup||(t.cleanup=[])}(t),l=e[gt],d=function cO(t){return t[Ya]||(t[Ya]=[])}(e);let h=!0;if(3&r.type||o){const g=$n(r,e),m=o?o(g):g,v=d.length,y=o?A=>o(Be(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function WY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ya],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=WO(r,e,l,s,!1);const A=n.listen(m,i,s);d.push(s,A),c&&c.push(i,y,v,v+1)}}else s=WO(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const L=e[p[m]][p[m+1]].subscribe(s),H=d.length;d.push(s,L),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[X],o,t,e,r),Hn}function qO(t,e,n,r){try{return ei(6,e,n),!1!==n(r)}catch(i){return hO(t,i),!1}finally{ei(7,e,n)}}function WO(t,e,n,r,i){return function s(o){if(o===Function)return r;Gl(t.componentOffset>-1?nr(t.index,e):e);let u=qO(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=qO(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function yg(t,e,n){return HI(t,"",e,"",n),yg}function HI(t,e,n,r,i){const s=C(),o=Au(s,e,n,r);return o!==Z&&sr(ge(),nt(),s,t,o,s[X],i,!1),HI}function vg(t,e){return t<<17|e<<2}function Rs(t){return t>>17&32767}function GI(t){return 2|t}function $o(t){return(131068&t)>>2}function zI(t,e){return-131069&t|e<<2}function qI(t){return 1|t}function nF(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Rs(s):$o(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];rX(t[a],e)&&(u=!0,t[a+1]=r?qI(l):GI(l)),a=r?Rs(l):$o(l)}u&&(t[n+1]=r?GI(s):qI(s))}function rX(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hu(t,e)>=0}function wg(t,e){return function kr(t,e,n,r){const i=C(),s=ge(),o=function Li(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function dF(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Tn()],o=function lF(t,e){return e>=t.expandoStartIndex}(t,n);(function gF(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function hX(t,e,n,r){const i=function mw(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ed(n=WI(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=WI(i,t,e,n,r),null===s){let u=function fX(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==$o(r))return t[Rs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=WI(null,t,e,u[1],r),u=ed(u,e.attrs,r),function pX(t,e,n,r){t[Rs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function gX(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ed(r,t[s].hostAttrs,n);return ed(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function tX(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Rs(o),u=$o(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||hu(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Rs(t[a+1]);t[r+1]=vg(h,a),0!==h&&(t[h+1]=zI(t[h+1],r)),t[a+1]=function ZY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=vg(a,0),0!==a&&(t[a+1]=zI(t[a+1],r)),a=r;else t[r+1]=vg(u,0),0===a?a=r:t[u+1]=zI(t[u+1],r),u=r;c&&(t[r+1]=GI(t[r+1])),nF(t,l,r,!0),nF(t,l,r,!1),function nX(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&hu(s,e)>=0&&(n[r+1]=qI(n[r+1]))}(e,l,t,r,s),o=vg(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Z&&fn(i,o,e)&&function fF(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function eX(t){return 1==(1&t)}(c)?pF(u,e,n,i,$o(c),o):void 0;Ig(l)||(Ig(s)||function JY(t){return 2==(2&t)}(c)&&(s=pF(u,null,n,i,a,o)),function Y8(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:xs.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=xs.Important),t.setStyle(n,r,i,s))}}(r,o,wp(Tn(),n),i,s))}(s,s.data[Tn()],i,i[X],t,i[o+1]=function vX(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Nt(Ns(t)))),t}(e,n),r,o)}(t,e,null,!0),wg}function WI(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ed(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ed(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rr(t,o,!!n||e[++s]))}return void 0===t?null:t}function pF(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?ve:void 0);let f=d?Aw(h,r):l===r?h:void 0;if(c&&!Ig(f)&&(f=Aw(u,r)),Ig(f)&&(a=f,o))return a;const p=t[i+1];i=o?Rs(p):$o(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Aw(u,r))}return a}function Ig(t){return void 0!==t}function he(t,e=""){const n=C(),r=ge(),i=t+le,s=r.firstCreatePass?Du(r,i,1,e,null):r.data[i],o=mF(r,n,s,e,t);n[i]=o,Ip()&&Hp(r,n,o,s),ti(s,!1)}let mF=(t,e,n,r,i)=>(As(!0),function Up(t,e){return t.createText(e)}(e[X],r));function KI(t){return QI("",t,""),KI}function QI(t,e,n){const r=C(),i=Au(r,t,e,n);return i!==Z&&function ji(t,e,n){const r=wp(e,t);!function U1(t,e,n){t.setValue(e,n)}(t[X],r,n)}(r,Tn(),i),QI}const Uu="en-US";let VF=Uu;function JI(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)JI(t[s],e,n,r,i);else{const s=ge(),o=C(),a=en();let u=Lo(t)?t:W(t.provide);const c=vP(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Lo(t)||!t.multi){const f=new Sl(c,i,D),p=eE(u,e,i?l:l+h,d);-1===p?(Tw(Dp(a,o),s,u),ZI(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=eE(u,e,l+h,d),p=eE(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Tw(Dp(a,o),s,u);const v=function BJ(t,e,n,r,i){const s=new Sl(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,cL(s,i,r&&!n),s}(i?UJ:VJ,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),ZI(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else ZI(s,t,f>-1?f:p,cL(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ZI(t,e,n,r){const i=Lo(e),s=function DK(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function cL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function eE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VJ(t,e,n,r){return tE(this.multi,[])}function UJ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Oo(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),tE(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],tE(i,s);return s}function tE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function LJ(t,e,n){const r=ge();if(r.firstCreatePass){const i=Rr(t);JI(n,r.data,r.blueprint,i,!0),JI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ho{}class lL{}class nE extends Ho{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vO(this);const i=tr(e);this._bootstrapComponents=Bi(i.bootstrap),this._r3Injector=kP(e,n,[{provide:Ho,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rE extends lL{constructor(e){super(),this.moduleType=e}create(e){return new nE(this.moduleType,e,[])}}class dL extends Ho{constructor(e){super(),this.componentFactoryResolver=new vO(this),this.instance=null;const n=new Xp([...e.providers,{provide:Ho,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],e.parent||Yp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function iE(t,e,n=null){return new dL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let HJ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=gP(0,r.type),s=i.length>0?iE([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(vr))}),e})();function hL(t){t.getStandaloneInjector=e=>e.get(HJ).getOrCreateStandaloneInjector(t)}function _Z(t,e,n,r=!0){const i=e[P];if(function j8(t,e,n,r){const i=Jt+r,s=n.length;r>0&&(n[i-1][Mr]=e),r<s-Jt?(e[Mr]=n[i],g1(n,Jt+r,e)):(n.push(e),e[Mr]=null),e[Ye]=n;const o=e[wl];null!==o&&n!==o&&function H8(t,e){const n=t[eu];e[mt]!==e[Ye][Ye][mt]&&(t[gk]=!0),null===n?t[eu]=[e]:n.push(e)}(o,e);const a=e[Jr];null!==a&&a.insertView(t),e[ee]|=128}(i,e,t,n),r){const s=Hw(n,t),o=e[X],a=jp(o,t[Zr]);null!==a&&function U8(t,e,n,r,i,s){r[at]=i,r[dn]=e,Ll(t,r,n,1,i,s)}(i,t[dn],o,e,a,s)}}let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=wZ,e})();const yZ=Hi,vZ=class extends yZ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function mZ(t,e,n,r){const i=e.tView,a=ag(t,i,n,4096&t[ee]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[wl]=t[e.index];const c=t[Jr];return null!==c&&(a[Jr]=c.createEmbeddedView(i)),kI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Wl(i)}};function wZ(){return function Dg(t,e){return 4&t.type?new vZ(e,t,Eu(t,e)):null}(en(),C())}let Or=(()=>{class e{}return e.__NG_ELEMENT_ID__=DZ,e})();function DZ(){return function NL(t,e){let n;const r=e[t.index];return Cn(r)?n=r:(n=aO(r,e,null,t),e[t.index]=n,ug(e,n)),ML(n,e,t,r),new AL(n,t,e)}(en(),C())}const SZ=Or,AL=class extends SZ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Eu(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sp(this._hostTNode,this._hostLView);if(Ew(e)){const n=xl(e,this._hostLView),r=Al(e);return new Dn(n[P].data[r+8],n)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=xL(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Ml(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Kl(pe(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(vr,null);m&&(s=m)}pe(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function d7(t){return Cn(t[Ye])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ye],l=new AL(c,c[dn],c[Ye]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return _Z(a,i,o,!r),e.attachToViewContainerRef(),g1(aE(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=xL(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=$p(this._lContainer,n);r&&(Np(aE(this._lContainer),n),Uw(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=$p(this._lContainer,n);return r&&null!=Np(aE(this._lContainer),n)?new Wl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function xL(t){return t[8]}function aE(t){return t[8]||(t[8]=[])}let ML=function RL(t,e,n,r){if(t[Zr])return;let i;i=8&n.type?Be(r):function AZ(t,e){const n=t[X],r=n.createComment(""),i=$n(e,t);return Fo(n,jp(n,i),r,function W8(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Zr]=i};const cd=new O("Application Initializer");let yE=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(cd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Zl(o))r.push(o);else if(HO(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),r2=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Gi=new O("LocaleId",{providedIn:"root",factory:()=>V(Gi,ie.Optional|ie.SkipSelf)||function see(){return typeof $localize<"u"&&$localize.locale||Uu}()});let i2=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class uee{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let s2=(()=>{var t;class e{compileModuleSync(r){return new rE(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Bi(tr(r).declarations).reduce((a,u)=>{const c=pe(u);return c&&a.push(new Kl(c)),a},[]);return new uee(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const c2=new O(""),Ng=new O("");let CE,IE=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function Aee(t){CE=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)($(de),$(EE),$(Ng))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),EE=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return CE?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ks=null;const l2=new O("AllowMultipleToken"),bE=new O("PlatformDestroyListeners"),TE=new O("appBootstrapListener");class h2{constructor(e,n){this.name=e,this.token=n}}function p2(t,e,n=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=DE();if(!o||o.injector.get(l2,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Mee(t){if(ks&&!ks.get(l2,!1))throw new T(400,!1);(function d2(){!function Y5(t){Sk=t}(()=>{throw new T(600,!1)})})(),ks=t;const e=t.get(m2);(function f2(t){t.get(wP,null)?.forEach(n=>n())})(t)}(function g2(t=[],e){return _t.create({name:e,providers:[{provide:tI,useValue:"platform"},{provide:bE,useValue:new Set([()=>ks=null])},...t]})}(a,r))}return function kee(t){const e=DE();if(!e)throw new T(401,!1);return e}()}}function DE(){return ks?.get(m2)??null}let m2=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function Pee(t="zone.js",e){return"noop"===t?new aQ:"zone.js"===t?new de(e):t}(i?.ngZone,function _2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function jJ(t,e,n){return new nE(t,e,n)}(r.moduleType,this.injector,function E2(t){return[{provide:de,useFactory:t},{provide:$l,multi:!0,useFactory:()=>{const e=V(Fee,{optional:!0});return()=>e.initialize()}},{provide:I2,useFactory:Oee},{provide:LP,useFactory:VP}]}(()=>s)),a=o.injector.get(Vo,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Mg(this._modules,o),u.unsubscribe()})}),function y2(t,e,n){try{const r=n();return Zl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(yE);return u.runInitializers(),u.donePromise.then(()=>(function UF(t){gr(t,"Expected localeId to be defined"),"string"==typeof t&&(VF=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Gi,Uu)||Uu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=v2({},i);return function xee(t,e,n){const r=new rE(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(ju);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new T(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(bE,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)($(_t))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function v2(t,e){return Array.isArray(e)?e.reduce(v2,t):{...t,...e}}let ju=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(I2),this.zoneIsStable=V(LP),this.componentTypes=[],this.components=[],this.isStable=V(i2).hasPendingTasks.pipe(Yr(r=>r?q(!1):this.zoneIsStable),function u5(t,e=ws){return t=t??c5,xt((n,r)=>{let i,s=!0;n.subscribe(Ct(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),zR()),this._injector=V(vr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof TP;if(!this._injector.get(yE).done)throw!s&&function Qa(t){const e=pe(t)||Xt(t)||En(t);return null!==e&&e.standalone}(r),new T(405,!1);let a;a=s?r:this._injector.get(ig).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function Nee(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ho),l=a.create(_t.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(c2,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Mg(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Mg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(TE,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Mg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Mg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const I2=new O("",{providedIn:"root",factory:()=>V(Vo).handleError.bind(void 0)});function Oee(){const t=V(de),e=V(Vo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Fee=(()=>{var t;class e{constructor(){this.zone=V(de),this.applicationRef=V(ju)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Rg=(()=>{class e{}return e.__NG_ELEMENT_ID__=Vee,e})();function Vee(t){return function Uee(t,e,n){if(Ro(t)&&!n){const r=nr(t.index,e);return new Wl(r,r)}return 47&t.type?new Wl(e[mt],e):null}(en(),C(),16==(16&t))}const Jee=p2(null,"core",[]);let Zee=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)($(ju))},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({}),e})();function Hu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let RE=null;function Ps(){return RE}class fte{}const Ir=new O("DocumentToken");let kE=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return V(gte)},providedIn:"platform"}),e})();const pte=new O("Location Initialized");let gte=(()=>{var t;class e extends kE{constructor(){super(),this._doc=V(Ir),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ps().getBaseHref(this._doc)}onPopState(r){const i=Ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function PE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function B2(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function zi(t){return t&&"?"!==t[0]?"?"+t:t}let zo=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return V(j2)},providedIn:"root"}),e})();const $2=new O("appBaseHref");let j2=(()=>{var t;class e extends zo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(Ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return PE(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+zi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+zi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+zi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)($(kE),$($2,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),mte=(()=>{var t;class e extends zo{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=PE(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+zi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+zi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)($(kE),$($2,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),OE=(()=>{var t;class e{constructor(r){this._subject=new ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function vte(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(B2(H2(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+zi(i))}normalize(r){return e.stripTrailingSlash(function yte(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,H2(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=zi,t.joinWithSlash=PE,t.stripTrailingSlash=B2,t.\u0275fac=function(r){return new(r||t)($(zo))},t.\u0275prov=j({token:t,factory:function(){return function _te(){return new OE($(zo))}()},providedIn:"root"}),e})();function H2(t){return t.replace(/\/index.html$/,"")}let tV=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new une,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){nV("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){nV("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(D(Or),D(Hi))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class une{constructor(){this.$implicit=null,this.ngIf=null}}function nV(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Nt(e)}'.`)}let kne=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({}),e})();function oV(t){return"server"===t}let Lne=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new Vne($(Ir),window)}),e})();class Vne{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Une(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cre extends fte{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class JE extends cre{static makeCurrent(){!function hte(t){RE||(RE=t)}(new JE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function lre(){return gd=gd||document.querySelector("base"),gd?gd.getAttribute("href"):null}();return null==n?null:function dre(t){Qg=Qg||document.createElement("a"),Qg.setAttribute("href",t);const e=Qg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){gd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rne(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Qg,gd=null,fre=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const ZE=new O("EventManagerPlugins");let dV=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)($(ZE),$(de))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class hV{constructor(e){this._doc=e}}const eC="ng-app-id";let fV=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oV(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${eC}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(eC),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(eC,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)($(Ir),$(Jp),$(IP,8),$(Ms))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const tC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nC=/%COMP%/g,_re=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gV(t,e){return e.map(n=>n.replace(nC,t))}let mV=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=oV(u),this.defaultRenderer=new rC(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xr.ShadowDom&&(i={...i,encapsulation:xr.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof yV?s.applyToHost(r):s instanceof iC&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case xr.Emulated:o=new yV(c,l,i,this.appId,d,a,u,h);break;case xr.ShadowDom:return new Ire(c,l,r,i,a,u,this.nonce,h);default:o=new iC(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)($(dV),$(fV),$(Jp),$(_re),$(Ir),$(Ms),$(de),$(IP))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class rC{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_V(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_V(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=tC[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=tC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xs.DashCase|xs.Important)?e.style.setProperty(n,r,i&xs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ps().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _V(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ire extends rC{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gV(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iC extends rC{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?gV(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yV extends iC{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function yre(t){return"_ngcontent-%COMP%".replace(nC,t)}(c),this.hostAttr=function vre(t){return"_nghost-%COMP%".replace(nC,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Ere=(()=>{var t;class e extends hV{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)($(Ir))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const vV=["alt","control","meta","shift"],Cre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bre={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Tre=(()=>{var t;class e extends hV{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ps().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),vV.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Cre[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),vV.forEach(a=>{a!==s&&(0,bre[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)($(Ir))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const IV=[{provide:Ms,useValue:"browser"},{provide:wP,useValue:function Dre(){JE.makeCurrent()},multi:!0},{provide:Ir,useFactory:function Are(){return function tK(t){qw=t}(document),document},deps:[]}],xre=p2(Jee,"browser",IV),Nre=new O(""),EV=[{provide:Ng,useClass:class hre{addToWindow(e){Ue.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Ue.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ue.getAllAngularRootElements=()=>e.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(r=>{const i=Ue.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ps().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:c2,useClass:IE,deps:[de,EE,Ng]},{provide:IE,useClass:IE,deps:[de,EE,Ng]}],CV=[{provide:tI,useValue:"root"},{provide:Vo,useFactory:function Sre(){return new Vo},deps:[]},{provide:ZE,useClass:Ere,multi:!0,deps:[Ir,de,Ms]},{provide:ZE,useClass:Tre,multi:!0,deps:[Ir]},mV,fV,dV,{provide:SP,useExisting:mV},{provide:class Bne{},useClass:fre,deps:[]},[]];let Mre=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Jp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)($(Nre,12))},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[...CV,...EV],imports:[kne,Zee]}),e})(),bV=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)($(Ir))},t.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function kre(){return new bV($(Ir))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Ure}=Array,{getPrototypeOf:Bre,prototype:$re,keys:jre}=Object;function AV(t){if(1===t.length){const e=t[0];if(Ure(e))return{args:e,keys:null};if(function Hre(t){return t&&"object"==typeof t&&Bre(t)===$re}(e)){const n=jre(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Gre}=Array;function xV(t){return Oe(e=>function zre(t,e){return Gre(e)?t(...e):t(e)}(t,e))}function NV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function oC(...t){const e=fl(t),n=HR(t),{args:r,keys:i}=AV(t);if(0===r.length)return Lt([],e);const s=new tt(function qre(t,e,n=ws){return r=>{MV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)MV(e,()=>{const c=Lt(t[u],e);let l=!1;c.subscribe(Ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>NV(i,o):ws));return n?s.pipe(xV(n)):s}function MV(t,e,n){t?Ri(n,t,e):e()}const Yg=dl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function aC(...t){return function Wre(){return Wa(1)}()(Lt(t,fl(t)))}function RV(t){return new tt(e=>{Zn(t()).subscribe(e)})}function md(t,e){const n=Pe(t)?t:()=>t,r=i=>i.error(n());return new tt(e?i=>e.schedule(r,0,i):r)}function uC(){return xt((t,e)=>{let n=null;t._refCount++;const r=Ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kV extends tt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,AR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;const n=this.getSubject();e.add(this.source.subscribe(Ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return uC()(this)}}function zu(t){return t<=0?()=>Qr:xt((e,n)=>{let r=0;e.subscribe(Ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fs(t,e){return xt((n,r)=>{let i=0;n.subscribe(Ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xg(t){return xt((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PV(t=Qre){return xt((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Qre(){return new Yg}function qo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fs((i,s)=>t(i,s,r)):ws,zu(1),n?Xg(e):PV(()=>new Yg))}function _d(t,e){return Pe(e)?Yt(t,e,1):Yt(t,1)}function nn(t,e,n){const r=Pe(t)||e||n?{next:t,error:e,complete:n}:t;return r?xt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ws}function Wo(t){return xt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ct(n,void 0,void 0,o=>{s=Zn(t(o,Wo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function cC(t){return t<=0?()=>Qr:xt((e,n)=>{let r=[];e.subscribe(Ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lC(t){return xt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ne="primary",yd=Symbol("RouteTitle");class tie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function qu(t){return new tie(t)}function nie(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ui(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OV(t[i],e[i]))return!1;return!0}function OV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function FV(t){return t.length>0?t[t.length-1]:null}function Ls(t){return function Vre(t){return!!t&&(t instanceof tt||Pe(t.lift)&&Pe(t.subscribe))}(t)?t:Zl(t)?Lt(Promise.resolve(t)):q(t)}const iie={exact:function UV(t,e,n){if(!Ko(t.segments,e.segments)||!Jg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UV(t.children[r],e.children[r],n))return!1;return!0},subset:BV},LV={exact:function sie(t,e){return ui(t,e)},subset:function oie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OV(t[n],e[n]))},ignored:()=>!0};function VV(t,e,n){return iie[n.paths](t.root,e.root,n.matrixParams)&&LV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BV(t,e,n){return $V(t,e,e.segments,n)}function $V(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ko(i,n)||e.hasChildren()||!Jg(i,n,r))}if(t.segments.length===n.length){if(!Ko(t.segments,n)||!Jg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ko(t.segments,i)&&Jg(t.segments,i,r)&&t.children[ne])&&$V(t.children[ne],e,s,r)}}function Jg(t,e,n){return e.every((r,i)=>LV[n](t[i].parameters,r.parameters))}class Wu{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return cie.serialize(this)}}class Ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zg(this)}}class vd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=qu(this.parameters)),this._parameterMap}toString(){return GV(this)}}function Ko(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let wd=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new dC},providedIn:"root"}),e})();class dC{parse(e){const n=new wie(e);return new Wu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Id(e.root,!0)}`,r=function hie(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${em(n)}=${em(i)}`).join("&"):`${em(n)}=${em(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function lie(t){return encodeURI(t)}(e.fragment)}`:""}`}}const cie=new dC;function Zg(t){return t.segments.map(e=>GV(e)).join("/")}function Id(t,e){if(!t.hasChildren())return Zg(t);if(e){const n=t.children[ne]?Id(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Id(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function uie(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ne?[Id(t.children[ne],!1)]:[`${i}:${Id(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${Zg(t)}/${n[0]}`:`${Zg(t)}/(${n.join("//")})`}}function jV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function em(t){return jV(t).replace(/%3B/gi,";")}function hC(t){return jV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tm(t){return decodeURIComponent(t)}function HV(t){return tm(t.replace(/\+/g,"%20"))}function GV(t){return`${hC(t.path)}${function die(t){return Object.keys(t).map(e=>`;${hC(e)}=${hC(t[e])}`).join("")}(t.parameters)}`}const fie=/^[^\/()?;#]+/;function fC(t){const e=t.match(fie);return e?e[0]:""}const pie=/^[^\/()?;=#]+/,mie=/^[^=?&#]+/,yie=/^[^&#]+/;class wie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ne(e,n)),r}parseSegment(){const e=fC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new vd(tm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function gie(t){const e=t.match(pie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fC(this.remaining);i&&(r=i,this.capture(r))}e[tm(n)]=tm(r)}parseQueryParam(e){const n=function _ie(t){const e=t.match(mie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function vie(t){const e=t.match(yie);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=HV(n),s=HV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function zV(t){return t.segments.length>0?new Ne([],{[ne]:t}):t}function qV(t){const e={};for(const r of Object.keys(t.children)){const s=qV(t.children[r]);if(r===ne&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Iie(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new Ne(t.segments.concat(e.segments),e.children)}return t}(new Ne(t.segments,e))}function Qo(t){return t instanceof Wu}function WV(t){let e;const i=zV(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ne(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function KV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return pC(i,i,i,n,r);const s=function Cie(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new YV(n,e,r)}(e);if(s.toRoot())return pC(i,i,new Ne([],{}),n,r);const o=function bie(t,e,n){if(t.isAbsolute)return new rm(e,!0,0);if(!n)return new rm(e,!1,NaN);if(null===n.parent)return new rm(n,!0,0);const r=nm(t.commands[0])?0:1;return function Tie(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new rm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Cd(o.segmentGroup,o.index,s.commands):XV(o.segmentGroup,o.index,s.commands);return pC(i,o.segmentGroup,a,n,r)}function nm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ed(t){return"object"==typeof t&&null!=t&&t.outlets}function pC(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:QV(t,e,n);const a=zV(qV(o));return new Wu(a,s,i)}function QV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:QV(s,e,n)}),new Ne(t.segments,r)}class YV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nm(r[0]))throw new T(4003,!1);const i=r.find(Ed);if(i&&i!==FV(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XV(t,e,n){if(t||(t=new Ne([],{})),0===t.segments.length&&t.hasChildren())return Cd(t,e,n);const r=function Sie(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ed(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZV(u,c,o))return s;r+=2}else{if(!ZV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new Ne(t.segments.slice(r.pathIndex),t.children),Cd(s,0,i)}return r.match&&0===i.length?new Ne(t.segments,{}):r.match&&!t.hasChildren()?gC(t,e,n):r.match?Cd(t,0,i):gC(t,e,n)}function Cd(t,e,n){if(0===n.length)return new Ne(t.segments,{});{const r=function Die(t){return Ed(t[0])?t[0].outlets:{[ne]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&1===t.numberOfChildren&&0===t.children[ne].segments.length){const s=Cd(t.children[ne],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=XV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ne(t.segments,i)}}function gC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ed(s)){const u=Aie(s.outlets);return new Ne(r,u)}if(0===i&&nm(n[0])){r.push(new vd(t.segments[e].path,JV(n[0]))),i++;continue}const o=Ed(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&nm(a)?(r.push(new vd(o,JV(a))),i+=2):(r.push(new vd(o,{})),i++)}return new Ne(r,{})}function Aie(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gC(new Ne([],{}),0,r))}),e}function JV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZV(t,e,n){return t==n.path&&ui(e,n.parameters)}const bd="imperative";class ci{constructor(e,n){this.id=e,this.url=n}}class im extends ci{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vs extends ci{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Td extends ci{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ku extends ci{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class sm extends ci{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eU extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xie extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nie extends ci{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mie extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rie extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kie{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pie{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oie{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fie{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lie{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vie{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mC{}class _C{constructor(e){this.url=e}}class Uie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dd,this.attachRef=null}}let Dd=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Uie,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class nU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=yC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=yC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=vC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vC(e,this._root).map(n=>n.value)}}function yC(t,e){if(t===e.value)return e;for(const n of e.children){const r=yC(t,n);if(r)return r}return null}function vC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=vC(t,n);if(r.length)return r.unshift(e),r}return[]}class Ki{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Qu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class rU extends nU{constructor(e,n){super(e),this.snapshot=n,wC(this,e)}toString(){return this.snapshot.toString()}}function iU(t,e){const n=function Bie(t,e){const o=new om([],{},{},"",{},ne,e,null,{});return new oU("",new Ki(o,[]))}(0,e),r=new pr([new vd("",{})]),i=new pr({}),s=new pr({}),o=new pr({}),a=new pr(""),u=new Yu(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new rU(new Ki(u,[]),n)}class Yu{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Oe(c=>c[yd]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>qu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>qu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function $ie(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class om{get title(){return this.data?.[yd]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oU extends nU{constructor(e,n){super(n),this.url=e,wC(this,n)}toString(){return aU(this._root)}}function wC(t,e){e.value._routerState=t,e.children.forEach(n=>wC(t,n))}function aU(t){const e=t.children.length>0?` { ${t.children.map(aU).join(", ")} } `:"";return`${t.value}${e}`}function IC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ui(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ui(e.params,n.params)||t.paramsSubject.next(n.params),function rie(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ui(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ui(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function EC(t,e){const n=ui(t.params,e.params)&&function aie(t,e){return Ko(t,e)&&t.every((n,r)=>ui(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||EC(t.parent,e.parent))}let CC=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new ut,this.deactivateEvents=new ut,this.attachEvents=new ut,this.detachEvents=new ut,this.parentContexts=V(Dd),this.location=V(Or),this.changeDetector=V(Rg),this.environmentInjector=V(vr),this.inputBinder=V(am,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new jie(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_r]}),e})();class jie{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Yu?this.route:e===Dd?this.childContexts:this.parent.get(e,n)}}const am=new O("");let uU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=oC([i.queryParams,i.params,i.data]).pipe(Yr(([o,a,u],c)=>(u={...o,...a,...u},0===c?q(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function dte(t){const e=pe(t);if(!e)return null;const n=new Kl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function Sd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Gie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Sd(t,r,i);return Sd(t,r)})}(t,e,n);return new Ki(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Sd(t,a)),o}}const r=function zie(t){return new Yu(new pr(t.url),new pr(t.params),new pr(t.queryParams),new pr(t.fragment),new pr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Sd(t,s));return new Ki(r,i)}}const bC="ngNavigationCancelingError";function cU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dU(t){return t&&t[bC]}let hU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["ng-component"]],standalone:!0,features:[hL],decls:1,vars:0,template:function(r,i){1&r&&Fu(0,"router-outlet")},dependencies:[CC],encapsulation:2}),e})();function TC(t){const e=t.children&&t.children.map(TC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=hU),n}function Vr(t){return t.outlet||ne}function Ad(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Zie{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),IC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Qu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Qu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Vie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fie(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(IC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),IC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ad(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class fU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class um{constructor(e,n){this.component=e,this.route=n}}function ese(t,e,n){const r=t._root;return xd(r,e?e._root:null,n,[r.value])}function Xu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function m5(t){return null!==ip(t)}(t)?e.get(t):t:r}function xd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qu(e);return t.children.forEach(o=>{(function nse(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function rse(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ko(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(t.url,e.url)||!ui(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EC(t,e)||!ui(t.queryParams,e.queryParams);default:return!EC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fU(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xd(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new um(a.outlet.component,o))}else o&&Nd(e,a,i),i.canActivateChecks.push(new fU(r)),xd(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Nd(a,n.getContext(o),i)),i}function Nd(t,e,n){const r=Qu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Nd(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new um(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Md(t){return"function"==typeof t}function pU(t){return t instanceof Yg||"EmptyError"===t?.name}const cm=Symbol("INITIAL_VALUE");function Ju(){return Yr(t=>oC(t.map(e=>e.pipe(zu(1),function Kre(...t){const e=fl(t);return xt((n,r)=>{(e?aC(t,n,e):aC(t,n)).subscribe(r)})}(cm)))).pipe(Oe(e=>{for(const n of e)if(!0!==n){if(n===cm)return cm;if(!1===n||n instanceof Wu)return n}return!0}),Fs(e=>e!==cm),zu(1)))}function gU(t){return function v9(...t){return TR(t)}(nn(e=>{if(Qo(e))throw cU(0,e)}),Oe(e=>!0===e))}class lm{constructor(e){this.segmentGroup=e||null}}class mU{constructor(e){this.urlTree=e}}function Zu(t){return md(new lm(t))}function _U(t){return md(new mU(t))}class Cse{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[ne])return md(new T(4e3,!1));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Wu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const DC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bse(t,e,n,r,i){const s=SC(t,e,n);return s.matched?(r=function Wie(t,e){return t.providers&&!t._injector&&(t._injector=iE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function wse(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=Xu(o,t);return Ls(function cse(t){return t&&Md(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ju(),gU()):q(!0)}(r,e,n).pipe(Oe(o=>!0===o?s:{...DC}))):q(s)}function SC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...DC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nie)(n,t,e);if(!i)return{...DC};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function yU(t,e,n,r){return n.length>0&&function Sse(t,e,n){return n.some(r=>dm(t,e,r)&&Vr(r)!==ne)}(t,n,r)?{segmentGroup:new Ne(e,Dse(r,new Ne(n,t.children))),slicedSegments:[]}:0===n.length&&function Ase(t,e,n){return n.some(r=>dm(t,e,r))}(t,n,r)?{segmentGroup:new Ne(t.segments,Tse(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function Tse(t,e,n,r,i){const s={};for(const o of r)if(dm(t,n,o)&&!i[Vr(o)]){const a=new Ne([],{});s[Vr(o)]=a}return{...i,...s}}function Dse(t,e){const n={};n[ne]=e;for(const r of t)if(""===r.path&&Vr(r)!==ne){const i=new Ne([],{});n[Vr(r)]=i}return n}function dm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Rse{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Cse(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=yU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(Wo(n=>{if(n instanceof mU)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof lm?this.noMatchError(n):n}),Oe(n=>{const r=new om([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new Ki(r,n),s=new oU("",i),o=function Eie(t,e,n=null,r=null){return KV(WV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ne).pipe(Wo(r=>{throw r instanceof lm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=sU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Lt(i).pipe(_d(s=>{const o=r.children[s],a=function Xie(t,e){const n=t.filter(r=>Vr(r)===e);return n.push(...t.filter(r=>Vr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Xre(t,e){return xt(function Yre(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Xg(null),function Jre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fs((i,s)=>t(i,s,r)):ws,cC(1),n?Xg(e):PV(()=>new Yg))}(),Yt(s=>{if(null===s)return Zu(r);const o=vU(s);return function kse(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(o),q(o)}))}processSegment(e,n,r,i,s,o){return Lt(n).pipe(_d(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Wo(u=>{if(u instanceof lm)return q(null);throw u}))),qo(a=>!!a),Wo(a=>{if(pU(a))return function Nse(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?q([]):Zu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function xse(t,e,n,r){return!!(Vr(t)===r||r!==ne&&dm(e,n,t))&&("**"===t.path||SC(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Zu(i):Zu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_U(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Yt(o=>{const a=new Ne(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=SC(n,i,s);if(!a)return Zu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_U(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Yt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?FV(i).parameters:{};a=q({snapshot:new om(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wU(r),Vr(r),r.component??r._loadedComponent??null,r,IU(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=bse(n,r,i,e).pipe(Oe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new om(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wU(r),Vr(r),r.component??r._loadedComponent??null,r,IU(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Yr(u=>null===u?Zu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Yr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=yU(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Oe(v=>null===v?null:[new Ki(d,v)]));if(0===c.length&&0===g.length)return q([new Ki(d,[])]);const m=Vr(r)===s;return this.processSegment(l,c,p,g,m?ne:s,!0).pipe(Oe(v=>[new Ki(d,v)]))}))))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function vse(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=Xu(o,t);return Ls(function sse(t){return t&&Md(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ju(),gU())}(e,n,r).pipe(Yt(i=>i?this.configLoader.loadChildren(e,n).pipe(nn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ese(t){return md(lU(!1,3))}())):q({routes:[],injector:e})}}function Pse(t){const e=t.value.routeConfig;return e&&""===e.path}function vU(t){const e=[],n=new Set;for(const r of t){if(!Pse(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=vU(r.children);e.push(new Ki(r.value,i))}return e.filter(r=>!n.has(r))}function wU(t){return t.data||{}}function IU(t){return t.resolve||{}}function EU(t){return"string"==typeof t.title||null===t.title}function AC(t){return Yr(e=>{const n=t(e);return n?Lt(n).pipe(Oe(()=>e)):q(e)})}const ec=new O("ROUTES");let xC=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(s2)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Ls(r.loadComponent()).pipe(Oe(CU),nn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),lC(()=>{this.componentLoaders.delete(r)})),s=new kV(i,()=>new Ar).pipe(uC());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Oe(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(ec,[],ie.Self|ie.Optional).flat()),{routes:l.map(TC),injector:c}}),lC(()=>{this.childrenLoaders.delete(i)})),a=new kV(o,()=>new Ar).pipe(uC());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return Ls(r()).pipe(Oe(CU),Yt(i=>i instanceof lL||Array.isArray(i)?q(i):Lt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function CU(t){return function $se(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let hm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ar,this.transitionAbortSubject=new Ar,this.configLoader=V(xC),this.environmentInjector=V(vr),this.urlSerializer=V(wd),this.rootContexts=V(Dd),this.inputBindingEnabled=null!==V(am,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Pie(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new kie(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new pr({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fs(o=>0!==o.id),Oe(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),Yr(o=>{this.currentTransition=o;let a=!1,u=!1;return q(o).pipe(nn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yr(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new Ku(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Qr}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(Yr(f=>{const p=this.transitions?.getValue();return this.events.next(new im(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Qr:Promise.resolve(f)}),function Ose(t,e,n,r,i,s){return Yt(o=>function Mse(t,e,n,r,i,s,o="emptyOnly"){return new Rse(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Oe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),nn(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new eU(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:v}=c,y=new im(f,this.urlSerializer.serialize(p),g,m);this.events.next(y);const E=iU(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:E,urlAfterRedirects:p,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},q(o)}{const f="";return this.events.next(new Ku(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Qr}}),nn(c=>{const l=new xie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Oe(c=>(this.currentTransition=o={...c,guards:ese(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function dse(t,e){return Yt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?q({...n,guardsResult:!0}):function hse(t,e,n,r){return Lt(t).pipe(Yt(i=>function yse(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const u=Ad(e)??i,c=Xu(a,u);return Ls(function use(t){return t&&Md(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(qo())})).pipe(Ju()):q(!0)}(i.component,i.route,n,e,r)),qo(i=>!0!==i,!0))}(o,r,i,t).pipe(Yt(a=>a&&function ise(t){return"boolean"==typeof t}(a)?function fse(t,e,n,r){return Lt(e).pipe(_d(i=>aC(function gse(t,e){return null!==t&&e&&e(new Oie(t)),q(!0)}(i.route.parent,r),function pse(t,e){return null!==t&&e&&e(new Lie(t)),q(!0)}(i.route,r),function _se(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function tse(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>RV(()=>q(o.guards.map(u=>{const c=Ad(o.node)??n,l=Xu(u,c);return Ls(function ase(t){return t&&Md(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(qo())})).pipe(Ju())));return q(s).pipe(Ju())}(t,i.path,n),function mse(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>RV(()=>{const o=Ad(e)??n,a=Xu(s,o);return Ls(function ose(t){return t&&Md(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(qo())}));return q(i).pipe(Ju())}(t,i.route,n))),qo(i=>!0!==i,!0))}(r,s,t,e):q(a)),Oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),nn(c=>{if(o.guardsResult=c.guardsResult,Qo(c.guardsResult))throw cU(0,c.guardsResult);const l=new Nie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Fs(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),AC(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(nn(l=>{const d=new Mie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Yr(l=>{let d=!1;return q(l).pipe(function Fse(t,e){return Yt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=0;return Lt(i).pipe(_d(o=>function Lse(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!EU(i)&&(s[yd]=i.title),function Vse(t,e,n,r){const i=function Use(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const s={};return Lt(i).pipe(Yt(o=>function Bse(t,e,n,r){const i=Ad(e)??r,s=Xu(t,i);return Ls(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(qo(),nn(a=>{s[o]=a}))),cC(1),function Zre(t){return Oe(()=>t)}(s),Wo(o=>pU(o)?Qr:md(o)))}(s,t,e,r).pipe(Oe(o=>(t._resolvedData=o,t.data=sU(t,n).resolve,i&&EU(i)&&(t.data[yd]=i.title),null)))}(o.route,r,t,e)),nn(()=>s++),cC(1),Yt(o=>s===i.length?q(n):Qr))})}(r.paramsInheritanceStrategy,this.environmentInjector),nn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),nn(l=>{const d=new Rie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),AC(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(nn(f=>{d.component=f}),Oe(()=>{})));for(const f of d.children)h.push(...l(f));return h};return oC(l(c.targetSnapshot.root)).pipe(Xg(),zu(1))}),AC(()=>this.afterPreactivation()),Oe(c=>{const l=function Hie(t,e,n){const r=Sd(t,e._root,n?n._root:void 0);return new rU(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),nn(()=>{this.events.next(new mC)}),((t,e,n,r)=>Oe(i=>(new Zie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zu(1),nn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function eie(t){return xt((e,n)=>{Zn(t).subscribe(Ct(n,()=>n.complete(),xv)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(nn(c=>{throw c}))),lC(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Wo(c=>{if(u=!0,dU(c))this.events.next(new Td(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function qie(t){return dU(t)&&Qo(t.url)}(c)?this.events.next(new _C(c.url)):o.resolve(!1);else{this.events.next(new sm(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return Qr}))}))}cancelNavigationTransition(r,i,s){const o=new Td(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bU(t){return t!==bd}let TU=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[yd]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return V(jse)},providedIn:"root"}),e})(),jse=(()=>{var t;class e extends TU{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)($(bV))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Hse=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return V(zse)},providedIn:"root"}),e})();class Gse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let zse=(()=>{var t;class e extends Gse{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=tn(t)))(i||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const fm=new O("",{providedIn:"root",factory:()=>({})});let qse=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return V(Wse)},providedIn:"root"}),e})(),Wse=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Rd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rd||{});function DU(t,e){t.events.pipe(Fs(n=>n instanceof Vs||n instanceof Td||n instanceof sm||n instanceof Ku),Oe(n=>n instanceof Vs||n instanceof Ku?Rd.COMPLETE:n instanceof Td&&(0===n.code||1===n.code)?Rd.REDIRECTING:Rd.FAILED),Fs(n=>n!==Rd.REDIRECTING),zu(1)).subscribe(()=>{e()})}function Kse(t){throw t}function Qse(t,e,n){return e.parse("/")}const Yse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(r2),this.isNgZoneEnabled=!1,this._events=new Ar,this.options=V(fm,{optional:!0})||{},this.pendingTasks=V(i2),this.errorHandler=this.options.errorHandler||Kse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Qse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(qse),this.routeReuseStrategy=V(Hse),this.titleStrategy=V(TU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(ec,{optional:!0})?.flat()??[],this.navigationTransitions=V(hm),this.urlSerializer=V(wd),this.location=V(OE),this.componentInputBindingEnabled=!!V(am,{optional:!0}),this.eventsSubscription=new Ln,this.isNgZoneEnabled=V(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(SU(i)&&this._events.next(i));if(i instanceof im)bU(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Ku)this.rawUrlTree=s.rawUrl;else if(i instanceof eU){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof mC)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Td)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof _C){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bU(s.source)};this.scheduleNavigation(o,bd,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof sm&&this.restoreHistory(s,!0),i instanceof Vs&&(this.navigated=!0),SU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(TC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=WV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return KV(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Qo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,bd,null,i)}navigate(r,i={skipLocationChange:!1}){return function Jse(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Yse}:!1===i?{...Xse}:i,Qo(r))return VV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return VV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return DU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function SU(t){return!(t instanceof mC||t instanceof _C)}let Us=(()=>{var t;class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Ar,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Vs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function dP(t,e,n){return function CK(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?lP:cP}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(D(ar),D(Yu),function xp(t){return function H7(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(rk(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(en(),t)}("tabindex"),D(Ui),D(ir),D(zo))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Hn("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&si("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Hu],skipLocationChange:["skipLocationChange","skipLocationChange",Hu],replaceUrl:["replaceUrl","replaceUrl",Hu],routerLink:"routerLink"},standalone:!0,features:[TO,_r]}),e})();class AU{}let toe=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Fs(r=>r instanceof Vs),_d(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=iE(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Lt(s).pipe(Wa())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):q(null);const o=s.pipe(Yt(a=>null===a?q(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?Lt([o,this.loader.loadComponent(i)]).pipe(Wa()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)($(ar),$(s2),$(vr),$(AU),$(xC))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const NC=new O("");let xU=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof im?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Vs?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ku&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof tU&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tU(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function JP(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function Qi(t,e){return{\u0275kind:t,\u0275providers:e}}function MU(){const t=V(_t);return e=>{const n=t.get(ju);if(e!==n.components[0])return;const r=t.get(ar),i=t.get(RU);1===t.get(MC)&&r.initialNavigation(),t.get(kU,null,ie.Optional)?.setUpPreloading(),t.get(NC,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RU=new O("",{factory:()=>new Ar}),MC=new O("",{providedIn:"root",factory:()=>1}),kU=new O("");function soe(t){return Qi(0,[{provide:kU,useExisting:toe},{provide:AU,useExisting:t}])}const PU=new O("ROUTER_FORROOT_GUARD"),aoe=[OE,{provide:wd,useClass:dC},ar,Dd,{provide:Yu,useFactory:function NU(t){return t.routerState.root},deps:[ar]},xC,[]];function uoe(){return new h2("Router",ar)}let OU=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[aoe,[],{provide:ec,multi:!0,useValue:r},{provide:PU,useFactory:hoe,deps:[[ar,new Ee,new Rp]]},{provide:fm,useValue:i||{}},i?.useHash?{provide:zo,useClass:mte}:{provide:zo,useClass:j2},{provide:NC,useFactory:()=>{const t=V(Lne),e=V(de),n=V(fm),r=V(hm),i=V(wd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new xU(i,r,t,e,n)}},i?.preloadingStrategy?soe(i.preloadingStrategy).\u0275providers:[],{provide:h2,multi:!0,useFactory:uoe},i?.initialNavigation?foe(i):[],i?.bindToComponentInputs?Qi(8,[uU,{provide:am,useExisting:uU}]).\u0275providers:[],[{provide:FU,useFactory:MU},{provide:TE,multi:!0,useExisting:FU}]]}}static forChild(r){return{ngModule:e,providers:[{provide:ec,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)($(PU,8))},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({}),e})();function hoe(t){return"guarded"}function foe(t){return["disabled"===t.initialNavigation?Qi(3,[{provide:cd,multi:!0,useFactory:()=>{const e=V(ar);return()=>{e.setUpLocationChangeListener()}}},{provide:MC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Qi(2,[{provide:MC,useValue:0},{provide:cd,multi:!0,deps:[_t],useFactory:e=>{const n=e.get(pte,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ar),s=e.get(RU);DU(i,()=>{r(!0)}),e.get(hm).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const FU=new O("");function LU(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){LU(s,r,i,o,a,"next",u)}function a(u){LU(s,r,i,o,a,"throw",u)}o(void 0)})}}let VU=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(D(Ui),D(ir))},t.\u0275dir=K({type:t}),e})(),Yo=(()=>{var t;class e extends VU{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=tn(t)))(i||t)}}(),t.\u0275dir=K({type:t,features:[xe]}),e})();const li=new O("NgValueAccessor"),_oe={provide:li,useExisting:Ve(()=>pm),multi:!0},voe=new O("CompositionEventMode");let pm=(()=>{var t;class e extends VU{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yoe(){const t=Ps()?Ps().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(D(Ui),D(ir),D(voe,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Hn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Xe([_oe]),xe]}),e})();function Bs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function BU(t){return null!=t&&"number"==typeof t.length}const pn=new O("NgValidators"),$s=new O("NgAsyncValidators"),woe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gm{static min(e){return function $U(t){return e=>{if(Bs(e.value)||Bs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function jU(t){return e=>{if(Bs(e.value)||Bs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function HU(t){return Bs(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function GU(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function zU(t){return Bs(t.value)||woe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function qU(t){return e=>Bs(e.value)||!BU(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function WU(t){return e=>BU(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function KU(t){if(!t)return mm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Bs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return eB(e)}static composeAsync(e){return tB(e)}}function mm(t){return null}function QU(t){return null!=t}function YU(t){return Zl(t)?Lt(t):t}function XU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function JU(t,e){return e.map(n=>n(t))}function ZU(t){return t.map(e=>function Ioe(t){return!t.validate}(e)?e:n=>e.validate(n))}function eB(t){if(!t)return null;const e=t.filter(QU);return 0==e.length?null:function(n){return XU(JU(n,e))}}function RC(t){return null!=t?eB(ZU(t)):null}function tB(t){if(!t)return null;const e=t.filter(QU);return 0==e.length?null:function(n){return function goe(...t){const e=HR(t),{args:n,keys:r}=AV(t),i=new tt(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Zn(n[l]).subscribe(Ct(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?NV(r,a):a),s.complete())}))}});return e?i.pipe(xV(e)):i}(JU(n,e).map(YU)).pipe(Oe(XU))}}function kC(t){return null!=t?tB(ZU(t)):null}function nB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rB(t){return t._rawValidators}function iB(t){return t._rawAsyncValidators}function PC(t){return t?Array.isArray(t)?t:[t]:[]}function _m(t,e){return Array.isArray(t)?t.includes(e):t===e}function sB(t,e){const n=PC(e);return PC(t).forEach(i=>{_m(n,i)||n.push(i)}),n}function oB(t,e){return PC(e).filter(n=>!_m(t,n))}class aB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Nn extends aB{get formDirective(){return null}get path(){return null}}class js extends aB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cB=(()=>{var t;class e extends uB{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(D(js,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&wg("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xe]}),e})(),lB=(()=>{var t;class e extends uB{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(D(Nn,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&wg("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xe]}),e})();const kd="VALID",vm="INVALID",tc="PENDING",Pd="DISABLED";function LC(t){return(wm(t)?t.validators:t)||null}function VC(t,e){return(wm(e)?e.asyncValidators:t)||null}function wm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function hB(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function fB(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Im{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kd}get invalid(){return this.status===vm}get pending(){return this.status==tc}get disabled(){return this.status===Pd}get enabled(){return this.status!==Pd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oB(e,this._rawAsyncValidators))}hasValidator(e){return _m(this._rawValidators,e)}hasAsyncValidator(e){return _m(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kd||this.status===tc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pd:kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tc,this._hasOwnPendingAsyncValidator=!0;const n=YU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?Pd:this.errors?vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tc)?tc:this._anyControlsHaveStatus(vm)?vm:kd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Toe(t){return Array.isArray(t)?RC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Doe(t){return Array.isArray(t)?kC(t):t||null}(this._rawAsyncValidators)}}class Od extends Im{constructor(e,n,r){super(LC(n),VC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fB(this,0,e),Object.keys(e).forEach(r=>{hB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class pB extends Od{}const Xo=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Fd}),Fd="always";function Em(t,e){return[...e.path,t]}function Ld(t,e,n=Fd){UC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Aoe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gB(t,e)})}(t,e),function Noe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function xoe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Soe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Cm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Tm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function UC(t,e){const n=rB(t);null!==e.validator?t.setValidators(nB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=iB(t);null!==e.asyncValidator?t.setAsyncValidators(nB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();bm(e._rawValidators,i),bm(e._rawAsyncValidators,i)}function Tm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=rB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=iB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return bm(e._rawValidators,r),bm(e._rawAsyncValidators,r),n}function gB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $C(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function jC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===pm?n=s:function koe(t){return Object.getPrototypeOf(t.constructor)===Yo}(s)?r=s:i=s}),i||r||n||null}function yB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function vB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ud=class extends Im{constructor(e=null,n,r){super(LC(n),VC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=vB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Voe={provide:js,useExisting:Ve(()=>GC)},EB=(()=>Promise.resolve())();let GC=(()=>{var t;class e extends js{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Ud,this._registered=!1,this.name="",this.update=new ut,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=jC(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),$C(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ld(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){EB.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&Hu(i);EB.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Em(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(D(Nn,9),D(pn,10),D($s,10),D(li,10),D(Rg,8),D(Xo,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xe([Voe]),xe,_r]}),e})(),CB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),TB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({}),e})();const zC=new O("NgModelWithFormControlWarning"),Goe={provide:Nn,useExisting:Ve(()=>Dm)};let Dm=(()=>{var t;class e extends Nn{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ut,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return Ld(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Cm(r.control||null,r,!1),function Poe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function _B(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,s=this.form.get(r.path);i!==s&&(Cm(i||null,r),(t=>t instanceof Ud)(s)&&(Ld(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function mB(t,e){UC(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function Moe(t,e){return Tm(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UC(this.form,this),this._oldForm&&Tm(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(D(pn,10),D($s,10),D(Xo,8))},t.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Hn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xe([Goe]),xe,_r]}),e})();const Woe={provide:js,useExisting:Ve(()=>KC)};let KC=(()=>{var t;class e extends js{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ut,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=jC(0,o)}ngOnChanges(r){this._added||this._setUpControl(),$C(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Em(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(D(Nn,13),D(pn,10),D($s,10),D(li,10),D(zC,8))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xe([Woe]),xe,_r]}),e})();const Koe={provide:li,useExisting:Ve(()=>Sm),multi:!0};function NB(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Sm=(()=>{var t;class e extends Yo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const s=NB(this._getOptionId(r),r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Qoe(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=tn(t)))(i||t)}}(),t.\u0275dir=K({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Hn("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xe([Koe]),xe]}),e})(),MB=(()=>{var t;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(NB(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(D(ir),D(Ui),D(Sm,9))},t.\u0275dir=K({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Yoe={provide:li,useExisting:Ve(()=>QC),multi:!0};function RB(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let QC=(()=>{var t;class e extends Yo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const s=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let u=0;u<a.length;u++){const l=this._getOptionValue(a[u].value);s.push(l)}}else{const a=i.options;for(let u=0;u<a.length;u++){const c=a[u];if(c.selected){const l=this._getOptionValue(c.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Xoe(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=tn(t)))(i||t)}}(),t.\u0275dir=K({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Hn("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xe([Yoe]),xe]}),e})(),kB=(()=>{var t;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(RB(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(RB(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(D(ir),D(Ui),D(QC,9))},t.\u0275dir=K({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),HB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({imports:[TB]}),e})();class GB extends Im{constructor(e,n,r){super(LC(n),VC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){fB(this,0,e),e.forEach((r,i)=>{hB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function zB(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let oae=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const s=this._reduceControls(r);let o={};return zB(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Od(s,o)}record(r,i=null){const s=this._reduceControls(r);return new pB(s,i)}control(r,i,s){let o={};return this.useNonNullable?(zB(i)?o=i:(o.validators=i,o.asyncValidators=s),new Ud(r,{...o,nonNullable:!0})):new Ud(r,i,s)}array(r,i,s){const o=r.map(a=>this._createControl(a));return new GB(o,i,s)}_reduceControls(r){const i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){return r instanceof Ud||r instanceof Im?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),aae=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xo,useValue:r.callSetDisabledState??Fd}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({imports:[HB]}),e})(),uae=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:zC,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Xo,useValue:r.callSetDisabledState??Fd}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({imports:[HB]}),e})();const M=function(t,e){if(!t)throw nc(e)},nc=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},qB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Am={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new lae;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WB=function(t){const e=qB(t);return Am.encodeByteArray(e,!0)},xm=function(t){return WB(t).replace(/\./g,"")},Nm=function(t){try{return Am.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dae(t){return KB(void 0,t)}function KB(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hae(n)||(t[n]=KB(t[n],e[n]));return t}function hae(t){return"__proto__"!==t}const Mm=()=>{try{return function fae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nm(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},QB=t=>{var e,n;return null===(n=null===(e=Mm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Rm=t=>{const e=QB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YB=()=>{var t;return null===(t=Mm())||void 0===t?void 0:t.config},XB=t=>{var e;return null===(e=Mm())||void 0===e?void 0:e[`_${t}`]};class rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function JC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xm(JSON.stringify({alg:"none",type:"JWT"})),xm(JSON.stringify(o)),""].join(".")}function Vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function eb(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function JB(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zo(){try{return"object"==typeof indexedDB}catch{return!1}}function Bd(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function tb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,di.prototype.create)}}class di{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function wae(t,e){return t.replace(Iae,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ur(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Iae=/\{\$([^}]+)}/g;function $d(t){return JSON.parse(t)}function rn(t){return JSON.stringify(t)}const km=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$d(Nm(s[0])||""),n=$d(Nm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Xi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ic(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Om(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ZB(s)&&ZB(o)){if(!Om(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZB(t){return null!==t&&"object"==typeof t}function jd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class bae{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Dae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Sae(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=rb),void 0===i.error&&(i.error=rb),void 0===i.complete&&(i.complete=rb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(){}const Lm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},xae=1e3,Nae=2,Mae=144e5,Rae=.5;function ib(t,e=xae,n=Nae){const r=e*Math.pow(n,t),i=Math.round(Rae*r*(Math.random()-.5)*2);return Math.min(Mae,r+i)}function Ut(t){return t&&t._delegate?t._delegate:t}class Pt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class Pae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Fae(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ea?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const sb=[];var we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{});const e$={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Vae=we.INFO,Uae={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Bae=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Uae[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ta{constructor(e){this.name=e,this._logLevel=Vae,this._logHandler=Bae,this._userLogHandler=null,sb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?e$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const $ae=(t,e)=>e.some(n=>t instanceof n);let t$,n$;const r$=new WeakMap,ob=new WeakMap,i$=new WeakMap,ab=new WeakMap,ub=new WeakMap;let cb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ob.get(t);if("objectStoreNames"===e)return t.objectStoreNames||i$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kae(t){return"function"==typeof t?function Wae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hae(){return n$||(n$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(lb(this),e),Hs(r$.get(this))}:function(...e){return Hs(t.apply(lb(this),e))}:function(e,...n){const r=t.call(lb(this),e,...n);return i$.set(r,e.sort?e.sort():[e]),Hs(r)}}(t):(t instanceof IDBTransaction&&function zae(t){if(ob.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ob.set(t,e)}(t),$ae(t,function jae(){return t$||(t$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cb):t)}function Hs(t){if(t instanceof IDBRequest)return function Gae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&r$.set(n,t)}).catch(()=>{}),ub.set(e,t),e}(t);if(ab.has(t))return ab.get(t);const e=Kae(t);return e!==t&&(ab.set(t,e),ub.set(e,t)),e}const lb=t=>ub.get(t),Yae=["get","getKey","getAll","getAllKeys","count"],Xae=["put","add","delete","clear"],db=new Map;function s$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(db.get(e))return db.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yae.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return db.set(e,s),s}!function qae(t){cb=t(cb)}(t=>({...t,get:(e,n,r)=>s$(e,n)||t.get(e,n,r),has:(e,n)=>!!s$(e,n)||t.has(e,n)}));class Jae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Zae(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const hb="@firebase/app",na=new ta("@firebase/app"),Vm="[DEFAULT]",Tue={[hb]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ra=new Map,Um=new Map;function Due(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bt(t){const e=t.name;if(Um.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,t);for(const n of ra.values())Due(n,t);return!0}function Ur(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ji=new di("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Aue{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const Zi="9.23.0";function a$(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(n||(n=YB()),!n)throw Ji.create("no-options");const s=ra.get(i);if(s){if(Om(n,s.options)&&Om(r,s.config))return s;throw Ji.create("duplicate-app",{appName:i})}const o=new Lae(i);for(const u of Um.values())o.addComponent(u);const a=new Aue(n,r,o);return ra.set(i,a),a}function Gs(t=Vm){const e=ra.get(t);if(!e&&t===Vm&&YB())return a$();if(!e)throw Ji.create("no-app",{appName:t});return e}function u$(){return Array.from(ra.values())}function ye(t,e,n){var r;let i=null!==(r=Tue[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void na.warn(a.join(" "))}Bt(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xue="firebase-heartbeat-database",Nue=1,zd="firebase-heartbeat-store";let pb=null;function c$(){return pb||(pb=function Qae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Hs(o.result),u.oldVersion,u.newVersion,Hs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(xue,Nue,{upgrade:(t,e)=>{0===e&&t.createObjectStore(zd)}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),pb}function gb(){return(gb=_(function*(t){try{return yield(yield c$()).transaction(zd).objectStore(zd).get(d$(t))}catch(e){if(e instanceof ur)na.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e?.message});na.warn(n.message)}}})).apply(this,arguments)}function l$(t,e){return mb.apply(this,arguments)}function mb(){return(mb=_(function*(t,e){try{const r=(yield c$()).transaction(zd,"readwrite");yield r.objectStore(zd).put(e,d$(t)),yield r.done}catch(n){if(n instanceof ur)na.warn(n.message);else{const r=Ji.create("idb-set",{originalErrorMessage:n?.message});na.warn(r.message)}}})).apply(this,arguments)}function d$(t){return`${t.name}!${t.options.appId}`}class Pue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=h$();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=h$(),{heartbeatsToSend:r,unsentEntries:i}=function Oue(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f$(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=xm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function h$(){return(new Date).toISOString().substring(0,10)}class Fue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Zo()&&Bd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Mue(t){return gb.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return l$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return l$(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function f$(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}!function Lue(t){Bt(new Pt("platform-logger",e=>new Jae(e),"PRIVATE")),Bt(new Pt("heartbeat",e=>new Pue(e),"PRIVATE")),ye(hb,"0.9.13",t),ye(hb,"0.9.13","esm2017"),ye("fire-js","")}(""),ye("firebase","9.23.0","app");const Bue=(t,e)=>e.some(n=>t instanceof n);let p$,g$;const m$=new WeakMap,_b=new WeakMap,_$=new WeakMap,yb=new WeakMap,vb=new WeakMap;let wb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return _b.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Wue(t){return"function"==typeof t?function que(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jue(){return g$||(g$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ib(this),e),zs(m$.get(this))}:function(...e){return zs(t.apply(Ib(this),e))}:function(e,...n){const r=t.call(Ib(this),e,...n);return _$.set(r,e.sort?e.sort():[e]),zs(r)}}(t):(t instanceof IDBTransaction&&function Gue(t){if(_b.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_b.set(t,e)}(t),Bue(t,function $ue(){return p$||(p$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,wb):t)}function zs(t){if(t instanceof IDBRequest)return function Hue(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m$.set(n,t)}).catch(()=>{}),vb.set(e,t),e}(t);if(yb.has(t))return yb.get(t);const e=Wue(t);return e!==t&&(yb.set(t,e),vb.set(e,t)),e}const Ib=t=>vb.get(t),Que=["get","getKey","getAll","getAllKeys","count"],Yue=["put","add","delete","clear"],Eb=new Map;function y$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Eb.get(e))return Eb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Yue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Que.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Eb.set(e,s),s}!function zue(t){wb=t(wb)}(t=>({...t,get:(e,n,r)=>y$(e,n)||t.get(e,n,r),has:(e,n)=>!!y$(e,n)||t.has(e,n)}));const v$="@firebase/installations",Cb="0.6.4",w$=1e4,I$=`w:${Cb}`,E$="FIS_v2",Xue="https://firebaseinstallations.googleapis.com/v1",Jue=36e5,es=new di("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function C$(t){return t instanceof ur&&t.code.includes("request-failed")}function bb({projectId:t}){return`${Xue}/projects/${t}/installations`}function b$(t){return{token:t.token,requestStatus:2,expiresIn:nce(t.expiresIn),creationTime:Date.now()}}function Tb(t,e){return Db.apply(this,arguments)}function Db(){return(Db=_(function*(t,e){const r=(yield e.json()).error;return es.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function T$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sb(t){return Ab.apply(this,arguments)}function Ab(){return(Ab=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function nce(t){return Number(t.replace("s","000"))}function xb(){return(xb=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bb(t),i=T$(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:E$,appId:t.appId,sdkVersion:I$})},u=yield Sb(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:b$(c.authToken)}}throw yield Tb("Create Installation",u)})).apply(this,arguments)}function S$(t){return new Promise(e=>{setTimeout(e,t)})}const oce=/^[cdef][\w-]{21}$/,Nb="";function ace(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function uce(t){return function sce(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return oce.test(n)?n:Nb}catch{return Nb}}function sc(t){return`${t.appName}!${t.appId}`}const oc=new Map;function A$(t,e){const n=sc(t);x$(n,e),function dce(t,e){const n=function N$(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=t=>{x$(t.data.key,t.data.fid)}),ia}();n&&n.postMessage({key:t,fid:e}),function M$(){0===oc.size&&ia&&(ia.close(),ia=null)}()}(n,e)}function x$(t,e){const n=oc.get(t);if(n)for(const r of n)r(e)}let ia=null;const hce="firebase-installations-database",fce=1,sa="firebase-installations-store";let Mb=null;function Rb(){return Mb||(Mb=function Kue(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zs(o.result),u.oldVersion,u.newVersion,zs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(hce,fce,{upgrade:(t,e)=>{0===e&&t.createObjectStore(sa)}})),Mb}function Bm(t,e){return kb.apply(this,arguments)}function kb(){return(kb=_(function*(t,e){const n=sc(t),i=(yield Rb()).transaction(sa,"readwrite"),s=i.objectStore(sa),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&A$(t,e.fid),e})).apply(this,arguments)}function Pb(t){return Ob.apply(this,arguments)}function Ob(){return(Ob=_(function*(t){const e=sc(t),r=(yield Rb()).transaction(sa,"readwrite");yield r.objectStore(sa).delete(e),yield r.done})).apply(this,arguments)}function qd(t,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=_(function*(t,e){const n=sc(t),i=(yield Rb()).transaction(sa,"readwrite"),s=i.objectStore(sa),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&A$(t,a.fid),a})).apply(this,arguments)}function Lb(t){return Vb.apply(this,arguments)}function Vb(){return Vb=_(function*(t){let e;const n=yield qd(t.appConfig,r=>{const i=function pce(t){return k$(t||{fid:ace(),registrationStatus:0})}(r),s=function gce(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(es.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mce(t,e){return Ub.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_ce(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Nb?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Vb.apply(this,arguments)}function Ub(){return Ub=_(function*(t,e){try{const n=yield function ice(t,e){return xb.apply(this,arguments)}(t,e);return Bm(t.appConfig,n)}catch(n){throw C$(n)&&409===n.customData.serverCode?yield Pb(t.appConfig):yield Bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ub.apply(this,arguments)}function _ce(t){return Bb.apply(this,arguments)}function Bb(){return(Bb=_(function*(t){let e=yield R$(t.appConfig);for(;1===e.registrationStatus;)yield S$(100),e=yield R$(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Lb(t);return r||n}return e})).apply(this,arguments)}function R$(t){return qd(t,e=>{if(!e)throw es.create("installation-not-found");return k$(e)})}function k$(t){return function yce(t){return 1===t.registrationStatus&&t.registrationTime+w$<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $b(){return($b=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function wce(t,{fid:e}){return`${bb(t)}/${e}/authTokens:generate`}(t,n),i=function D$(t,{refreshToken:e}){const n=T$(t);return n.append("Authorization",function rce(t){return`${E$} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:I$,appId:t.appId}})},u=yield Sb(()=>fetch(r,a));if(u.ok)return b$(yield u.json());throw yield Tb("Generate Auth Token",u)})).apply(this,arguments)}function jb(t){return Hb.apply(this,arguments)}function Hb(){return Hb=_(function*(t,e=!1){let n;const r=yield qd(t.appConfig,s=>{if(!O$(s))throw es.create("not-registered");const o=s.authToken;if(!e&&function Cce(t){return 2===t.requestStatus&&!function bce(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Jue}(t)}(o))return s;if(1===o.requestStatus)return n=function Ice(t,e){return Gb.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw es.create("app-offline");const a=function Tce(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ece(t,e){return zb.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Hb.apply(this,arguments)}function Gb(){return(Gb=_(function*(t,e){let n=yield P$(t.appConfig);for(;1===n.authToken.requestStatus;)yield S$(100),n=yield P$(t.appConfig);const r=n.authToken;return 0===r.requestStatus?jb(t,e):r})).apply(this,arguments)}function P$(t){return qd(t,e=>{if(!O$(e))throw es.create("not-registered");return function Dce(t){return 1===t.requestStatus&&t.requestTime+w$<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function zb(){return zb=_(function*(t,e){try{const n=yield function vce(t,e){return $b.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Bm(t.appConfig,r),n}catch(n){if(!C$(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Bm(t.appConfig,r)}else yield Pb(t.appConfig);throw n}}),zb.apply(this,arguments)}function O$(t){return void 0!==t&&2===t.registrationStatus}function qb(){return(qb=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Lb(e);return r?r.catch(console.error):jb(e).catch(console.error),n.fid})).apply(this,arguments)}function Wb(){return Wb=_(function*(t,e=!1){const n=t;return yield function xce(t){return Kb.apply(this,arguments)}(n),(yield jb(n,e)).token}),Wb.apply(this,arguments)}function Kb(){return(Kb=_(function*(t){const{registrationPromise:e}=yield Lb(t);e&&(yield e)})).apply(this,arguments)}function Xb(t){return es.create("missing-app-config-values",{valueName:t})}const F$="installations",Pce=t=>{const e=t.getProvider("app").getImmediate(),n=function Rce(t){if(!t||!t.options)throw Xb("App Configuration");if(!t.name)throw Xb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ur(e,"heartbeat"),_delete:()=>Promise.resolve()}},Oce=t=>{const n=Ur(t.getProvider("app").getImmediate(),F$).getImmediate();return{getId:()=>function Sce(t){return qb.apply(this,arguments)}(n),getToken:i=>function Ace(t){return Wb.apply(this,arguments)}(n,i)}};(function Fce(){Bt(new Pt(F$,Pce,"PUBLIC")),Bt(new Pt("installations-internal",Oce,"PRIVATE"))})(),ye(v$,Cb),ye(v$,Cb,"esm2017");const Jb="@firebase/remote-config",V$="remote-config",qn=new di("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Hce(t=Gs()){return Ur(t=Ut(t),V$).getImmediate()}class Kce{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Qce(t=navigator){return t.languages&&t.languages[0]||t.language}class Yce{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Qce()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",y(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),qn.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw qn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw qn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Zce{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function Xce(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Jce(t){if(!(t instanceof ur&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+ib(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class nle{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jm(t,e){const n=t.target.error||void 0;return qn.create(e,{originalErrorMessage:n&&n?.message})}const oa="app_namespace_store";class ole{constructor(e,n,r,i=function sle(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(jm(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oa,{keyPath:"compositeKey"})}}catch(n){e(qn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([oa],"readonly").objectStore(oa),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(jm(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(qn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([oa],"readwrite").objectStore(oa),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(jm(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(qn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([oa],"readwrite").objectStore(oa),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(jm(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(qn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ale{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function cle(){return rT.apply(this,arguments)}function rT(){return(rT=_(function*(){if(!Zo())return!1;try{return yield Bd()}catch{return!1}})).apply(this,arguments)}!function ule(){Bt(new Pt(V$,function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qn.create("registration-window");if(!Zo())throw qn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw qn.create("registration-project-id");if(!o)throw qn.create("registration-api-key");if(!a)throw qn.create("registration-app-id");const u=new ole(a,r.name,n=n||"firebase"),c=new ale(u),l=new ta(Jb);l.logLevel=we.ERROR;const d=new Yce(i,Zi,n,s,o,a),h=new Zce(d,u),f=new Kce(h,u,c,l),p=new nle(r,f,c,u,l);return function zce(t){const e=Ut(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ye(Jb,"0.4.4"),ye(Jb,"0.4.4","esm2017")}();const lle=(t,e)=>e.some(n=>t instanceof n);let B$,$$;const j$=new WeakMap,iT=new WeakMap,H$=new WeakMap,sT=new WeakMap,oT=new WeakMap;let aT={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||H$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _le(t){return"function"==typeof t?function mle(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hle(){return $$||($$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uT(this),e),ts(j$.get(this))}:function(...e){return ts(t.apply(uT(this),e))}:function(e,...n){const r=t.call(uT(this),e,...n);return H$.set(r,e.sort?e.sort():[e]),ts(r)}}(t):(t instanceof IDBTransaction&&function ple(t){if(iT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});iT.set(t,e)}(t),lle(t,function dle(){return B$||(B$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aT):t)}function ts(t){if(t instanceof IDBRequest)return function fle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&j$.set(n,t)}).catch(()=>{}),oT.set(e,t),e}(t);if(sT.has(t))return sT.get(t);const e=_le(t);return e!==t&&(sT.set(t,e),oT.set(e,t)),e}const uT=t=>oT.get(t);function G$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ts(o.result),u.oldVersion,u.newVersion,ts(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function cT(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ts(n).then(()=>{})}const yle=["get","getKey","getAll","getAllKeys","count"],vle=["put","add","delete","clear"],lT=new Map;function z$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(lT.get(e))return lT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yle.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return lT.set(e,s),s}!function gle(t){aT=t(aT)}(t=>({...t,get:(e,n,r)=>z$(e,n)||t.get(e,n,r),has:(e,n)=>!!z$(e,n)||t.has(e,n)}));const wle="/firebase-messaging-sw.js",Ile="/firebase-cloud-messaging-push-scope",q$="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ele="https://fcmregistrations.googleapis.com/v1",W$="google.c.a.c_id",Cle="google.c.a.c_l",ble="google.c.a.ts";var Hm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Hm||{});function ns(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sle(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const dT="fcm_token_details_db",Ale=5,K$="fcm_token_object_Store";function hT(){return hT=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(dT))return null;let e=null;return(yield G$(dT,Ale,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(K$))return;const c=a.objectStore(K$),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ns(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ns(d.auth),p256dh:ns(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ns(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ns(d.auth),p256dh:ns(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ns(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield cT(dT),yield cT("fcm_vapid_details_db"),yield cT("undefined"),function Nle(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),hT.apply(this,arguments)}const Mle="firebase-messaging-database",Rle=1,aa="firebase-messaging-store";let fT=null;function pT(){return fT||(fT=G$(Mle,Rle,{upgrade:(t,e)=>{0===e&&t.createObjectStore(aa)}})),fT}function Q$(t){return gT.apply(this,arguments)}function gT(){return gT=_(function*(t){const e=vT(t),r=yield(yield pT()).transaction(aa).objectStore(aa).get(e);if(r)return r;{const i=yield function xle(t){return hT.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield mT(t,i),i}}),gT.apply(this,arguments)}function mT(t,e){return _T.apply(this,arguments)}function _T(){return(_T=_(function*(t,e){const n=vT(t),i=(yield pT()).transaction(aa,"readwrite");return yield i.objectStore(aa).put(e,n),yield i.done,e})).apply(this,arguments)}function yT(){return(yT=_(function*(t){const e=vT(t),r=(yield pT()).transaction(aa,"readwrite");yield r.objectStore(aa).delete(e),yield r.done})).apply(this,arguments)}function vT({appConfig:t}){return t.appId}const sn=new di("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ole(t,e){return wT.apply(this,arguments)}function wT(){return(wT=_(function*(t,e){const n=yield bT(t),r=X$(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(CT(t.appConfig),i)).json()}catch(o){throw sn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw sn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw sn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function IT(){return(IT=_(function*(t,e){const n=yield bT(t),r=X$(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${CT(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw sn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw sn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw sn.create("token-update-no-token");return s.token})).apply(this,arguments)}function Y$(t,e){return ET.apply(this,arguments)}function ET(){return(ET=_(function*(t,e){const r={method:"DELETE",headers:yield bT(t)};try{const s=yield(yield fetch(`${CT(t.appConfig)}/${e}`,r)).json();if(s.error)throw sn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw sn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function CT({projectId:t}){return`${Ele}/projects/${t}/registrations`}function bT(t){return TT.apply(this,arguments)}function TT(){return(TT=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function X$({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==q$&&(i.web.applicationPubKey=r),i}const Lle=6048e5;function DT(){return DT=_(function*(t){const e=yield function Ble(t,e){return NT.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ns(e.getKey("auth")),p256dh:ns(e.getKey("p256dh"))},r=yield Q$(t.firebaseDependencies);if(r){if(function $le(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Lle?function Ule(t,e){return AT.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Y$(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Z$(t.firebaseDependencies,n)}return Z$(t.firebaseDependencies,n)}),DT.apply(this,arguments)}function ST(){return ST=_(function*(t){const e=yield Q$(t.firebaseDependencies);e&&(yield Y$(t.firebaseDependencies,e.token),yield function kle(t){return yT.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),ST.apply(this,arguments)}function AT(){return AT=_(function*(t,e){try{const n=yield function Fle(t,e){return IT.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield mT(t.firebaseDependencies,r),n}catch(n){throw yield function J$(t){return ST.apply(this,arguments)}(t),n}}),AT.apply(this,arguments)}function Z$(t,e){return xT.apply(this,arguments)}function xT(){return(xT=_(function*(t,e){const r={token:yield Ole(t,e),createTime:Date.now(),subscriptionOptions:e};return yield mT(t,r),r.token})).apply(this,arguments)}function NT(){return(NT=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sle(e)})})).apply(this,arguments)}function ej(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function jle(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Hle(t,e){e.data&&(t.data=e.data)}(e,t),function Gle(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function tj(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function MT(t){return sn.create("missing-app-config-values",{valueName:t})}tj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wle{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function qle(t){if(!t||!t.options)throw MT("App Configuration Object");if(!t.name)throw MT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw MT(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function RT(){return(RT=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(wle,{scope:Ile}),t.swRegistration.update().catch(()=>{})}catch(e){throw sn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function kT(){return(kT=_(function*(t,e){if(!e&&!t.swRegistration&&(yield function nj(t){return RT.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function PT(){return(PT=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=q$)})).apply(this,arguments)}function OT(){return OT=_(function*(t,e){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield function Qle(t,e){return PT.apply(this,arguments)}(t,e?.vapidKey),yield function Kle(t,e){return kT.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Vle(t){return DT.apply(this,arguments)}(t)}),OT.apply(this,arguments)}function FT(){return(FT=_(function*(t,e,n){const r=function Xle(t){switch(t){case Hm.NOTIFICATION_CLICKED:return"notification_open";case Hm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[W$],message_name:n[Cle],message_time:n[ble],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function LT(){return LT=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Hm.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(ej(n)):t.onMessageHandler.next(ej(n)));const r=n.data;(function zle(t){return"object"==typeof t&&!!t&&W$ in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Yle(t,e,n){return FT.apply(this,arguments)}(t,n.messageType,r))}),LT.apply(this,arguments)}const ij="@firebase/messaging",Zle=t=>{const e=new Wle(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Jle(t,e){return LT.apply(this,arguments)}(e,n)),e},ede=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function rj(t,e){return OT.apply(this,arguments)}(e,r)}};function oj(){return VT.apply(this,arguments)}function VT(){return(VT=_(function*(){try{yield Bd()}catch{return!1}return typeof window<"u"&&Zo()&&tb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function ide(t=Gs()){return oj().then(e=>{if(!e)throw sn.create("unsupported-browser")},e=>{throw sn.create("indexed-db-unsupported")}),Ur(Ut(t),"messaging").getImmediate()}!function tde(){Bt(new Pt("messaging",Zle,"PUBLIC")),Bt(new Pt("messaging-internal",ede,"PRIVATE")),ye(ij,"0.12.4"),ye(ij,"0.12.4","esm2017")}();const Gm="analytics",sde="firebase_id",ode="origin",ade=6e4,ude="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$T="https://www.googletagmanager.com/gtag/js",$t=new ta("@firebase/analytics"),Mn=new di("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lde(t){if(!t.startsWith($T)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return $t.warn(e.message),""}return t}function aj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jT(){return(jT=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield aj(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){$t.error(a)}t("config",i,s)})).apply(this,arguments)}function HT(){return(HT=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield aj(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){$t.error(s)}})).apply(this,arguments)}const vde=30,uj=new class Ide{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ede(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function GT(){return(GT=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ede(r)},s=ude.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function zT(){return(zT=_(function*(t,e=uj,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Sde;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:ade),cj({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function cj(t,e,n){return qT.apply(this,arguments)}function qT(){return qT=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=uj){var s;const{appId:o,measurementId:a}=t;try{yield function Tde(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Cde(t){return GT.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Dde(t){if(!(t instanceof ur&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?ib(n,i.intervalMillis,vde):ib(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),$t.debug(`Calling attemptFetch again in ${l} millis`),cj(t,d,r,i)}}),qT.apply(this,arguments)}class Sde{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let WT,eD;function KT(){return(KT=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function tD(){return(tD=_(function*(){if(!Zo())return $t.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Bd()}catch(t){return $t.warn(Mn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function nD(){return nD=_(function*(t,e,n,r,i,s,o){var a;const u=function bde(t){return zT.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>$t.error(f)),e.push(u);const c=function Pde(){return tD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function yde(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($T)&&n.src.includes(t))return n;return null})(s)||function hde(t,e){const n=function dde(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lde}),r=document.createElement("script"),i=`${$T}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),eD&&(i("consent","default",eD),function lj(t){eD=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[ode]="firebase",h.update=!0,null!=d&&(h[sde]=d),i("config",l.measurementId,h),WT&&(i("set",WT),function dj(t){WT=t}(void 0)),l.measurementId}),nD.apply(this,arguments)}class Fde{constructor(e){this.app=e}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},hj=[];const fj={};let gj,fi,zm="dataLayer",rD=!1;function Vde(t,e,n){!function Lde(){const t=[];if(eb()&&t.push("This is a browser extension environment."),tb()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});$t.warn(n.message)}}();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mn.create("no-api-key");$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[r])throw Mn.create("already-exists",{id:r});if(!rD){!function fde(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(zm);const{wrappedGtag:s,gtagCore:o}=function _de(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mde(t,e,n,r){function s(){return s=_(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function gde(t,e,n,r,i){return HT.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function pde(t,e,n,r,i,s){return jT.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){$t.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(hi,hj,fj,zm,"gtag");fi=s,gj=o,rD=!0}return hi[r]=function Ode(t,e,n,r,i,s,o){return nD.apply(this,arguments)}(t,hj,fj,e,gj,zm,n),new Fde(t)}function Bde(){return iD.apply(this,arguments)}function iD(){return(iD=_(function*(){if(eb()||!tb()||!Zo())return!1;try{return yield Bd()}catch{return!1}})).apply(this,arguments)}const mj="@firebase/analytics";!function jde(){Bt(new Pt(Gm,(e,{options:n})=>Vde(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Bt(new Pt("analytics-internal",function t(e){try{const n=e.getProvider(Gm).getImmediate();return{logEvent:(r,i,s)=>function $de(t,e,n,r){t=Ut(t),function Ade(t,e,n,r,i){return KT.apply(this,arguments)}(fi,hi[t.app.options.appId],e,n,r).catch(i=>$t.error(i))}(n,r,i,s)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ye(mj,"0.10.0"),ye(mj,"0.10.0","esm2017")}();class Hde extends Ln{constructor(e,n){super()}schedule(e,n=0){return this}}const qm={setInterval(t,e,...n){const{delegate:r}=qm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=qm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class yj extends Hde{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return qm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&qm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qa(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const vj={now:()=>(vj.delegate||Date).now(),delegate:void 0};class Wd{constructor(e,n=Wd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Wd.now=vj.now;class wj extends Wd{constructor(e,n=Wd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const qde=new class zde extends wj{}(class Gde extends yj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Wde=new wj(yj),rs=new Cu("7.6.1"),oD="__angularfire_symbol__analyticsIsSupportedValue",aD="__angularfire_symbol__analyticsIsSupported",uD="__angularfire_symbol__remoteConfigIsSupportedValue",cD="__angularfire_symbol__remoteConfigIsSupported",lD="__angularfire_symbol__messagingIsSupportedValue",dD="__angularfire_symbol__messagingIsSupported";globalThis[aD]||(globalThis[aD]=Bde().then(t=>globalThis[oD]=t).catch(()=>globalThis[oD]=!1)),globalThis[dD]||(globalThis[dD]=oj().then(t=>globalThis[lD]=t).catch(()=>globalThis[lD]=!1)),globalThis[cD]||(globalThis[cD]=cle().then(t=>globalThis[uD]=t).catch(()=>globalThis[uD]=!1));const hD=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`,Wm={async:()=>globalThis[dD],sync:()=>{const t=globalThis[lD];if(void 0===t)throw new Error(hD("Messaging"));return t}},Km={async:()=>globalThis[cD],sync:()=>{const t=globalThis[uD];if(void 0===t)throw new Error(hD("RemoteConfig"));return t}};function qs(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Ws=(t,e)=>{const n=e?[e]:u$(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ac(){}class Ij{constructor(e,n=qde){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Kde{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)),n.pipe(nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ks=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ij(Zone.current)),this.insideAngular=n.run(()=>new Ij(Zone.current,Wde)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(de))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ua(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ca(t){return ua().ngZone.run(()=>t())}function Yde(t){return ua(),function Xde(t){return function(n){return(n=n.lift(new Kde(t.ngZone))).pipe(tp(t.outsideAngular),ep(t.insideAngular))}}(ua())(t)}const Jde=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ca(()=>t.apply(void 0,r))},br=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ca(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)))),r[s]=Jde(r[s],n));const i=function Qde(t){return ua().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof tt){const s=ua();return i.pipe(tp(s.outsideAngular),ep(s.insideAngular))}return ca(()=>i)}return i instanceof tt?i.pipe(Yde):i instanceof Promise?ca(()=>new Promise((s,o)=>i.then(a=>ca(()=>s(a)),a=>ca(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ca(()=>i)};class Br{constructor(e){return e}}class Qs{constructor(){return u$()}}const fD=new O("angularfire2._apps"),ehe={provide:Br,useFactory:function Zde(t){return t&&1===t.length?t[0]:new Br(Gs())},deps:[[new Ee,fD]]},the={provide:Qs,deps:[[new Ee,fD]]};function nhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Br(r)}}let rhe=(()=>{class t{constructor(n){ye("angularfire",rs.full,"core"),ye("angularfire",rs.full,"app"),ye("angular",AP.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Ms))},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[ehe,the]}),t})();function ihe(t,...e){return{ngModule:rhe,providers:[{provide:fD,useFactory:nhe(t),multi:!0,deps:[de,_t,Ks,...e]}]}}const she=br(a$,!0),pD=new Map,Ej={activated:!1,tokenObservers:[]},ohe={initialized:!1,enabled:!1};function lt(t){return pD.get(t)||Object.assign({},Ej)}function Qm(){return ohe}const gD="https://content-firebaseappcheck.googleapis.com/v1",lhe="exchangeDebugToken",Cj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hhe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new rc,yield function fhe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new rc,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const on=new di("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mD(t){if(!lt(t).activated)throw on.create("use-before-activation",{appName:t.name})}function Jm(t,e){return yD.apply(this,arguments)}function yD(){return(yD=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw on.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw on.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw on.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function bj(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${gD}/projects/${n}/apps/${r}:${lhe}?key=${i}`,body:{debug_token:e}}}const _he="firebase-app-check-database",yhe=1,Kd="firebase-app-check-store";let Zm=null;function vD(){return(vD=_(function*(t,e){const r=(yield function Dj(){return Zm||(Zm=new Promise((t,e)=>{try{const n=indexedDB.open(_he,yhe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(on.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kd,{keyPath:"compositeKey"})}}catch(n){e(on.create("storage-open",{originalErrorMessage:n?.message}))}}),Zm)}()).transaction(Kd,"readwrite"),s=r.objectStore(Kd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(on.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Qd=new ta("@firebase/app-check");function ED(t,e){return Zo()?function whe(t,e){return function Sj(t,e){return vD.apply(this,arguments)}(function xj(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Qd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bD(){return Qm().enabled}function TD(){return DD.apply(this,arguments)}function DD(){return(DD=_(function*(){const t=Qm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dhe={error:"UNKNOWN_ERROR"};function She(t){return Am.encodeString(JSON.stringify(t),!1)}function e_(t){return SD.apply(this,arguments)}function SD(){return(SD=_(function*(t,e=!1){const n=t.app;mD(n);const r=lt(n);let s,i=r.token;if(i&&!uc(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(uc(u)?i=u:yield ED(n,void 0))}if(!e&&i&&uc(i))return{token:i.token};let a,o=!1;if(bD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jm(bj(n,yield TD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ED(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield lt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Qd.warn(u.message):Qd.error(u),s=u}return i?s?a=uc(i)?{token:i.token,internalError:s}:kj(s):(a={token:i.token},r.token=i,yield ED(n,i)):a=kj(s),o&&function Rj(t,e){const n=lt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function Nj(t){return AD.apply(this,arguments)}function AD(){return(AD=_(function*(t){const e=t.app;mD(e);const{provider:n}=lt(e);if(bD()){const r=yield TD(),{token:i}=yield Jm(bj(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function ND(t,e){const n=lt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Mj(t){const{app:e}=t,n=lt(e);let r=n.tokenRefresher;r||(r=function Ahe(t){const{app:e}=t;return new hhe(_(function*(){let r;if(r=lt(e).token?yield e_(t,!0):yield e_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Cj.RETRIAL_MIN_WAIT,Cj.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function uc(t){return t.expireTimeMillis-Date.now()>0}function kj(t){return{token:She(Dhe),error:t}}class xhe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=lt(this.app);for(const n of e)ND(this.app,n.next);return Promise.resolve()}}const $j="app-check-internal";!function Hhe(){Bt(new Pt("app-check",t=>function Nhe(t,e){return new xhe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($j).initialize()})),Bt(new Pt($j,t=>function Mhe(t){return{getToken:e=>e_(t,e),getLimitedUseToken:()=>Nj(t),addTokenListener:e=>function xD(t,e,n,r){const{app:i}=t,s=lt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&uc(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Mj(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Mj(t))}(t,"INTERNAL",e),removeTokenListener:e=>ND(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ye("@firebase/app-check","0.8.0")}();class cc{constructor(){return Ws("app-check")}}typeof window<"u"&&window;const Khe=function Hj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gj=new di("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),n_=new ta("@firebase/auth");function r_(t,...e){n_.logLevel<=we.ERROR&&n_.error(`Auth (${Zi}): ${t}`,...e)}function Wn(t,...e){throw OD(t,...e)}function pi(t,...e){return OD(t,...e)}function OD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gj.create(t,...e)}function x(t,e,...n){if(!t)throw OD(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw r_(e),new Error(e)}function Ys(t,e){t||gi(e)}function Yd(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function qj(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||JB()}get(){return function Yhe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FD(){return"http:"===qj()||"https:"===qj()}()||eb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LD(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Wj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zhe=new Xd(3e4,6e4);function rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function dt(t,e,n,r){return VD.apply(this,arguments)}function VD(){return(VD=_(function*(t,e,n,r,i={}){return Kj(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=jd(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Wj.fetch()(Qj(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Kj(t,e,n){return UD.apply(this,arguments)}function UD(){return(UD=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jhe),e);try{const i=new efe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Jd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Jd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Jd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Jd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function zj(t,e,n){const r=Object.assign(Object.assign({},Khe()),{[e]:n});return new di("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Wn(t,l)}}catch(i){if(i instanceof ur)throw i;Wn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function is(t,e,n,r){return BD.apply(this,arguments)}function BD(){return(BD=_(function*(t,e,n,r,i={}){const s=yield dt(t,e,n,r,i);return"mfaPendingCredential"in s&&Wn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Qj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?LD(t.config,i):`${t.config.apiScheme}://${i}`}class efe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),Zhe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}function $D(){return($D=_(function*(t,e){return dt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function HD(){return(HD=_(function*(t,e){return dt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Zd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GD(){return(GD=_(function*(t,e=!1){const n=Ut(t),r=yield n.getIdToken(e),i=i_(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zd(zD(i.auth_time)),issuedAtTime:Zd(zD(i.iat)),expirationTime:Zd(zD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function zD(t){return 1e3*Number(t)}function i_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return r_("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nm(n);return i?JSON.parse(i):(r_("Failed to decode base64 JWT payload"),null)}catch(i){return r_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ss(t,e){return qD.apply(this,arguments)}function qD(){return(qD=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ur&&function ofe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class afe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class Yj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eh(t){return WD.apply(this,arguments)}function WD(){return WD=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ss(t,function rfe(t,e){return HD.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lfe(t){return t.map(e=>{var{providerId:n}=e,r=Lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function cfe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yj(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),WD.apply(this,arguments)}function KD(){return(KD=_(function*(t){const e=Ut(t);yield eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function QD(){return(QD=_(function*(t,e){const n=yield Kj(t,{},_(function*(){const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Qj(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wj.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class th{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function sfe(t){const e=i_(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function dfe(t,e){return QD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new th;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new th,this.toJSON())}_performRefresh(){return gi("not implemented")}}function Xs(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class la{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new afe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yj(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield ss(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ife(t){return GD.apply(this,arguments)}(this,e)}reload(){return function ufe(t){return KD.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield eh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield ss(e,function tfe(t,e){return $D.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:L,providerData:H,stsTokenManager:Te}=n;x(E&&Te,e,"internal-error");const pt=th.fromJSON(this.name,Te);x("string"==typeof E,e,"internal-error"),Xs(d,e.name),Xs(h,e.name),x("boolean"==typeof A,e,"internal-error"),x("boolean"==typeof L,e,"internal-error"),Xs(f,e.name),Xs(p,e.name),Xs(g,e.name),Xs(m,e.name),Xs(v,e.name),Xs(y,e.name);const Jn=new la({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:pt,createdAt:v,lastLoginAt:y});return H&&Array.isArray(H)&&(Jn.providerData=H.map(wR=>Object.assign({},wR))),m&&(Jn._redirectEventId=m),Jn}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new th;i.updateFromServerResponse(n);const s=new la({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield eh(s),s})()}}const Xj=new Map;function os(t){Ys(t instanceof Function,"Expected a class definition");let e=Xj.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xj.set(t,e),e)}const Jj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function s_(t,e,n){return`firebase:${t}:${e}:${n}`}class dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=s_(this.userKey,i.apiKey,s),this.fullPersistenceKey=s_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?la._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new dc(os(Jj),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||os(Jj);const o=s_(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=la._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new dc(s,e,r)):new dc(s,e,r)})()}}function Zj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iH(e))return"Blackberry";if(sH(e))return"Webos";if(YD(e))return"Safari";if((e.includes("chrome/")||tH(e))&&!e.includes("edge/"))return"Chrome";if(rH(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function eH(t=Vt()){return/firefox\//i.test(t)}function YD(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tH(t=Vt()){return/crios\//i.test(t)}function nH(t=Vt()){return/iemobile/i.test(t)}function rH(t=Vt()){return/android/i.test(t)}function iH(t=Vt()){return/blackberry/i.test(t)}function sH(t=Vt()){return/webos/i.test(t)}function o_(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oH(t=Vt()){return o_(t)||rH(t)||sH(t)||iH(t)||/windows phone/i.test(t)||nH(t)}function aH(t,e=[]){let n;switch(t){case"Browser":n=Zj(Vt());break;case"Worker":n=`${Zj(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}function uH(t,e){return JD.apply(this,arguments)}function JD(){return(JD=_(function*(t,e){return dt(t,"GET","/v2/recaptchaConfig",rt(t,e))})).apply(this,arguments)}function lH(t){return void 0!==t&&void 0!==t.enterprise}class dH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function ZD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function mfe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function hH(t){return`__${t}${Math.floor(1e6*Math.random())}`}class fH{constructor(e){this.type="recaptcha-enterprise",this.auth=jt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){uH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new dH(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;lH(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&lH(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));ZD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function Js(t,e,n){return eS.apply(this,arguments)}function eS(){return(eS=_(function*(t,e,n,r=!1){const i=new fH(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class wfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Ife{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pH(this),this.idTokenSubscription=new pH(this),this.beforeStateQueue=new wfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield dc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield eh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Xhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?Ut(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(os(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield uH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new dH(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new fH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new di("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&os(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield dc.create(n,[os(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Qhe(t,...e){n_.logLevel<=we.WARN&&n_.warn(`Auth (${Zi}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function jt(t){return Ut(t)}class pH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Tae(t,e){const n=new Dae(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mH(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class _H{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}function vH(t,e){return nS.apply(this,arguments)}function nS(){return(nS=_(function*(t,e){return dt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function iS(t,e){return sS.apply(this,arguments)}function sS(){return(sS=_(function*(t,e){return is(t,"POST","/v1/accounts:signInWithPassword",rt(t,e))})).apply(this,arguments)}function fS(){return(fS=_(function*(t,e){return is(t,"POST","/v1/accounts:signInWithEmailLink",rt(t,e))})).apply(this,arguments)}function pS(){return(pS=_(function*(t,e){return is(t,"POST","/v1/accounts:signInWithEmailLink",rt(t,e))})).apply(this,arguments)}class nh extends _H{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return _(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Js(e,i,"signInWithPassword");return iS(e,s)}return iS(e,i).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Js(e,i,"signInWithPassword");return iS(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Nfe(t,e){return fS.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Wn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return vH(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Mfe(t,e){return pS.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Wn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function as(t,e){return gS.apply(this,arguments)}function gS(){return(gS=_(function*(t,e){return is(t,"POST","/v1/accounts:signInWithIdp",rt(t,e))})).apply(this,arguments)}class sh{constructor(e){var n,r,i,s,o,a;const u=Hd(Gd(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Vfe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);x(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Ufe(t){const e=Hd(Gd(t)).link,n=e?Hd(Gd(e)).deep_link_id:null,r=Hd(Gd(t)).deep_link_id;return(r?Hd(Gd(r)).link:null)||r||n||e||t}(e);try{return new sh(n)}catch{return null}}}let wH=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return nh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=sh.parseLink(r);return x(i,"argument-error"),nh._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bfe extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function c_(t,e){return IS.apply(this,arguments)}function IS(){return(IS=_(function*(t,e){return is(t,"POST","/v1/accounts:signUp",rt(t,e))})).apply(this,arguments)}class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const s=yield la._fromIdTokenResponse(e,r,i),o=IH(r);return new Tr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=IH(r);return new Tr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function IH(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class l_ extends ur{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,l_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new l_(e,n,r,i)}}function EH(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?l_._fromErrorAndOperation(t,s,e,r):s})}function TS(){return(TS=_(function*(t,e,n=!1){const r=yield ss(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Tr._forOperation(t,"link",r)})).apply(this,arguments)}function SS(){return(SS=_(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ss(t,EH(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=i_(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Tr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Wn(r,"user-mismatch"),s}})).apply(this,arguments)}function TH(t,e){return AS.apply(this,arguments)}function AS(){return(AS=_(function*(t,e,n=!1){const r="signIn",i=yield EH(t,r,e),s=yield Tr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function NS(){return(NS=_(function*(t,e){return TH(jt(t),e)})).apply(this,arguments)}function Wfe(t,e,n){return HS.apply(this,arguments)}function HS(){return HS=_(function*(t,e,n){var r;const i=jt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Js(i,s,"signUpPassword");o=c_(i,c)}else o=c_(i,s).catch(function(){var c=_(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Js(i,s,"signUpPassword");return c_(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield Tr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),HS.apply(this,arguments)}function Kfe(t,e,n){return function xS(t,e){return NS.apply(this,arguments)}(Ut(t),wH.credential(e,n))}function spe(t){return Ut(t).signOut()}const h_="__sak";class SH{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h_,"1"),this.storage.removeItem(h_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fpe=(()=>{class t extends SH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lpe(){const t=Vt();return YD(t)||o_(t)}()&&function pfe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=oH(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function ffe(){return function yae(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),AH=(()=>{class t extends SH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let gpe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function ppe(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function s0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class mpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=s0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Dt(){return window}function o0(){return typeof Dt().WorkerGlobalScope<"u"&&"function"==typeof Dt().importScripts}function a0(){return(a0=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xH="firebaseLocalStorageDb",f_="firebaseLocalStorage",NH="fbase_key";class ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function p_(t,e){return t.transaction([f_],e?"readwrite":"readonly").objectStore(f_)}function u0(){const t=indexedDB.open(xH,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(f_,{keyPath:NH})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(f_)?e(r):(r.close(),yield function Epe(){const t=indexedDB.deleteDatabase(xH);return new ah(t).toPromise()}(),e(yield u0()))}))})}function MH(t,e,n){return c0.apply(this,arguments)}function c0(){return(c0=_(function*(t,e,n){const r=p_(t,!0).put({[NH]:e,value:n});return new ah(r).toPromise()})).apply(this,arguments)}function l0(){return(l0=_(function*(t,e){const n=p_(t,!1).get(e),r=yield new ah(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function RH(t,e){const n=p_(t,!0).delete(e);return new ah(n).toPromise()}const Dpe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield u0()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return o0()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=gpe._getInstance(function wpe(){return o0()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function ype(){return a0.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new mpe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function vpe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield u0();return yield MH(n,h_,"1"),yield RH(n,h_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>MH(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(s=>function Cpe(t,e){return l0.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>RH(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(o=>{const a=p_(o,!1).getAll();return new ah(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();hH("rcb"),new Xd(3e4,6e4);class v0 extends _H{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,n){return as(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jpe(t){return TH(t.auth,new v0(t),t.bypassAuthState)}function Hpe(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function bH(t,e){return SS.apply(this,arguments)}(n,new v0(t),t.bypassAuthState)}function Gpe(t){return w0.apply(this,arguments)}function w0(){return(w0=_(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function bS(t,e){return TS.apply(this,arguments)}(n,new v0(t),t.bypassAuthState)})).apply(this,arguments)}class zpe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jpe;case"linkViaPopup":case"linkViaRedirect":return Gpe;case"reauthViaPopup":case"reauthViaRedirect":return Hpe;default:Wn(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Xd(2e3,1e4);const qpe="pendingRedirect",uh=new Map;class Wpe extends zpe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=uh.get(n.auth._key());if(!r){try{const s=(yield function Kpe(t,e){return T0.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}uh.set(n.auth._key(),r)}return n.bypassAuthState||uh.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function T0(){return(T0=_(function*(t,e){const n=function OH(t){return s_(qpe,t.config.apiKey,t.name)}(e),r=function PH(t){return os(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Qpe(t,e){uh.set(t._key(),e)}function FH(t,e){return R0.apply(this,arguments)}function R0(){return(R0=_(function*(t,e,n=!1){const r=jt(t),i=function ha(t,e){return e?os(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Wpe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class ege{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function tge(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UH(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UH(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VH(e))}saveEventToCache(e){this.cachedEventUids.add(VH(e)),this.lastProcessedEventTime=Date.now()}}function VH(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UH({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function P0(){return(P0=_(function*(t,e={}){return dt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const rge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ige=/^https?/;function O0(){return O0=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function nge(t){return P0.apply(this,arguments)}(t);for(const n of e)try{if(oge(n))return}catch{}Wn(t,"unauthorized-domain")}),O0.apply(this,arguments)}function oge(t){const e=Yd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ige.test(n))return!1;if(rge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const age=new Xd(3e4,6e4);function BH(){const t=Dt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let m_=null;const lge=new Xd(5e3,15e3),dge="__/auth/iframe",hge="emulator/auth/iframe",fge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gge(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LD(e,hge):`https://${t.config.authDomain}/${dge}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},i=pge.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${jd(r).slice(1)}`}function F0(){return F0=_(function*(t){const e=yield function cge(t){return m_=m_||function uge(t){return new Promise((e,n)=>{var r,i,s;function o(){BH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BH(),n(pi(t,"network-request-failed"))},timeout:age.get()})}if(null!==(i=null===(r=Dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Dt().gapi)||void 0===s||!s.load){const a=hH("iframefcb");return Dt()[a]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},ZD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw m_=null,e})}(t),m_}(t),n=Dt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:gge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fge,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=pi(t,"network-request-failed"),u=Dt().setTimeout(()=>{o(a)},lge.get());function c(){Dt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),F0.apply(this,arguments)}const _ge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $H{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bge="__/auth/handler",Tge="emulator/auth/handler",Dge=encodeURIComponent("fac");function jH(t,e,n,r,i,s){return L0.apply(this,arguments)}function L0(){return(L0=_(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:i};if(e instanceof Zs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Bfe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Dge}=${encodeURIComponent(u)}`:"";return`${function Sge({config:t}){return t.emulator?LD(t,Tge):`https://${t.authDomain}/${bge}`}(t)}?${jd(a).slice(1)}${c}`})).apply(this,arguments)}const V0="webStorageSupport",xge=class Age{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AH,this._completeRedirectFn=FH,this._overrideRedirectResult=Qpe}_openPopup(e,n,r,i){var s=this;return _(function*(){var o;Ys(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield jH(e,n,r,Yd(),i);return function Ege(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_ge),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();n&&(a=tH(c)?"_blank":n),eH(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function hfe(t=Vt()){var e;return o_(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Cge(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new $H(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new $H(d)}(e,a,s0())})()}_openRedirect(e,n,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function _pe(t){Dt().location.href=t}(yield jH(e,n,r,Yd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function mge(t){return F0.apply(this,arguments)}(e),i=new ege(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(V0,{type:V0},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[V0];void 0!==o&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function sge(t){return O0.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oH()||YD()||o_()}};var zH="@firebase/auth";class Nge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pge=XB("authIdTokenMaxAge")||300;let WH=null;const Oge=t=>function(){var e=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Pge)return;const s=r?.token;WH!==s&&(WH=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Fge(t=Gs()){const e=Ur(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Efe(t,e){const n=Ur(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Om(n.getOptions(),e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:xge,persistence:[Dpe,fpe,AH]}),r=XB("authTokenSyncURL");if(r){const s=Oge(r);(function rpe(t,e,n){Ut(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function npe(t,e,n,r){Ut(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=QB("auth");return i&&function bfe(t,e,n){const r=jt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=gH(e),{host:o,port:a}=function Tfe(t){const e=gH(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mH(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:mH(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Dfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Lge(t){return new tt(function(e){var n=function ipe(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Rge(t){Bt(new Pt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aH(t)},c=new Ife(r,i,s,u);return function Cfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bt(new Pt("auth-internal",e=>{const n=jt(e.getProvider("auth").getImmediate());return new Nge(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ye(zH,"0.23.2",function Mge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ye(zH,"0.23.2","esm2017")}("Browser");class y_{constructor(e){return e}}class ch{constructor(){return Ws("auth")}}const B0=new O("angularfire2.auth-instances");function Bge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new y_(r)}}const $ge={provide:ch,deps:[[new Ee,B0]]},jge={provide:y_,useFactory:function Uge(t,e){const n=qs("auth",t,e);return n&&new y_(n)},deps:[[new Ee,B0],Br]};let Hge=(()=>{class t{constructor(){ye("angularfire",rs.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[jge,$ge]}),t})();function Gge(t,...e){return{ngModule:Hge,providers:[{provide:B0,useFactory:Bge(t),multi:!0,deps:[de,_t,Ks,Qs,[new Ee,cc],...e]}]}}const QH=br(Lge,!0),zge=br(Wfe,!0),qge=br(Fge,!0),Wge=br(Kfe,!0),Kge=br(spe,!0);var k,Qge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={},$0=$0||{},J=Qge||self;function v_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var j0="closure_uid_"+(1e9*Math.random()>>>0),Xge=0;function Jge(t,e,n){return t.call.apply(t.bind,arguments)}function Zge(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function gn(t,e,n){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jge:Zge).apply(null,arguments)}function w_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function eo(){this.s=this.s,this.o=this.o}eo.prototype.s=!1,eo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Yge(t){Object.prototype.hasOwnProperty.call(t,j0)&&t[j0]||(t[j0]=++Xge)}(this)},eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YH=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function H0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XH(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(v_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function mn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var tme=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function dh(t){return/^[\s\xa0]*$/.test(t)}function I_(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function mi(t){return-1!=I_().indexOf(t)}function G0(t){return G0[" "](t),t}G0[" "]=function(){};var q0,t,rme=mi("Opera"),fc=mi("Trident")||mi("MSIE"),JH=mi("Edge"),z0=JH||fc,ZH=mi("Gecko")&&!(-1!=I_().toLowerCase().indexOf("webkit")&&!mi("Edge"))&&!(mi("Trident")||mi("MSIE"))&&!mi("Edge"),ime=-1!=I_().toLowerCase().indexOf("webkit")&&!mi("Edge");function eG(){var t=J.document;return t?t.documentMode:void 0}e:{var W0="",K0=(t=I_(),ZH?/rv:([^\);]+)(\)|;)/.exec(t):JH?/Edge\/([\d\.]+)/.exec(t):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ime?/WebKit\/(\S+)/.exec(t):rme?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(K0&&(W0=K0?K0[1]:""),fc){var Q0=eG();if(null!=Q0&&Q0>parseFloat(W0)){q0=String(Q0);break e}}q0=W0}var sme=J.document&&fc&&(eG()||parseInt(q0,10))||void 0;function hh(t,e){if(mn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZH){e:{try{G0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ome[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hh.$.h.call(this)}}Ht(hh,mn);var ome={2:"touch",3:"pen",4:"mouse"};hh.prototype.h=function(){hh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fh="closure_listenable_"+(1e6*Math.random()|0),ame=0;function ume(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ame,this.fa=this.ia=!1}function E_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function X0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nG(t){const e={};for(const n in t)e[n]=t[n];return e}const rG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iG(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rG.length;s++)n=rG[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function C_(t){this.src=t,this.g={},this.h=0}function J0(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=YH(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(E_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Z0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}C_.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Z0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new ume(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var eA="closure_lm_"+(1e6*Math.random()|0),tA={};function sG(t,e,n,r,i){if(r&&r.once)return aG(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sG(t,e[s],n,r,i);return null}return n=sA(n),t&&t[fh]?t.O(e,n,lh(r)?!!r.capture:!!r,i):oG(t,e,n,!1,r,i)}function oG(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=lh(i)?!!i.capture:!!i,a=rA(t);if(a||(t[eA]=a=new C_(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function lme(){const e=dme;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tme||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cG(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aG(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aG(t,e[s],n,r,i);return null}return n=sA(n),t&&t[fh]?t.P(e,n,lh(r)?!!r.capture:!!r,i):oG(t,e,n,!0,r,i)}function uG(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uG(t,e[s],n,r,i);else r=lh(r)?!!r.capture:!!r,n=sA(n),t&&t[fh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Z0(s=t.g[e],n,r,i))&&(E_(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=rA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Z0(e,n,r,i)),(n=-1<t?e[t]:null)&&nA(n))}function nA(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[fh])J0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cG(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rA(e))?(J0(n,t),0==n.h&&(n.src=null,e[eA]=null)):E_(t)}}}function cG(t){return t in tA?tA[t]:tA[t]="on"+t}function dme(t,e){if(t.fa)t=!0;else{e=new hh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&nA(t),t=n.call(r,e)}return t}function rA(t){return(t=t[eA])instanceof C_?t:null}var iA="__closure_events_fn_"+(1e9*Math.random()>>>0);function sA(t){return"function"==typeof t?t:(t[iA]||(t[iA]=function(e){return t.handleEvent(e)}),t[iA])}function Gt(){eo.call(this),this.i=new C_(this),this.S=this,this.J=null}function an(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new mn(e,t);else if(e instanceof mn)e.target=e.target||t;else{var i=e;iG(e=new mn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=b_(o,r,!0,e)&&i}if(i=b_(o=e.g=t,r,!0,e)&&i,i=b_(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=b_(o=e.g=n[s],r,!1,e)&&i}function b_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&J0(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ht(Gt,eo),Gt.prototype[fh]=!0,Gt.prototype.removeEventListener=function(t,e,n,r){uG(this,t,e,n,r)},Gt.prototype.N=function(){if(Gt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)E_(n[r]);delete t.g[e],t.h--}}this.J=null},Gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var oA=J.JSON.stringify;function fme(){var t=aA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var lG=new class hme{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gme,t=>t.reset());class gme{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mme(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _me(t){J.setTimeout(()=>{throw t},0)}let ph,gh=!1,aA=new class pme{constructor(){this.h=this.g=null}add(e,n){const r=lG.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dG=()=>{const t=J.Promise.resolve(void 0);ph=()=>{t.then(yme)}};var yme=()=>{for(var t;t=fme();){try{t.h.call(t.g)}catch(n){_me(n)}var e=lG;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gh=!1};function T_(t,e){Gt.call(this),this.h=t||1,this.g=e||J,this.j=gn(this.qb,this),this.l=Date.now()}function uA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function cA(t,e,n){if("function"==typeof t)n&&(t=gn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gn(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function hG(t){t.g=cA(()=>{t.g=null,t.i&&(t.i=!1,hG(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ht(T_,Gt),(k=T_.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),an(this,"tick"),this.ga&&(uA(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){T_.$.N.call(this),uA(this),delete this.g};class vme extends eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hG(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mh(t){eo.call(this),this.h=t,this.g={}}Ht(mh,eo);var fG=[];function pG(t,e,n,r){Array.isArray(n)||(n&&(fG[0]=n.toString()),n=fG);for(var i=0;i<n.length;i++){var s=sG(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gG(t){X0(t.g,function(e,n){this.g.hasOwnProperty(n)&&nA(e)},t),t.g={}}function D_(){this.g=!0}function pc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cme(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return oA(n)}catch{return e}}(t,n)+(r?" "+r:"")})}mh.prototype.N=function(){mh.$.N.call(this),gG(this)},mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},D_.prototype.Ea=function(){this.g=!1},D_.prototype.info=function(){};var fa={},mG=null;function S_(){return mG=mG||new Gt}function _G(t){mn.call(this,fa.Ta,t)}function _h(t){const e=S_();an(e,new _G(e))}function yG(t,e){mn.call(this,fa.STAT_EVENT,t),this.stat=e}function Rn(t){const e=S_();an(e,new yG(e,t))}function vG(t,e){mn.call(this,fa.Ua,t),this.size=e}function yh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}fa.Ta="serverreachability",Ht(_G,mn),fa.STAT_EVENT="statevent",Ht(yG,mn),fa.Ua="timingevent",Ht(vG,mn);var A_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wG={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lA(){}function EG(){}lA.prototype.h=null;var fA,vh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dA(){mn.call(this,"d")}function hA(){mn.call(this,"c")}function x_(){}function wh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new mh(this),this.P=bme,this.V=new T_(t=z0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CG}function CG(){this.i=null,this.g="",this.h=!1}Ht(dA,mn),Ht(hA,mn),Ht(x_,lA),x_.prototype.g=function(){return new XMLHttpRequest},x_.prototype.i=function(){return{}},fA=new x_;var bme=45e3,pA={},N_={};function gA(t,e,n){t.L=1,t.v=P_(us(e)),t.s=n,t.S=!0,bG(t,null)}function bG(t,e){t.G=Date.now(),Ih(t),t.A=us(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),PG(n.i,"t",r),t.C=0,n=t.l.J,t.h=new CG,t.g=iz(t.l,n?e:null,!t.s),0<t.O&&(t.M=new vme(gn(t.Pa,t,t.g),t.O)),pG(t.U,t.g,"readystatechange",t.nb),e=t.I?nG(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_h(),function wme(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function TG(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function DG(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Tme(t,n),i==N_){4==e&&(t.o=4,Rn(14),r=!1),pc(t.j,t.m,null,"[Incomplete Response]");break}if(i==pA){t.o=4,Rn(15),pc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}pc(t.j,t.m,i,null),mA(t,i)}TG(t)&&i!=N_&&i!=pA&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),CA(e),e.M=!0,Rn(11))):(pc(t.j,t.m,n,"[Invalid Chunked Response]"),pa(t),Eh(t))}function Tme(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?N_:(n=Number(e.substring(n,r)),isNaN(n)?pA:(r+=1)+n>e.length?N_:(e=e.slice(r,r+n),t.C=r+n,e))}function Ih(t){t.Y=Date.now()+t.P,SG(t,t.P)}function SG(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=yh(gn(t.lb,t),e)}function M_(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function Eh(t){0==t.l.H||t.J||ez(t.l,t)}function pa(t){M_(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,uA(t.V),gG(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mA(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_A(n.i,t)))if(!t.K&&_A(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;B_(n),V_(n)}EA(n),Rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=yh(gn(n.ib,n),6e3));if(1>=LG(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ma(n,11)}else if((t.K||n.g==t)&&B_(n),!dh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(yA(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=rz(r,r.J?r.pa:null,r.Y),o.K){VG(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(M_(a),Ih(a)),r.g=o}else JG(r);0<n.j.length&&U_(n)}else"stop"!=c[0]&&"close"!=c[0]||ma(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ma(n,7):IA(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}_h()}catch{}}function AG(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Sme(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(v_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Dme(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(v_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(k=wh.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==_i(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=_i(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||z0||this.g&&(this.h.h||this.g.ja()||qG(this.g)))){this.J||4!=l||7==e||_h(),M_(this);var n=this.g.da();this.ca=n;t:if(TG(this)){var r=qG(this.g);t="";var i=r.length,s=4==_i(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pa(this),Eh(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Ime(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Rn(12),pa(this),Eh(this);break e}pc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mA(this,n)}this.S?(DG(this,l,o),z0&&this.i&&3==l&&(pG(this.U,this.V,"tick",this.mb),this.V.start())):(pc(this.j,this.m,o,null),mA(this,o)),4==l&&pa(this),this.i&&!this.J&&(4==l?ez(this.l,this):(this.i=!1,Ih(this)))}else(function zme(t){const e={};t=(t.g&&2<=_i(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(dh(t[r]))continue;var n=mme(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function cme(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),pa(this),Eh(this)}}}catch{}},k.mb=function(){if(this.g){var t=_i(this.g),e=this.g.ja();this.C<e.length&&(M_(this),DG(this,t,e),this.i&&4!=t&&Ih(this))}},k.cancel=function(){this.J=!0,pa(this)},k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Eme(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_h(),Rn(17)),pa(this),this.o=2,Eh(this)):SG(this,this.Y-t)};var xG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ga){this.h=t.h,R_(this,t.j),this.s=t.s,this.g=t.g,k_(this,t.m),this.l=t.l;var e=t.i,n=new Th;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),NG(this,n),this.o=t.o}else t&&(e=String(t).match(xG))?(this.h=!1,R_(this,e[1]||"",!0),this.s=Ch(e[2]||""),this.g=Ch(e[3]||"",!0),k_(this,e[4]),this.l=Ch(e[5]||"",!0),NG(this,e[6]||"",!0),this.o=Ch(e[7]||"")):(this.h=!1,this.i=new Th(null,this.h))}function us(t){return new ga(t)}function R_(t,e,n){t.j=n?Ch(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function k_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function NG(t,e,n){e instanceof Th?(t.i=e,function Pme(t,e){e&&!t.j&&(to(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(RG(this,r),PG(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=bh(e,Rme)),t.i=new Th(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function P_(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ch(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xme),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xme(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ga.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bh(e,MG,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(bh(e,MG,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(bh(n,"/"==n.charAt(0)?Mme:Nme,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bh(n,kme)),t.join("")};var MG=/[#\/\?@]/g,Nme=/[#\?:]/g,Mme=/[#\?]/g,Rme=/[#\?@]/g,kme=/#/g;function Th(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function to(t){t.g||(t.g=new Map,t.h=0,t.i&&function Ame(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function RG(t,e){to(t),e=gc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kG(t,e){return to(t),e=gc(t,e),t.g.has(e)}function PG(t,e,n){RG(t,e),0<n.length&&(t.i=null,t.g.set(gc(t,e),H0(n)),t.h+=n.length)}function gc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OG(t){this.l=t||Fme,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Th.prototype).add=function(t,e){to(this),this.i=null,t=gc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){to(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.ta=function(){to(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},k.Z=function(t){to(this);let e=[];if("string"==typeof t)kG(this,t)&&(e=e.concat(this.g.get(gc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return to(this),this.i=null,kG(this,t=gc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Fme=10;function FG(t){return!!t.h||!!t.g&&t.g.size>=t.j}function LG(t){return t.h?1:t.g?t.g.size:0}function _A(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yA(t,e){t.g?t.g.add(e):t.h=e}function VG(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function UG(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return H0(t.i)}OG.prototype.cancel=function(){if(this.i=UG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Lme=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function Vme(){this.g=new Lme}function Ume(t,e,n){const r=n||"";try{AG(t,function(i,s){let o=i;lh(i)&&(o=oA(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function O_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dh(t){this.l=t.fc||null,this.j=t.ob||!1}function F_(t,e){Gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Dh,lA),Dh.prototype.g=function(){return new F_(this.l,this.j)},Dh.prototype.i=function(t){return function(){return t}}({}),Ht(F_,Gt);var vA=0;function BG(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Sh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ah(t)}function Ah(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=F_.prototype).open=function(t,e){if(this.readyState!=vA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ah(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sh(this)),this.readyState=vA},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ah(this)),this.g&&(this.readyState=3,Ah(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BG(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sh(this):Ah(this),3==this.readyState&&BG(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,Sh(this))},k.Ya=function(t){this.g&&(this.response=t,Sh(this))},k.ka=function(){this.g&&Sh(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(F_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $me=J.JSON.parse;function ht(t){Gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$G,this.L=this.M=!1}Ht(ht,Gt);var $G="",jme=/^https?$/i,Hme=["POST","PUT"];function jG(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HG(t),L_(t)}function HG(t){t.F||(t.F=!0,an(t,"complete"),an(t,"error"))}function GG(t){if(t.h&&typeof $0<"u"&&(!t.C[1]||4!=_i(t)||2!=t.da()))if(t.v&&4==_i(t))cA(t.La,0,t);else if(an(t,"readystatechange"),4==_i(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(xG)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!jme.test(i?i.toLowerCase():"")}n=r}if(n)an(t,"complete"),an(t,"success");else{t.m=6;try{var s=2<_i(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",HG(t)}}finally{L_(t)}}}function L_(t,e){if(t.g){zG(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||an(t,"ready");try{n.onreadystatechange=r}catch{}}}function zG(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function _i(t){return t.g?t.g.readyState:0}function qG(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $G:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WG(t){let e="";return X0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function wA(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=WG(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function xh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KG(t){this.Ga=0,this.j=[],this.l=new D_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xh("baseRetryDelayMs",5e3,t),this.hb=xh("retryDelaySeedMs",1e4,t),this.eb=xh("forwardChannelMaxRetries",2,t),this.xa=xh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OG(t&&t.concurrentRequestLimit),this.Ja=new Vme,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function IA(t){if(QG(t),3==t.H){var e=t.W++,n=us(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Nh(t,n),(e=new wh(t,t.l,e)).L=2,e.v=P_(us(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=iz(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ih(e)}nz(t)}function V_(t){t.g&&(CA(t),t.g.cancel(),t.g=null)}function QG(t){V_(t),t.u&&(J.clearTimeout(t.u),t.u=null),B_(t),t.i.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function U_(t){if(!FG(t.i)&&!t.m){t.m=!0;var e=t.Na;ph||dG(),gh||(ph(),gh=!0),aA.add(e,t),t.C=0}}function YG(t,e){var n;n=e?e.m:t.W++;const r=us(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),Nh(t,r),t.o&&t.s&&wA(r,t.o,t.s),n=new wh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XG(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),yA(t.i,n),gA(n,r,e)}function Nh(t,e){t.na&&X0(t.na,function(n,r){qe(e,r,n)}),t.h&&AG({},function(n,r){qe(e,r,n)})}function XG(t,e,n){n=Math.min(t.j.length,n);var r=t.h?gn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Ume(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JG(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ph||dG(),gh||(ph(),gh=!0),aA.add(e,t),t.A=0}}function EA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=yh(gn(t.Ma,t),tz(t,t.A)),t.A++,0))}function CA(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function ZG(t){t.g=new wh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=us(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Nh(t,e),t.o&&t.s&&wA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=P_(us(e)),n.s=null,n.S=!0,bG(n,t)}function B_(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function ez(t,e){var n=null;if(t.g==e){B_(t),CA(t),t.g=null;var r=2}else{if(!_A(t.i,e))return;n=e.F,VG(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;an(r=S_(),new vG(r,n)),U_(t)}else JG(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function qme(t,e){return!(LG(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=yh(gn(t.Na,t,e),tz(t,t.C)),t.C++,0)))}(t,e)||2==r&&EA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ma(t,5);break;case 4:ma(t,10);break;case 3:ma(t,6);break;default:ma(t,2)}}function tz(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ma(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=gn(t.pb,t);n||(n=new ga("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||R_(n,"https"),P_(n)),function Bme(t,e){const n=new D_;if(J.Image){const r=new Image;r.onload=w_(O_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w_(O_,n,r,"TestLoadImage: error",!1,e),r.onabort=w_(O_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w_(O_,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),nz(t),QG(t)}function nz(t){if(t.H=0,t.ma=[],t.h){const e=UG(t.i);(0!=e.length||0!=t.j.length)&&(XH(t.ma,e),XH(t.ma,t.j),t.i.i.length=0,H0(t.j),t.j.length=0),t.h.ya()}}function rz(t,e,n){var r=n instanceof ga?us(n):new ga(n);if(""!=r.g)e&&(r.g=e+"."+r.g),k_(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ga(null);r&&R_(s,r),e&&(s.g=e),i&&k_(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&qe(r,n,e),qe(r,"VER",t.ra),Nh(t,r),r}function iz(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ht(n&&t.Ha&&!t.va?new Dh({ob:!0}):t.va)).Oa(t.J),e}function sz(){}function $_(){if(fc&&!(10<=Number(sme)))throw Error("Environmental error: no available transport.")}function cr(t,e){Gt.call(this),this.g=new KG(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!dh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new mc(this)}function oz(t){dA.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function az(){hA.call(this),this.status=1}function mc(t){this.g=t}function jr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bA(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(k=ht.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fA.g(),this.C=function IG(t){return t.h||(t.h=t.i())}(this.u?this.u:fA),this.g.onreadystatechange=gn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void jG(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=YH(Hme,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zG(this),0<this.B&&((this.L=function Gme(t){return fc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.ua,this)):this.A=cA(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jG(this,s)}},k.ua=function(){typeof $0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,an(this,"complete"),an(this,"abort"),L_(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),L_(this,!0)),ht.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?GG(this):this.kb())},k.kb=function(){GG(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$me(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=KG.prototype).ra=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nG(s),iG(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XG(this,i,e),qe(n=us(this.I),"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Nh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(WG(s)))+"&"+e:this.o&&wA(n,this.o,s)),yA(this.i,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.aa=!0,gA(i,n,null)):gA(i,n,e),this.H=2}}else 3==this.H&&(t?YG(this,t):0==this.j.length||FG(this.i)||YG(this))},k.Ma=function(){if(this.u=null,ZG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yh(gn(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),V_(this),ZG(this))},k.ib=function(){null!=this.v&&(this.v=null,V_(this),EA(this),Rn(19))},k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=sz.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},$_.prototype.g=function(t,e){return new cr(t,e)},Ht(cr,Gt),cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rz(t,null,t.Y),U_(t)},cr.prototype.close=function(){IA(this.g)},cr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=oA(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&U_(e)},cr.prototype.N=function(){this.g.h=null,delete this.j,IA(this.g),delete this.g,cr.$.N.call(this)},Ht(oz,dA),Ht(az,hA),Ht(mc,sz),mc.prototype.Ba=function(){an(this.g,"a")},mc.prototype.Aa=function(t){an(this.g,new oz(t))},mc.prototype.za=function(t){an(this.g,new az)},mc.prototype.ya=function(){an(this.g,"b")},Ht(jr,function Wme(){this.blockSize=-1}),jr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},jr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)bA(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){bA(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){bA(this,r),i=0;break}}this.h=i,this.i+=e},jr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Kme={};function TA(t){return-128<=t&&128>t?function nme(t,e){var n=Kme;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|t],0>t?-1:0)}function yi(t){if(isNaN(t)||!isFinite(t))return _c;if(0>t)return un(yi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=DA;return new Me(e,0)}var DA=4294967296,_c=TA(0),SA=TA(1),cz=TA(16777216);function cs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Dr(t){return-1==t.h}function un(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(SA)}function j_(t,e){return t.add(un(e))}function H_(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mh(t,e){this.g=t,this.h=e}function G_(t,e){if(cs(e))throw Error("division by zero");if(cs(t))return new Mh(_c,_c);if(Dr(t))return e=G_(un(t),e),new Mh(un(e.g),un(e.h));if(Dr(e))return e=G_(t,un(e)),new Mh(un(e.g),e.h);if(30<t.g.length){if(Dr(t)||Dr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=SA,r=e;0>=r.X(t);)n=lz(n),r=lz(r);var i=yc(n,1),s=yc(r,1);for(r=yc(r,2),n=yc(n,2);!cs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=yc(r,1),n=yc(n,1)}return e=j_(t,i.R(e)),new Mh(i,e)}for(i=_c;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yi(n)).R(e);Dr(o)||0<o.X(t);)o=(s=yi(n-=r)).R(e);cs(s)&&(s=SA),i=i.add(s),t=j_(t,o)}return new Mh(i,t)}function lz(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function yc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}(k=Me.prototype).ea=function(){if(Dr(this))return-un(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:DA+r)*e,e*=DA}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(cs(this))return"0";if(Dr(this))return"-"+un(this).toString(t);for(var e=yi(Math.pow(t,6)),n=this,r="";;){var i=G_(n,e).g,s=((0<(n=j_(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(cs(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return Dr(t=j_(this,t))?-1:cs(t)?0:1},k.abs=function(){return Dr(this)?un(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Me(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(cs(this)||cs(t))return _c;if(Dr(this))return Dr(t)?un(this).R(un(t)):un(un(this).R(t));if(Dr(t))return un(this.R(un(t)));if(0>this.X(cz)&&0>t.X(cz))return yi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,H_(n,2*r+2*i),n[2*r+2*i+1]+=s*u,H_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,H_(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,H_(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)},k.gb=function(t){return G_(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)},$_.prototype.createWebChannel=$_.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,A_.NO_ERROR=0,A_.TIMEOUT=8,A_.HTTP_ERROR=6,wG.COMPLETE="complete",EG.EventType=vh,vh.OPEN="a",vh.CLOSE="b",vh.ERROR="c",vh.MESSAGE="d",Gt.prototype.listen=Gt.prototype.O,ht.prototype.listenOnce=ht.prototype.P,ht.prototype.getLastError=ht.prototype.Sa,ht.prototype.getLastErrorCode=ht.prototype.Ia,ht.prototype.getStatus=ht.prototype.da,ht.prototype.getResponseJson=ht.prototype.Wa,ht.prototype.getResponseText=ht.prototype.ja,ht.prototype.send=ht.prototype.ha,ht.prototype.setWithCredentials=ht.prototype.Oa,jr.prototype.digest=jr.prototype.l,jr.prototype.reset=jr.prototype.reset,jr.prototype.update=jr.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=yi,Me.fromString=function uz(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return un(uz(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yi(Math.pow(e,8)),r=_c,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=yi(Math.pow(e,s)),r=r.R(s).add(yi(o))):r=(r=r.R(n)).add(yi(o))}return r},$r.createWebChannelTransport=function(){return new $_},$r.getStatEventTarget=function(){return S_()},$r.ErrorCode=A_,$r.EventType=wG,$r.Event=fa,$r.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$r.FetchXmlHttpFactory=Dh,$r.WebChannel=EG,$r.XhrIo=ht,$r.Md5=jr;var Qme=$r.Integer=Me;const dz="@firebase/firestore";class zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");let Rh="9.23.0";const no=new ta("@firebase/firestore");function S(t,...e){if(no.logLevel<=we.DEBUG){const n=e.map(xA);no.debug(`Firestore (${Rh}): ${t}`,...n)}}function vt(t,...e){if(no.logLevel<=we.ERROR){const n=e.map(xA);no.error(`Firestore (${Rh}): ${t}`,...n)}}function xA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+t;throw vt(e),new Error(e)}function U(t,e){t||F()}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ot{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class Xme{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jme{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ot;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ot,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ot)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new hz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new zt(e)}}class Zme{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class e_e{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Zme(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t_e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new fz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function n_e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pz{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=n_e(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}class z_{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===z_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof z_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends z_{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(me.fromString(e))}static fromName(e){return new N(me.fromString(e).popFirst(5))}static empty(){return new N(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new me(e.slice()))}}function io(t){return"IndexedDbTransactionError"===t.name}class He{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Y_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Y_(this.root,e,this.comparator,!1)}getReverseIterator(){return new Y_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Y_(this.root,e,this.comparator,!0)}}class Y_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1,cn.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xz(this.data.getIterator())}getIteratorFrom(e){return new xz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class xz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Nz("Invalid base64 string: "+i):i}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function ft(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}Ft.EMPTY_BYTE_STRING=new Ft("");class x_e{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}var St,_e;new He(N.comparator),new He(N.comparator),new He(N.comparator),new We(N.comparator),new We(Q),(_e=St||(St={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS",new Qme([4294967295,4294967295],0);class Aa{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ft(e.integerValue));else if("doubleValue"in e){const r=ft(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),function Fh(t){return 0===t&&1/t==-1/0}(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(function ls(t){return"string"==typeof t?Ft.fromBase64String(t):Ft.fromUint8Array(t)}(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?function Pz(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),N.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Aa.Ve=new Aa,new Uint8Array(0);class yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function by(){return typeof document<"u"?document:null}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class bx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Hx(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Bve{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=pz.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function Vc(t,e){if(vt("AsyncQueue",`${e}: ${t}`),io(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Yq(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Xq=new Map;function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Ry(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class t3{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Qve(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Yq(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t3(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Yme;switch(n.type){case"firstParty":return new e_e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Xq.get(e);n&&(S("ComponentProvider","Removing Datastore"),Xq.delete(e),n.terminate())}(this),Promise.resolve()}}class Jve{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bx(this,"async_queue_retry"),this.Xc=()=>{const n=by();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=by();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=by();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ot;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!io(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,vt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Hx.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Qe extends ff{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jve,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function r3(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new x_e(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Yq(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Bve(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function ewe(t,e){const r="string"==typeof t?t:e||"(default)",i=Ur("object"==typeof t?t:Gs(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Rm("firestore");s&&function Yve(t,e,n,r={}){var i;const s=(t=fe(t,ff))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function vi(t,...e){if(no.logLevel<=we.WARN){const n=e.map(xA);no.warn(`Firestore (${Rh}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=zt.MOCK_USER;else{a=JC(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new zt(c)}t._authCredentials=new Xme(new hz(a,u))}}(i,...s)}return i}!function(t,e=!0){Rh=Zi,Bt(new Pt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Qe(new Jme(n.getProvider("auth-internal")),new t_e(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ye(dz,"3.13.0",t),ye(dz,"3.13.0","esm2017")}();class jy{constructor(e){return e}}const b3="firestore",VN=new O("angularfire2.firestore-instances");function Swe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jy(r)}}const Awe={provide:class Twe{constructor(){return Ws(b3)}},deps:[[new Ee,VN]]},xwe={provide:jy,useFactory:function Dwe(t,e){const n=qs(b3,t,e);return n&&new jy(n)},deps:[[new Ee,VN],Br]};let Nwe=(()=>{class t{constructor(){ye("angularfire",rs.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[xwe,Awe]}),t})();function Mwe(t,...e){return{ngModule:Nwe,providers:[{provide:VN,useFactory:Swe(t),multi:!0,deps:[de,_t,Ks,Qs,[new Ee,ch],[new Ee,cc],...e]}]}}const Rwe=br(ewe,!0);let kwe=(()=>{var t;class e{constructor(r,i){this.auth=r,this.firestore=i,this.user$=QH(this.auth),this.usuario$=QH(this.auth).pipe(Oe(s=>s?(console.log(s),s):q(null)))}registro(r,i){var s=this;return _(function*(){try{return yield zge(s.auth,r,i)}catch{return null}})()}login(r,i){var s=this;return _(function*(){try{return yield Wge(s.auth,r,i)}catch{return null}})()}logout(){return Kge(this.auth)}getUsuarioFire(){return this.auth.currentUser}}return(t=e).\u0275fac=function(r){return new(r||t)($(y_),$(jy))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Pwe(t,e){1&t&&(se(0,"span",20),he(1," El email es requerido "),ue())}function Owe(t,e){1&t&&(se(0,"span",20),he(1," No cumple el formato de email. "),ue())}function Fwe(t,e){1&t&&(se(0,"span",20),he(1," La contrase\xf1a es requerida. "),ue())}let T3=(()=>{var t;class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s,this.message="",this.seleccion="",this.usuario="",this.clave=""}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}ngOnInit(){this.loginForm=this.fb.group({email:["",[gm.required,gm.email]],password:["",[gm.required,gm.minLength(6)]]})}onLogin(){var r=this;return _(function*(){const{email:i,password:s}=r.loginForm.value;try{const o=yield r.authService.login(i,s);o&&(r.message="Bienvenido "+i,console.log("pagina 2"+JSON.stringify(o)),setTimeout(()=>{r.router.navigate(["/home"])},1e3))}catch(o){console.log("pagina error "+o),console.log("error.message "+o.message),r.message=o.message}})()}onChange(r){switch(console.log(r),this.message="",r){case"admin":this.loginForm.setValue({email:"admin@admin.com",password:"111111"}),console.log(this.loginForm.value);break;case"usuario":this.loginForm.setValue({email:"usuario@usuario.com",password:"123456"}),console.log(this.loginForm.value);break;case"fulanito":this.loginForm.setValue({email:"mail@hola.com",password:"clave123"})}}}return(t=e).\u0275fac=function(r){return new(r||t)(D(oae),D(kwe),D(ar))},t.\u0275cmp=Cs({type:t,selectors:[["app-login"]],decls:37,vars:8,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"car"],[1,"card-body"],[1,"tetx-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control",3,"value"],["class","error ion-padding",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"value"],["type","submit",1,"fill","btn-lg","btn-block"],[1,"form-group","mt-3"],["routerLink","/registro",1,"button"],["for","usuarios"],["value","seleccione","okText","Seleccionar","name","usuarios","cancelText","Cancelar",1,"form-control",3,"ngModel","ngModelChange","change"],["value","admin"],["value","usuario"],["value","fulanito"],[1,"error","ion-padding"]],template:function(r,i){1&r&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),he(5,"Login"),ue(),se(6,"form",5),Hn("ngSubmit",function(){return i.onLogin()}),se(7,"H2"),he(8),ue(),se(9,"div",6)(10,"label",7),he(11,"Email"),ue(),Fu(12,"input",8),_g(13,Pwe,2,0,"span",9),_g(14,Owe,2,0,"span",9),ue(),se(15,"div",6)(16,"label",10),he(17,"Clave"),ue(),Fu(18,"input",11),_g(19,Fwe,2,0,"span",9),ue(),se(20,"button",12),he(21,"Ingresar"),ue()(),se(22,"div",13)(23,"p"),he(24," \xbfNo tienes una cuenta? "),se(25,"a",14),he(26,"Registro de usuario"),ue()()(),se(27,"div",13)(28,"label",15),he(29,"Seleccione usuario "),ue(),se(30,"select",16),Hn("ngModelChange",function(o){return i.seleccion=o})("change",function(){return i.onChange(i.seleccion)}),se(31,"option",17),he(32,"admin"),ue(),se(33,"option",18),he(34,"usuario"),ue(),se(35,"option",19),he(36,"Fulanito"),ue()()()()()()()),2&r&&($i(6),Bo("formGroup",i.loginForm),$i(2),KI(i.message),$i(4),yg("value",i.usuario),$i(1),Bo("ngIf",(null==i.loginForm.get("email").errors?null:i.loginForm.get("email").errors.required)&&i.loginForm.get("email").touched),$i(1),Bo("ngIf",null==i.loginForm.get("email").errors?null:i.loginForm.get("email").errors.email),$i(4),yg("value",i.clave),$i(1),Bo("ngIf",(null==i.loginForm.get("password").errors?null:i.loginForm.get("password").errors.required)&&i.loginForm.get("password").touched),$i(11),Bo("ngModel",i.seleccion))},dependencies:[tV,Us,CB,MB,kB,pm,Sm,cB,lB,Dm,KC,GC],styles:['@import"https://fonts.cdnfonts.com/css/sunday-grapes";.fill[_ngcontent-%COMP%]{font-size:20px;font-weight:200;letter-spacing:1px;padding:13px 50px;outline:0;border:1px solid #04049d;cursor:pointer;position:relative;background-color:#0000;margin:20px;color:#f8f7b2;font-family:Sunday Grapes,sans-serif}.fill[_ngcontent-%COMP%]:after{content:"";background-color:#2acdc1;width:100%;z-index:-1;position:absolute;height:100%;top:7px;left:7px;transition:.2s}.fill[_ngcontent-%COMP%]:hover:after{top:0;left:0}h1[_ngcontent-%COMP%]{font-family:Sunday Grapes,sans-serif;font-size:3.1em;-webkit-text-stroke:.01em rgb(10,138,251)}h2[_ngcontent-%COMP%]{font-family:Sunday Grapes,sans-serif;font-size:2.1em;color:red}.row[_ngcontent-%COMP%]{color:#82bff5;-webkit-text-stroke:.2px rgb(10,138,251)}span[_ngcontent-%COMP%]{color:red}']}),e})();const Lwe=[{path:"",component:T3},{path:"login",component:T3},{path:"registro",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-registro"]],decls:10,vars:0,consts:[["type","button","routerLink","/home",1,"btn","btn-primary"],["type","button","routerLink","/login",1,"btn","btn-secondary"],["type","button","routerLink","/error",1,"btn","btn-success"],["type","button","routerLink","/quiensoy",1,"btn","btn-info"]],template:function(r,i){1&r&&(se(0,"p"),he(1,"registro works!"),ue(),se(2,"button",0),he(3,"home"),ue(),se(4,"button",1),he(5," login\n"),ue(),se(6,"button",2),he(7,"error"),ue(),se(8,"button",3),he(9," quiensoy\n"),ue())},dependencies:[Us]}),e})()},{path:"home",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-home"]],decls:10,vars:0,consts:[["type","button","routerLink","/error",1,"btn","btn-primary"],["type","button","routerLink","/login",1,"btn","btn-secondary"],["type","button","routerLink","/registro",1,"btn","btn-success"],["type","button","routerLink","/quiensoy",1,"btn","btn-info"]],template:function(r,i){1&r&&(se(0,"p"),he(1,"home works!"),ue(),se(2,"button",0),he(3,"error"),ue(),se(4,"button",1),he(5," login\n"),ue(),se(6,"button",2),he(7," registro\n"),ue(),se(8,"button",3),he(9," quiensoy\n"),ue())},dependencies:[Us]}),e})()},{path:"quiensoy",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-quiensoy"]],decls:10,vars:0,consts:[["type","button","routerLink","/home",1,"btn","btn-primary"],["type","button","routerLink","/login",1,"btn","btn-secondary"],["type","button","routerLink","/registro",1,"btn","btn-success"],["type","button","routerLink","/error",1,"btn","btn-info"]],template:function(r,i){1&r&&(se(0,"p"),he(1,"quiensoy works!"),ue(),se(2,"button",0),he(3,"home"),ue(),se(4,"button",1),he(5," login\n"),ue(),se(6,"button",2),he(7," registro\n"),ue(),se(8,"button",3),he(9,"error"),ue())},dependencies:[Us]}),e})()},{path:"error",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-error"]],decls:10,vars:0,consts:[["type","button","routerLink","/home",1,"btn","btn-primary"],["type","button","routerLink","/login",1,"btn","btn-secondary"],["type","button","routerLink","/registro",1,"btn","btn-success"],["type","button","routerLink","/quiensoy",1,"btn","btn-info"]],template:function(r,i){1&r&&(se(0,"p"),he(1,"error works!"),ue(),se(2,"button",0),he(3,"home"),ue(),se(4,"button",1),he(5," login\n"),ue(),se(6,"button",2),he(7," registro\n"),ue(),se(8,"button",3),he(9," quiensoy\n"),ue())},dependencies:[Us]}),e})()},{path:"**",redirectTo:"error",pathMatch:"full"}];let Vwe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({imports:[OU.forRoot(Lwe),OU]}),e})(),Uwe=(()=>{var t;class e{constructor(){this.title="tpsaladejuegos"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Fu(0,"router-outlet")},dependencies:[CC]}),e})();const Bwe_firebase={projectId:"tplab4-45942",appId:"1:544089026720:web:12140e7d4d8c437ea759c5",databaseURL:"https://tplab4-45942.firebaseio.com",storageBucket:"tplab4-45942.appspot.com",locationId:"us-central",apiKey:"AIzaSyDaDxkZHkwvJy0N7o_DVcmMXIx_6vPSZ7I",authDomain:"tplab4-45942.firebaseapp.com",messagingSenderId:"544089026720"},D3="@firebase/database";let UN="";class jwe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:$d(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Hwe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Xi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const A3=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jwe(e)}}catch{}return new Hwe},Oa=A3("localStorage"),BN=A3("sessionStorage"),Kc=new ta("@firebase/database"),x3=function(){let t=1;return function(){return t++}}(),N3=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new bae;n.update(e);const r=n.digest();return Am.encodeByteArray(r)},wf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=wf.apply(null,r):e+="object"==typeof r?rn(r):r,e+=" "}return e};let Fa=null,M3=!0;const Kt=function(...t){if(!0===M3&&(M3=!1,null===Fa&&!0===BN.get("logging_enabled")&&function(t,e){M(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Kc.logLevel=we.VERBOSE,Fa=Kc.log.bind(Kc),e&&BN.set("logging_enabled",!0)):"function"==typeof t?Fa=t:(Fa=null,BN.remove("logging_enabled"))}(!0)),Fa){const e=wf.apply(null,t);Fa(e)}},If=function(t){return function(...e){Kt(t,...e)}},$N=function(...t){const e="FIREBASE INTERNAL ERROR: "+wf(...t);Kc.error(e)},Ti=function(...t){const e=`FIREBASE FATAL ERROR: ${wf(...t)}`;throw Kc.error(e),new Error(e)},In=function(...t){const e="FIREBASE WARNING: "+wf(...t);Kc.warn(e)},Hy=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vo="[MIN_NAME]",ms="[MAX_NAME]",La=function(t,e){if(t===e)return 0;if(t===vo||e===ms)return-1;if(e===vo||t===ms)return 1;{const n=O3(t),r=O3(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},qwe=function(t,e){return t===e?0:t<e?-1:1},Ef=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rn(e))},jN=function(t){if("object"!=typeof t||null===t)return rn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=rn(e[r]),n+=":",n+=jN(t[e[r]]);return n+="}",n},k3=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Qt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const P3=function(t){M(!Hy(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Ywe=new RegExp("^-?(0*)\\d{1,10}$"),O3=function(t){if(Ywe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Qc=function(t){try{t()}catch(e){setTimeout(()=>{throw In("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Cf=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class eIe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class tIe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}let bf=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const B3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H3="websocket",G3="long_polling";class GN{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oa.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function z3(t,e,n){let r;if(M("string"==typeof e,"typeof type must == string"),M("object"==typeof n,"typeof params must == object"),e===H3)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==G3)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function nIe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Qt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class rIe{constructor(){this.counters_={}}incrementCounter(e,n=1){Xi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return dae(this.counters_)}}const zN={},qN={};function WN(t){const e=t.toString();return zN[e]||(zN[e]=new rIe),zN[e]}class sIe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=If(e),this.stats_=WN(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),z3(n,G3,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sIe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new KN((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&B3.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wo.forceAllow_=!0}static forceDisallow(){wo.forceDisallow_=!0}static isAvailable(){return!(!wo.forceAllow_&&(wo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=WB(n),i=k3(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class KN{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=x3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=KN.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Kt("frame writing exception"),a.stack&&Kt(a.stack),Kt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Kt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let zy=null;typeof MozWebSocket<"u"?zy=MozWebSocket:typeof WebSocket<"u"&&(zy=WebSocket);let Yc=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=If(this.connId),this.stats_=WN(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&B3.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),z3(n,H3,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oa.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new zy(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==zy&&!t.forceDisallow_}static previouslyFailed(){return Oa.isInMemoryStorage||!0===Oa.get("previous_websocket_failure")}markConnectionHealthy(){Oa.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=$d(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=rn(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=k3(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),J3=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wo,Yc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Yc&&Yc.isAvailable();let i=r&&!Yc.previouslyFailed();if(n.webSocketOnly&&(r||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Yc];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class sW{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=If("c:"+this.id+":"),this.transportManager_=new J3(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ef("t",e),r=Ef("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ef("t",e),r=Ef("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ef("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?$N("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$N("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Cf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class oW{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class aW{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class qy extends aW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ZC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qy}getInitialEvent(e){return M("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Se{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new Se("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Io(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function YN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Tf(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lW(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function Ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Se(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function Pn(t,e){const n=oe(t),r=oe(e);if(null===n)return e;if(n===r)return Pn(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XN(t,e){if(Io(t)!==Io(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Io(t)>Io(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class AIe{constructor(e,n){this.errorPrefix_=n,this.parts_=Tf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lm(this.parts_[r]);dW(this)}}function dW(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Va(t))}function Va(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class JN extends aW{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new JN}getInitialEvent(e){return M("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Df=1e3;let Ky,Ua=(()=>{class t extends oW{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=If("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Df,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JN.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&qy.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(rn(o)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new rc,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Xi(n,"w")){const i=ic(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=km(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=km(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+rn(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):$N("Unrecognized action received from server: "+rn(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Df),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){M(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new sW(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{In(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&In(f),l())}}})()}interrupt(n){Kt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Kt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],nb(this.interruptReasons_)&&(this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>jN(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Se(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Kt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Kt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+UN.replace(/\./g,"-")]=1,ZC()?n["framework.cordova"]=1:JB()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=qy.getInstance().currentlyOnline();return nb(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}class Wy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ce(vo,e),i=new ce(vo,n);return 0!==this.compare(r,i)}minPost(){return ce.MIN}}class pW extends Wy{static get __EMPTY_NODE(){return Ky}static set __EMPTY_NODE(e){Ky=e}compare(e,n){return La(e.name,n.name)}isDefinedOn(e){throw nc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(ms,Ky)}makePost(e,n){return M("string"==typeof e,"KeyIndex indexValue must always be a string."),new ce(e,Ky)}toString(){return".key"}}const Di=new pW;class Qy{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let eM,Gr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Yn.EMPTY_NODE,this.right=o??Yn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Yn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Yn{constructor(e,n=Yn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Yn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gr.BLACK,null,null))}remove(e){return new Yn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qy(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qy(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qy(this.root_,null,this.comparator_,!0,e)}}function FIe(t,e){return La(t.name,e.name)}function ZN(t,e){return La(t,e)}Yn.EMPTY_NODE=new class OIe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gW=function(t){return"number"==typeof t?"number:"+P3(t):"string:"+t},mW=function(t){if(t.isLeafNode()){const e=t.val();M("string"==typeof e||"number"==typeof e||"object"==typeof e&&Xi(e,".sv"),"Priority must be a string or number.")}else M(t===eM||t.isEmpty(),"priority of unexpected type.");M(t===eM||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let _W,yW,vW,Xc=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mW(this.priorityNode_)}static set __childrenNodeConstructor(n){_W=n}static get __childrenNodeConstructor(){return _W}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ae(n)?this:".priority"===oe(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=oe(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(M(".priority"!==i||1===Io(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+gW(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?P3(this.value_):this.value_,this.lazyHash_=N3(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return M(s>=0,"Unknown leaf type: "+r),M(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ge=new class BIe extends Wy{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?La(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(ms,new Xc("[PRIORITY-POST]",vW))}makePost(e,n){const r=yW(e);return new ce(n,new Xc("[PRIORITY-POST]",r))}toString(){return".priority"}},$Ie=Math.log(2);class jIe{constructor(e){this.count=parseInt(Math.log(e+1)/$Ie,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yy=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Gr(h,d.node,Gr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Gr(h,d.node,Gr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const m=d-p,v=d;d-=p;const y=i(m+1,v),E=t[m],A=n?n(E):E;f(new Gr(A,E.node,g,null,y))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),m=Math.pow(2,u.count-(p+1));g?h(m,Gr.BLACK):(h(m,Gr.BLACK),h(m,Gr.RED))}return l}(new jIe(t.length));return new Yn(r||e,a)};let tM;const Jc={};class _s{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M(Jc&&Ge,"ChildrenNode.ts has not been loaded"),tM=tM||new _s({".priority":Jc},{".priority":Ge}),tM}get(e){const n=ic(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Yn?n:null}hasIndex(e){return Xi(this.indexSet_,e.toString())}addIndex(e,n){M(e!==Di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ce.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Yy(r,e.getCompare()):Jc;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new _s(l,c)}addToIndexes(e,n){const r=Pm(this.indexes_,(i,s)=>{const o=ic(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===Jc){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(ce.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Yy(a,o.getCompare())}return Jc}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new ce(e.name,a))),u.insert(e,e.node)}});return new _s(r,this.indexSet_)}removeFromIndexes(e,n){const r=Pm(this.indexes_,i=>{if(i===Jc)return i;{const s=n.get(e.name);return s?i.remove(new ce(e.name,s)):i}});return new _s(r,this.indexSet_)}}let Sf,te=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mW(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sf||(Sf=new t(new Yn(ZN),null,_s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sf}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Sf:r}}getChild(n){const r=oe(n);return null===r?this:this.getImmediateChild(r).getChild(Le(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ce(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Sf:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=oe(n);if(null===i)return r;{M(".priority"!==oe(n)||1===Io(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Le(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ge,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+gW(this.getPriority().val())+":"),this.forEachChild(Ge,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":N3(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ce(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ce(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ce(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ce.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ce.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Af?-1:0}withIndex(n){if(n===Di||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Di||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ge),s=r.getIterator(Ge);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Di?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Af=new class HIe extends te{constructor(){super(new Yn(ZN),te.EMPTY_NODE,_s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ce,{MIN:{value:new ce(vo,te.EMPTY_NODE)},MAX:{value:new ce(ms,Af)}}),pW.__EMPTY_NODE=te.EMPTY_NODE,Xc.__childrenNodeConstructor=te,function LIe(t){eM=t}(Af),function UIe(t){vW=t}(Af);const GIe=!0;function st(t,e=null){if(null===t)return te.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),M(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Xc(t,st(e));if(t instanceof Array||!GIe){let n=te.EMPTY_NODE;return Qt(t,(r,i)=>{if(Xi(t,r)&&"."!==r.substring(0,1)){const s=st(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(st(e))}{const n=[];let r=!1;if(Qt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=st(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ce(o,u)))}}),0===n.length)return te.EMPTY_NODE;const s=Yy(n,FIe,o=>o.name,ZN);if(r){const o=Yy(n,Ge.getCompare());return new te(s,st(e),new _s({".priority":o},{".priority":Ge}))}return new te(s,st(e),_s.Default)}}!function VIe(t){yW=t}(st);class nM extends Wy{constructor(e){super(),this.indexPath_=e,M(!ae(e)&&".priority"!==oe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?La(e.name,n.name):s}makePost(e,n){const r=st(e),i=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(n,i)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Af);return new ce(ms,e)}toString(){return Tf(this.indexPath_,0).join("/")}}const rM=new class zIe extends Wy{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?La(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const r=st(e);return new ce(n,r)}toString(){return".value"}};function Nf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class sM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vo}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new sM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function IW(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===rM?n="$value":t.index_===Di?n="$key":(M(t.index_ instanceof nM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=rn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+rn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=rn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+rn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function EW(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}class Jy extends oW{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=If("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jy.getListenId_(e,r),a={};this.listens_[o]=a;const u=IW(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),ic(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=Jy.getListenId_(e,n);delete this.listens_[r]}get(e){const n=IW(e._queryParams),r=e._path.toString(),i=new rc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jd(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=$d(a.responseText)}catch{In("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&In("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class ZIe{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Zy(){return{value:null,children:new Map}}function el(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=oe(e);t.children.has(r)||t.children.set(r,Zy()),el(t.children.get(r),e=Le(e),n)}}function cM(t,e,n){null!==t.value?n(e,t.value):function eEe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{cM(i,new Se(e.toString()+"/"+r),n)})}class tEe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class iEe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tEe(e);const r=1e4+2e4*Math.random();Cf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qt(e,(i,s)=>{s>0&&Xi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Cf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Si=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Si||{});function hM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class ev{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ae(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new ev(Ie(),n,this.revert)}}return M(oe(this.path)===e,"operationForChild called for unrelated child."),new ev(Le(this.path),this.affectedTree,this.revert)}}class Ba{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Si.OVERWRITE}operationForChild(e){return ae(this.path)?new Ba(this.source,Ie(),this.snap.getImmediateChild(e)):new Ba(this.source,Le(this.path),this.snap)}}class tl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Si.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new Ba(this.source,Ie(),n.value):new tl(this.source,Ie(),n)}return M(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tl(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Eo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function kf(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function uEe(t,e,n){if(null==e.childName||null==n.childName)throw nc("Should only compare child_ events.");const r=new ce(e.childName,e.snapshotNode),i=new ce(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function aEe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function tv(t,e){return{eventCache:t,serverCache:e}}function Pf(t,e,n,r){return tv(new Eo(e,n,r),t.serverCache)}function bW(t,e,n,r){return tv(t.eventCache,new Eo(e,n,r))}function nv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $a(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let fM;class ze{constructor(e,n=(()=>(fM||(fM=new Yn(qwe)),fM))()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return Qt(e,(r,i)=>{n=n.set(new Se(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ie(),value:this.value};if(ae(e))return null;{const r=oe(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Le(e),n);return null!=s?{path:Ze(new Se(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=oe(e),r=this.children.get(n);return null!==r?r.subtree(Le(e)):new ze(null)}}set(e,n){if(ae(e))return new ze(n,this.children);{const r=oe(e),s=(this.children.get(r)||new ze(null)).set(Le(e),n),o=this.children.insert(r,s);return new ze(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=oe(e),r=this.children.get(n);if(r){const i=r.remove(Le(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new ze(null):new ze(this.value,s)}return this}}get(e){if(ae(e))return this.value;{const n=oe(e),r=this.children.get(n);return r?r.get(Le(e)):null}}setTree(e,n){if(ae(e))return n;{const r=oe(e),s=(this.children.get(r)||new ze(null)).setTree(Le(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new ze(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ze(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(ae(e))return null;{const s=oe(e),o=this.children.get(s);return o?o.findOnPath_(Le(e),Ze(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);const i=oe(e),s=this.children.get(i);return s?s.foreachOnPath_(Le(e),Ze(n,i),r):new ze(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class zr{constructor(e){this.writeTree_=e}static empty(){return new zr(new ze(null))}}function Of(t,e,n){if(ae(e))return new zr(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Pn(i,e);return s=s.updateChild(o,n),new zr(t.writeTree_.set(i,s))}{const i=new ze(n),s=t.writeTree_.setTree(e,i);return new zr(s)}}}function pM(t,e,n){let r=t;return Qt(n,(i,s)=>{r=Of(r,Ze(e,i),s)}),r}function TW(t,e){if(ae(e))return zr.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new zr(n)}}function gM(t,e){return null!=ja(t,e)}function ja(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Pn(n.path,e)):null}function DW(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ge,(r,i)=>{e.push(new ce(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ce(r,i.value))}),e}function Co(t,e){if(ae(e))return t;{const n=ja(t,e);return new zr(null!=n?new ze(n):t.writeTree_.subtree(e))}}function mM(t){return t.writeTree_.isEmpty()}function nl(t,e){return SW(Ie(),t.writeTree_,e)}function SW(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(M(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=SW(Ze(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Ze(t,".priority"),r)),n}}function rv(t,e){return RW(e,t)}function pEe(t,e){if(t.snap)return Sr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sr(Ze(t.path,n),e))return!0;return!1}function mEe(t){return t.visible}function AW(t,e,n){let r=zr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Sr(n,o)?(a=Pn(n,o),r=Of(r,a,s.snap)):Sr(o,n)&&(a=Pn(o,n),r=Of(r,Ie(),s.snap.getChild(a)));else{if(!s.children)throw nc("WriteRecord should have .snap or .children");if(Sr(n,o))a=Pn(n,o),r=pM(r,a,s.children);else if(Sr(o,n))if(a=Pn(o,n),ae(a))r=pM(r,Ie(),s.children);else{const u=ic(s.children,oe(a));if(u){const c=u.getChild(Le(a));r=Of(r,Ie(),c)}}}}}return r}function xW(t,e,n,r,i){if(r||i){const s=Co(t.visibleWrites,e);return!i&&mM(s)?n:i||null!=n||gM(s,Ie())?nl(AW(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Sr(c.path,e)||Sr(e,c.path))},e),n||te.EMPTY_NODE):null}{const s=ja(t.visibleWrites,e);if(null!=s)return s;{const o=Co(t.visibleWrites,e);return mM(o)?n:null!=n||gM(o,Ie())?nl(o,n||te.EMPTY_NODE):null}}}function iv(t,e,n,r){return xW(t.writeTree,t.treePath,e,n,r)}function _M(t,e){return function _Ee(t,e,n){let r=te.EMPTY_NODE;const i=ja(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Co(t.visibleWrites,e);return n.forEachChild(Ge,(o,a)=>{const u=nl(Co(s,new Se(o)),a);r=r.updateImmediateChild(o,u)}),DW(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return DW(Co(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function NW(t,e,n,r){return function yEe(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ze(e,n);if(gM(t.visibleWrites,s))return null;{const o=Co(t.visibleWrites,s);return mM(o)?i.getChild(n):nl(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function sv(t,e){return function wEe(t,e){return ja(t.visibleWrites,e)}(t.writeTree,Ze(t.treePath,e))}function yM(t,e,n){return function vEe(t,e,n,r){const i=Ze(e,n),s=ja(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?nl(Co(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function MW(t,e){return RW(Ze(t.treePath,e),t.writeTree)}function RW(t,e){return{treePath:t,writeTree:e}}class bEe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;M("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),M(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,Nf(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function xf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Zc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw nc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Nf(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const kW=new class TEe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class vM{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Eo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yM(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$a(this.viewCache_),s=function CEe(t,e,n,r,i,s){return function IEe(t,e,n,r,i,s,o){let a;const u=Co(t.visibleWrites,e),c=ja(u,Ie());if(null!=c)a=c;else{if(null==n)return[];a=nl(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function PW(t,e,n,r,i,s){const o=e.eventCache;if(null!=sv(r,n))return e;{let a,u;if(ae(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=$a(e),d=_M(r,c instanceof te?c:te.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=iv(r,$a(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=oe(n);if(".priority"===c){M(1===Io(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=NW(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Le(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=NW(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=yM(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return Pf(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function ov(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(ae(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=oe(n);if(!u.isCompleteForPath(n)&&Io(n)>1)return e;const p=Le(n),m=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),m):l.updateChild(u.getNode(),f,m,p,kW,null)}const d=bW(e,c,u.isFullyInitialized()||ae(n),l.filtersNodes());return PW(t,d,n,i,new vM(i,d,s),a)}function wM(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new vM(i,e,s);if(ae(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Pf(e,c,!0,t.filter.filtersNodes());else{const d=oe(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Pf(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Le(n),f=a.getNode().getImmediateChild(d);let p;if(ae(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===YN(h)&&g.getChild(lW(h)).isEmpty()?g:g.updateChild(h,r):te.EMPTY_NODE}u=f.equals(p)?e:Pf(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function OW(t,e){return t.eventCache.isCompleteForChild(e)}function FW(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function IM(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=ae(n)?r:new ze(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=FW(0,e.serverCache.getNode().getImmediateChild(d),h);u=ov(t,u,new Se(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=FW(0,e.serverCache.getNode().getImmediateChild(d),h);u=ov(t,u,new Se(d),g,i,s,o,a)}}),u}function LEe(t,e){const n=$a(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function UW(t,e,n,r){e.type===Si.MERGE&&null!==e.source.queryId&&(M($a(t.viewCache_),"We should always have a full cache before handling merges"),M(nv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function AEe(t,e,n,r,i){const s=new bEe;let o,a;if(n.type===Si.OVERWRITE){const c=n;c.source.fromUser?o=wM(t,e,c.path,c.snap,r,i,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ae(c.path),o=ov(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Si.MERGE){const c=n;c.source.fromUser?o=function NEe(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=Ze(n,u);OW(e,oe(l))&&(a=wM(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=Ze(n,u);OW(e,oe(l))||(a=wM(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=IM(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Si.ACK_USER_WRITE){const c=n;o=c.revert?function kEe(t,e,n,r,i,s){let o;if(null!=sv(r,n))return e;{const a=new vM(r,e,i),u=e.eventCache.getNode();let c;if(ae(n)||".priority"===oe(n)){let l;if(e.serverCache.isFullyInitialized())l=iv(r,$a(e));else{const d=e.serverCache.getNode();M(d instanceof te,"serverChildren would be complete if leaf node"),l=_M(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=oe(n);let d=yM(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Le(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,te.EMPTY_NODE,Le(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=iv(r,$a(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=sv(r,Ie()),Pf(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function MEe(t,e,n,r,i,s,o){if(null!=sv(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ae(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ov(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ae(n)){let c=new ze(null);return u.getNode().forEachChild(Di,(l,d)=>{c=c.set(new Se(l),d)}),IM(t,e,n,c,i,s,a,o)}return e}{let c=new ze(null);return r.foreach((l,d)=>{const h=Ze(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),IM(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Si.LISTEN_COMPLETE)throw nc("Unknown operation type: "+n.type);o=function REe(t,e,n,r,i){const s=e.serverCache;return PW(t,bW(e,s.getNode(),s.isFullyInitialized()||ae(n),s.isFiltered()),n,r,kW,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function xEe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=nv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function wW(t){return{type:"value",snapshotNode:t}}(nv(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function SEe(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function BW(t,e,n,r){return function oEe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function qIe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),kf(t,i,"child_removed",e,r,n),kf(t,i,"child_added",e,r,n),kf(t,i,"child_moved",s,r,n),kf(t,i,"child_changed",e,r,n),kf(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let av,cv;function EM(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return M(null!=s,"SyncTree gave us an op for an invalid query."),UW(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(UW(o,e,n,r));return s}}function bo(t,e){let n=null;for(const r of t.views.values())n=n||LEe(r,e);return n}class qW{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=function EEe(){return{visibleWrites:zr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CM(t,e,n,r,i){return function lEe(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Of(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?rl(t,new Ba({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Do(t,e,n=!1){const r=function hEe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function fEe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&pEe(a,r.path)?i=!1:Sr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function gEe(t){t.visibleWrites=AW(t.allWrites,mEe,Ie()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=TW(t.visibleWrites,r.path):Qt(r.children,u=>{t.visibleWrites=TW(t.visibleWrites,Ze(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new ze(null);return null!=r.snap?s=s.set(Ie(),!0):Qt(r.children,o=>{s=s.set(new Se(o),!0)}),rl(t,new ev(r.path,s,n))}return[]}function Ff(t,e,n){return rl(t,new Ba({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function dv(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=bo(a,Pn(o,e));if(c)return c});return xW(i,e,s,n,!0)}function rl(t,e){return KW(e,t.syncPointTree_,null,rv(t.pendingWriteTree_,Ie()))}function KW(t,e,n,r){if(ae(t.path))return QW(t,e,n,r);{const i=e.get(Ie());null==n&&null!=i&&(n=bo(i,Ie()));let s=[];const o=oe(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=MW(r,o);s=s.concat(KW(a,u,c,l))}return i&&(s=s.concat(EM(i,t,r,n))),s}}function QW(t,e,n,r){const i=e.get(Ie());null==n&&null!=i&&(n=bo(i,Ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=MW(r,o),l=t.operationForChild(o);l&&(s=s.concat(QW(l,a,u,c)))}),i&&(s=s.concat(EM(i,t,r,n))),s}function TM(t,e){return t.tagToQueryMap.get(e)}function DM(t){const e=t.indexOf("$");return M(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function SM(t,e,n){const r=t.syncPointTree_.get(e);return M(r,"Missing sync point for query tag that we're tracking"),EM(r,n,rv(t.pendingWriteTree_,e),null)}class AM{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new AM(n)}node(){return this.node_}}class xM{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ze(this.path_,e);return new xM(this.syncTree_,n)}node(){return dv(this.syncTree_,this.path_)}}const iCe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},XW=function(t,e,n){return t&&"object"==typeof t?(M(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?sCe(t[".sv"],e,n):"object"==typeof t[".sv"]?oCe(t[".sv"],e):void M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},sCe=function(t,e,n){if("timestamp"===t)return n.timestamp;M(!1,"Unexpected server value: "+t)},oCe=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&M(!1,"Unexpected increment value: "+r);const i=e.node();if(M(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},JW=function(t,e,n,r){return MM(e,new xM(n,t),r)},NM=function(t,e,n){return MM(t,new AM(e),n)};function MM(t,e,n){const r=t.getPriority().val(),i=XW(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=XW(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Xc(a,st(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Xc(i))),o.forEachChild(Ge,(a,u)=>{const c=MM(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class RM{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function fv(t,e){let n=e instanceof Se?e:new Se(e),r=t,i=oe(n);for(;null!==i;){const s=ic(r.node.children,i)||{children:{},childCount:0};r=new RM(i,r,s),n=Le(n),i=oe(n)}return r}function Ha(t){return t.node.value}function kM(t,e){t.node.value=e,PM(t)}function ZW(t){return t.node.childCount>0}function pv(t,e){Qt(t.node.children,(n,r)=>{e(new RM(n,t,r))})}function e6(t,e,n,r){n&&!r&&e(t),pv(t,i=>{e6(i,e,!0,r)}),n&&r&&e(t)}function Uf(t){return new Se(null===t.parent?t.name:Uf(t.parent)+"/"+t.name)}function PM(t){null!==t.parent&&function cCe(t,e,n){const r=function aCe(t){return void 0===Ha(t)&&!ZW(t)}(n),i=Xi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,PM(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,PM(t))}(t.parent,t.name,t)}const lCe=/[\[\].#$\/\u0000-\u001F\u007F]/,dCe=/[\[\].#$\u0000-\u001F\u007F]/,OM=10485760,gv=function(t){return"string"==typeof t&&0!==t.length&&!lCe.test(t)},$f=function(t,e,n){const r=n instanceof Se?new AIe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Va(r));if("function"==typeof e)throw new Error(t+"contains a function "+Va(r)+" with contents = "+e.toString());if(Hy(e))throw new Error(t+"contains "+e.toString()+" "+Va(r));if("string"==typeof e&&e.length>OM/3&&Lm(e)>OM)throw new Error(t+"contains a string greater than "+OM+" utf8 bytes "+Va(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Qt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!gv(o)))throw new Error(t+" contains an invalid key ("+o+") "+Va(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function xIe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lm(e),dW(t)})(r,o),$f(t,a,r),function NIe(t){const e=t.parts_.pop();t.byteLength_-=Lm(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Va(r)+" in addition to actual children.")}},r6=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!gv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!dCe.test(t)}(t)}(n))throw new Error(function Fm(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gCe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hr(t,e,n){(function mv(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!XN(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function s6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(mCe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Sr(r,e)||Sr(e,r))}function mCe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Fa&&Kt("event: "+n.toString()),Qc(r)}}}const _Ce=25;class yCe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gCe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zy(),this.transactionQueueTree_=new RM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function a6(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Hf(t){return iCe({timestamp:a6(t)})}function u6(t,e,n,r,i){t.dataUpdateCount++;const s=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Pm(n,c=>st(c));o=function JEe(t,e,n,r){const i=TM(t,r);if(i){const s=DM(i),o=s.path,a=s.queryId,u=Pn(o,e),c=ze.fromObject(n);return SM(t,o,new tl(hM(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=st(n);o=function WW(t,e,n,r){const i=TM(t,r);if(null!=i){const s=DM(i),o=s.path,a=s.queryId,u=Pn(o,e);return SM(t,o,new Ba(hM(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=Pm(n,c=>st(c));o=function QEe(t,e,n){const r=ze.fromObject(n);return rl(t,new tl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=st(n);o=Ff(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=sl(t,s)),hr(t.eventQueue_,a,o)}function c6(t,e){VM(t,"connected",e),!1===e&&function CCe(t){il(t,"onDisconnectEvents");const e=Hf(t),n=Zy();cM(t.onDisconnect_,Ie(),(i,s)=>{const o=JW(i,s,t.serverSyncTree_,e);el(n,i,o)});let r=[];cM(n,Ie(),(i,s)=>{r=r.concat(Ff(t.serverSyncTree_,i,s));const o=function jM(t,e){const n=Uf(h6(t,e)),r=fv(t.transactionQueueTree_,e);return function uCe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{HM(t,i)}),HM(t,r),e6(r,i=>{HM(t,i)}),n}(t,i);sl(t,o)}),t.onDisconnect_=Zy(),hr(t.eventQueue_,Ie(),r)}(t)}function VM(t,e,n){const r=new Se("/.info/"+e),i=st(n);t.infoData_.updateSnapshot(r,i);const s=Ff(t.infoSyncTree_,r,i);hr(t.eventQueue_,r,s)}function _v(t){return t.nextWriteId_++}function il(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Kt(n,...e)}function $M(t,e,n){return dv(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function yv(t,e=t.transactionQueueTree_){if(e||vv(t,e),Ha(e)){const n=f6(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function NCe(t,e,n){const r=n.map(c=>c.currentWriteId),i=$M(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];M(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=Pn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{il(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Do(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();vv(t,fv(t.transactionQueueTree_,e)),yv(t,t.transactionQueueTree_),hr(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)Qc(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{In("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}sl(t,e)}},o)}(t,Uf(e),n)}else ZW(e)&&pv(e,n=>{yv(t,n)})}function sl(t,e){const n=h6(t,e),r=Uf(n);return function MCe(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Pn(n,u.path);let d,l=!1;if(M(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(Do(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=_Ce)l=!0,d="maxretry",i=i.concat(Do(t.serverSyncTree_,u.currentWriteId,!0));else{const h=$M(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){$f("transaction failed: Data returned ",f,u.path);let p=st(f);"object"==typeof f&&null!=f&&Xi(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=u.currentWriteId,v=Hf(t),y=NM(p,h,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=_v(t),o.splice(o.indexOf(m),1),i=i.concat(CM(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(Do(t.serverSyncTree_,m,!0))}else l=!0,d="nodata",i=i.concat(Do(t.serverSyncTree_,u.currentWriteId,!0))}hr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}vv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Qc(r[a]);yv(t,t.transactionQueueTree_)}(t,f6(t,n),r),r}function h6(t,e){let n,r=t.transactionQueueTree_;for(n=oe(e);null!==n&&void 0===Ha(r);)r=fv(r,n),n=oe(e=Le(e));return r}function f6(t,e){const n=[];return p6(t,e,n),n.sort((r,i)=>r.order-i.order),n}function p6(t,e,n){const r=Ha(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);pv(e,i=>{p6(t,i,n)})}function vv(t,e){const n=Ha(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,kM(e,n.length>0?n:void 0)}pv(e,r=>{vv(t,r)})}function HM(t,e){const n=Ha(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Do(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?kM(e,void 0):n.length=s+1,hr(t.eventQueue_,Uf(e),i);for(let o=0;o<r.length;o++)Qc(r[o])}}const GM=function(t,e){const n=PCe(t),r=n.namespace;return"firebase.com"===n.domain&&Ti(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GN(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Se(n.pathString)}},PCe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function RCe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function kCe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class fr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:YN(this._path)}get ref(){return new qr(this._repo,this._path)}get _queryIdentifier(){const e=EW(this._queryParams),n=jN(e);return"{}"===n?"default":n}get _queryObject(){return EW(this._queryParams)}isEqual(e){if(!((e=Ut(e))instanceof fr))return!1;const n=this._repo===e._repo,r=XN(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function DIe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class qr extends fr{constructor(e,n){super(e,n,new sM,!1)}get parent(){const e=lW(this._path);return null===e?null:new qr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function BEe(t){M(!av,"__referenceConstructor has already been defined"),av=t})(qr),function zEe(t){M(!cv,"__referenceConstructor has already been defined"),cv=t}(qr);const qM={};class ebe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function vCe(t,e,n){if(t.stats_=WN(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Jy(t.repoInfo_,(r,i,s,o)=>{u6(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>c6(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ua(t.repoInfo_,e,(r,i,s,o)=>{u6(t,r,i,s,o)},r=>{c6(t,r)},r=>{!function wCe(t,e){Qt(e,(n,r)=>{VM(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function iIe(t,e){const n=t.toString();return qN[n]||(qN[n]=e()),qN[n]}(t.repoInfo_,()=>new iEe(t.stats_,t.server_)),t.infoData_=new ZIe,t.infoSyncTree_=new qW({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Ff(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),VM(t,"connected",!1),t.serverSyncTree_=new qW({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);hr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qr(this._repo,Ie())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function XCe(t,e){const n=qM[e];(!n||n[t.key]!==t)&&Ti(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function d6(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ti("Cannot call "+e+" on a deleted database.")}}function tbe(t=Gs(),e){const n=Ur(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Rm("database");r&&function nbe(t,e,n,r={}){(t=Ut(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ti("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new bf(bf.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:JC(r.mockUserToken,t.app.options.projectId);s=new bf(o)}!function QCe(t,e,n,r){t.repoInfo_=new GN(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Ua.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ua.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function rbe(t){(function $we(t){UN=t})(Zi),Bt(new Pt("database",(e,{instanceIdentifier:n})=>function YCe(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=GM(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=GM(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new bf(bf.OWNER):new tIe(t.name,t.options,e);r6("Invalid Firebase Database URL",o),ae(o.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function JCe(t,e,n,r){let i=qM[e.name];i||(i={},qM[e.name]=i);let s=i[t.toURLString()];return s&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new yCe(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new eIe(t.name,n));return new ebe(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ye(D3,"0.14.4",t),ye(D3,"0.14.4","esm2017")}();class WM{constructor(e){return e}}const C6="database",KM=new O("angularfire2.database-instances");function ube(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new WM(r)}}const cbe={provide:class obe{constructor(){return Ws(C6)}},deps:[[new Ee,KM]]},lbe={provide:WM,useFactory:function abe(t,e){const n=qs(C6,t,e);return n&&new WM(n)},deps:[[new Ee,KM],Br]};let dbe=(()=>{class t{constructor(){ye("angularfire",rs.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[lbe,cbe]}),t})();function hbe(t,...e){return{ngModule:dbe,providers:[{provide:KM,useFactory:ube(t),multi:!0,deps:[de,_t,Ks,Qs,[new Ee,ch],[new Ee,cc],...e]}]}}const fbe=br(tbe,!0),YM="functions";class ybe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return _(function*(){if(n.appCheck){const r=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var n=this;return _(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const XM="us-central1";class wbe{constructor(e,n,r,i,s=XM,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ybe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=XM}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const S6="@firebase/functions";function Nbe(t=Gs(),e=XM){const r=Ur(Ut(t),YM).getImmediate({identifier:e}),i=Rm("functions");return i&&function Mbe(t,e,n){!function Ibe(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(Ut(t),e,n)}(r,...i),r}!function xbe(t,e){Bt(new Pt(YM,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new wbe(s,o,a,u,i,t)},"PUBLIC").setMultipleInstances(!0)),ye(S6,"0.10.0",e),ye(S6,"0.10.0","esm2017")}(fetch.bind(self));class eR{constructor(e){return e}}const x6="functions",tR=new O("angularfire2.functions-instances");function Pbe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new eR(r)}}const Obe={provide:class Rbe{constructor(){return Ws(x6)}},deps:[[new Ee,tR]]},Fbe={provide:eR,useFactory:function kbe(t,e){const n=qs(x6,t,e);return n&&new eR(n)},deps:[[new Ee,tR],Br]};let Lbe=(()=>{class t{constructor(){ye("angularfire",rs.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[Fbe,Obe]}),t})();function Vbe(t,...e){return{ngModule:Lbe,providers:[{provide:tR,useFactory:Pbe(t),multi:!0,deps:[de,_t,Ks,Qs,[new Ee,ch],[new Ee,cc],...e]}]}}const Ube=br(Nbe,!0);class nR{constructor(e){return e}}const N6="messaging",rR=new O("angularfire2.messaging-instances");function jbe(t){return(e,n)=>{if(!Wm.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new nR(r)}}const Hbe={provide:class Bbe{constructor(){return Ws(N6)}},deps:[[new Ee,rR]]},Gbe={provide:nR,useFactory:function $be(t,e){if(!Wm.sync())return null;const n=qs(N6,t,e);return n&&new nR(n)},deps:[[new Ee,rR],Br]};let zbe=(()=>{class t{constructor(){ye("angularfire",rs.full,"fcm")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[Gbe,Hbe,{provide:cd,useValue:Wm.async,multi:!0}]}),t})();function qbe(t,...e){return{ngModule:zbe,providers:[{provide:rR,useFactory:jbe(t),multi:!0,deps:[de,_t,Ks,Qs,...e]}]}}const Wbe=br(ide,!0);class iR{constructor(e){return e}}const M6="remote-config",sR=new O("angularfire2.remote-config-instances");function Ybe(t){return(e,n)=>{if(!Km.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new iR(r)}}const Xbe={provide:class Kbe{constructor(){return Ws(M6)}},deps:[[new Ee,sR]]},Jbe={provide:iR,useFactory:function Qbe(t,e){if(!Km.sync())return null;const n=qs(M6,t,e);return n&&new iR(n)},deps:[[new Ee,sR],Br]};let Zbe=(()=>{class t{constructor(){ye("angularfire",rs.full,"rc")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[Jbe,Xbe,{provide:cd,useValue:Km.async,multi:!0}]}),t})();function eTe(t,...e){return{ngModule:Zbe,providers:[{provide:sR,useFactory:Ybe(t),multi:!0,deps:[de,_t,Ks,Qs,...e]}]}}const tTe=br(Hce,!0),R6="firebasestorage.googleapis.com";class ot extends ur{constructor(e,n,r=0){super(oR(e),`Firebase Storage: ${n} (${oR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return oR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var et=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(et||{});function oR(t){return"storage/"+t}function uR(t){return new ot(et.INVALID_ARGUMENT,t)}function L6(){return new ot(et.APP_DELETED,"The Firebase app was deleted.")}class On{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=On.makeFromUrl(e,n)}catch{return new On(e,"")}if(""===r.path)return r;throw function dTe(t){return new ot(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===R6?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const L=E[A],H=L.regex.exec(e);if(H){let pt=H[L.indices.path];pt||(pt=""),r=new On(H[L.indices.bucket],pt),L.postModify(r);break}}if(null==r)throw function lTe(t){return new ot(et.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class _Te{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function lR(t,e,n,r){if(r<e)throw uR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uR(`Invalid value for '${t}'. Expected ${n} or less.`)}var ul=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ul||{});class CTe{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function wTe(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function aR(){return new ot(et.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?L6():function O6(){return new ot(et.CANCELED,"User canceled the upload/download.")}():function P6(){return new ot(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Tv(!1,null,!0)):this.backoffId_=function yTe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...m){c||(c=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,u())},m)}function h(){s&&clearTimeout(s)}function f(m,...v){if(c)return void h();if(m)return h(),void l.call(null,m,...v);if(u()||o)return h(),void l.call(null,m,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function g(m){p||(p=!0,h(),!c&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new Tv(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ul.NO_ERROR,u=s.getStatus();if(!a||function B6(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===ul.ABORT;return void r(!1,new Tv(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Tv(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function vTe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Tv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class za{constructor(e,n){this._service=e,this._location=n instanceof On?n:On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new za(e,n)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function z6(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function LTe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new On(this._location.bucket,e);return new za(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function mTe(t){return new ot(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function o9(t,e){const n=e?.storageBucket;return null==n?null:On.makeFromBucketSpec(n,t)}class _R{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=R6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?On.makeFromBucketSpec(i,this._host):o9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?On.makeFromBucketSpec(this._url,e):o9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new za(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _Te(L6());{const o=function ATe(t,e,n,r,i,s,o=!0){const a=function U6(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function DTe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function bTe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function TTe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function STe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new CTe(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return _(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const a9="@firebase/storage",c9="storage";function EDe(t=Gs(),e){const r=Ur(t=Ut(t),c9).getImmediate({identifier:e}),i=Rm("storage");return i&&function CDe(t,e,n,r={}){!function IDe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:JC(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function bDe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _R(n,r,i,e,Zi)}!function TDe(){Bt(new Pt(c9,bDe,"PUBLIC").setMultipleInstances(!0)),ye(a9,"0.11.2",""),ye(a9,"0.11.2","esm2017")}();class yR{constructor(e){return e}}const l9="storage",vR=new O("angularfire2.storage-instances");function ADe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yR(r)}}const xDe={provide:class DDe{constructor(){return Ws(l9)}},deps:[[new Ee,vR]]},NDe={provide:yR,useFactory:function SDe(t,e){const n=qs(l9,t,e);return n&&new yR(n)},deps:[[new Ee,vR],Br]};let MDe=(()=>{class t{constructor(){ye("angularfire",rs.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=bt({providers:[NDe,xDe]}),t})();function RDe(t,...e){return{ngModule:MDe,providers:[{provide:vR,useFactory:ADe(t),multi:!0,deps:[de,_t,Ks,Qs,[new Ee,ch],[new Ee,cc],...e]}]}}const kDe=br(EDe,!0);let PDe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[Uwe]}),t.\u0275inj=bt({imports:[Mre,Vwe,ihe(()=>she(Bwe_firebase)),Gge(()=>qge()),hbe(()=>fbe()),Mwe(()=>Rwe()),Vbe(()=>Ube()),qbe(()=>Wbe()),eTe(()=>tTe()),RDe(()=>kDe()),uae,aae]}),e})();xre().bootstrapModule(PDe).catch(t=>console.error(t))}},Pe=>{Pe(Pe.s=675)}]);